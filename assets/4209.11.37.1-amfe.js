(self.webpackChunkayuskey_mfe=self.webpackChunkayuskey_mfe||[]).push([[4209],{45977:(t,s,e)=>{var i=e(94015),r=e(23645)(i);r.push([t.id,".hwgkdrbl[data-v-303b2a9f]{display:block}","",{version:3,sources:["webpack://./src/client/app/common/views/pages/user-groups.vue"],names:[],mappings:"AAAA,2BAA2B,aAAa",sourcesContent:[".hwgkdrbl[data-v-303b2a9f]{display:block}"],sourceRoot:""}]),t.exports=r},9966:(t,s,e)=>{"use strict";e.d(s,{Z:()=>r});const i=e(20144).default.extend({props:{userIds:{required:!0}},data:()=>({us:[]}),async created(){this.us=await this.$root.api("users/show",{userIds:this.userIds})}});const r=(0,e(51900).Z)(i,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",t._l(t.us,(function(t){return e("mk-avatar",{key:t.id,staticStyle:{width:"32px",height:"32px"},attrs:{user:t}})})),1)}),[],!1,null,null,null).exports},4209:(t,s,e)=>{"use strict";e.r(s),e.d(s,{default:()=>u});var i=e(20144),r=e(51436),o=e(67384),n=e(9966);const a=i.default.extend({i18n:(0,o.Z)("common/views/components/user-groups.vue"),components:{XAvatars:n.Z},data:()=>({ownedGroups:[],joinedGroups:[],invites:[],faUsers:r.FVb,faPlus:r.r8p,faCheck:r.LEp,faBan:r.gPx,faEnvelopeOpenText:r.mSY}),mounted(){document.title=this.$root.instanceName,this.$root.api("users/groups/owned").then((t=>{this.ownedGroups=t})),this.$root.api("users/groups/joined").then((t=>{this.joinedGroups=t})),this.$root.api("i/user-group-invites").then((t=>{this.invites=t})),this.$emit("init",{title:this.$t("user-groups"),icon:r.FVb})},methods:{add(){this.$root.dialog({title:this.$t("group-name"),input:!0}).then((async({canceled:t,result:s})=>{if(t)return;const e=await this.$root.api("users/groups/create",{name:s});this.ownedGroups.push(e)}))},acceptInvite(t){this.$root.api("users/groups/invitations/accept",{inviteId:t.id}).then((()=>{this.$root.dialog({type:"success",splash:!0}),this.$root.api("i/user-group-invites").then((t=>{this.invites=t})).then((()=>{this.$root.api("users/groups/joined").then((t=>{this.joinedGroups=t}))}))}))},rejectInvite(t){this.$root.api("users/groups/invitations/reject",{inviteId:t.id}).then((()=>{this.$root.api("i/user-group-invites").then((t=>{this.invites=t}))}))}}});e(51188);const u=(0,e(51900).Z)(a,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("ui-container",{attrs:{"body-togglable":!0},scopedSlots:t._u([{key:"header",fn:function(){return[e("fa",{attrs:{icon:t.faUsers}}),t._v(" "+t._s(t.$t("owned-groups")))]},proxy:!0}])},[e("ui-margin",[e("ui-button",{on:{click:t.add}},[e("fa",{attrs:{icon:t.faPlus}}),t._v(" "+t._s(t.$t("create-group")))],1)],1),t._l(t.ownedGroups,(function(s){return e("div",{key:s.id,staticClass:"hwgkdrbl"},[e("ui-hr"),e("ui-margin",[e("router-link",{attrs:{to:"/i/groups/"+s.id}},[t._v(t._s(s.name))]),e("x-avatars",{staticStyle:{"margin-top":"8px"},attrs:{"user-ids":s.userIds}})],1)],1)}))],2),e("ui-container",{attrs:{"body-togglable":!0},scopedSlots:t._u([{key:"header",fn:function(){return[e("fa",{attrs:{icon:t.faUsers}}),t._v(" "+t._s(t.$t("joined-groups")))]},proxy:!0}])},t._l(t.joinedGroups,(function(s,i){return e("div",{key:s.id,staticClass:"hwgkdrbl"},[0!=i?e("ui-hr"):t._e(),e("ui-margin",[e("div",{staticStyle:{color:"var(--text)"}},[t._v(t._s(s.name))]),e("x-avatars",{staticStyle:{"margin-top":"8px"},attrs:{"user-ids":s.userIds}})],1)],1)})),0),e("ui-container",{attrs:{"body-togglable":!0},scopedSlots:t._u([{key:"header",fn:function(){return[e("fa",{attrs:{icon:t.faEnvelopeOpenText}}),t._v(" "+t._s(t.$t("invites")))]},proxy:!0}])},t._l(t.invites,(function(s,i){return e("div",{key:s.id,staticClass:"fvlojuur"},[0!=i?e("ui-hr"):t._e(),e("ui-margin",[e("div",{staticClass:"name",staticStyle:{color:"var(--text)"}},[t._v(t._s(s.group.name))]),e("x-avatars",{staticStyle:{"margin-top":"8px"},attrs:{"user-ids":s.group.userIds}}),e("ui-horizon-group",[e("ui-button",{on:{click:function(e){return t.acceptInvite(s)}}},[e("fa",{attrs:{icon:t.faCheck}}),t._v(" "+t._s(t.$t("accept-invite")))],1),e("ui-button",{on:{click:function(e){return t.rejectInvite(s)}}},[e("fa",{attrs:{icon:t.faBan}}),t._v(" "+t._s(t.$t("reject-invite")))],1)],1)],1)],1)})),0)],1)}),[],!1,null,"303b2a9f",null).exports},51188:(t,s,e)=>{var i=e(45977);"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,e(45346).Z)("f574e588",i,!0,{})}}]);
//# sourceMappingURL=4209.11.37.1-amfe.js.map