(self.webpackChunkayuskey_mfe=self.webpackChunkayuskey_mfe||[]).push([[7174],{67532:(t,e,a)=>{var r=a(94015),i=a(23645)(r);i.push([t.id,".kudkigyw[data-v-3e8044c8]{display:inline-block;min-width:200px;max-width:450px;margin:8px 0}","",{version:3,sources:["webpack://./src/client/app/common/views/components/page/page.button.vue"],names:[],mappings:"AAAA,2BAA2B,oBAAoB,CAAC,eAAe,CAAC,eAAe,CAAC,YAAY",sourcesContent:[".kudkigyw[data-v-3e8044c8]{display:inline-block;min-width:200px;max-width:450px;margin:8px 0}"],sourceRoot:""}]),t.exports=i},37989:(t,e,a)=>{var r=a(94015),i=a(23645)(r);i.push([t.id,".llumlmnx[data-v-091937dc]{display:inline-block;min-width:300px;max-width:450px;margin:8px 0}","",{version:3,sources:["webpack://./src/client/app/common/views/components/page/page.counter.vue"],names:[],mappings:"AAAA,2BAA2B,oBAAoB,CAAC,eAAe,CAAC,eAAe,CAAC,YAAY",sourcesContent:[".llumlmnx[data-v-091937dc]{display:inline-block;min-width:300px;max-width:450px;margin:8px 0}"],sourceRoot:""}]),t.exports=i},9374:(t,e,a)=>{var r=a(94015),i=a(23645)(r);i.push([t.id,".lzyxtsnt>img[data-v-607015d5]{max-width:100%}","",{version:3,sources:["webpack://./src/client/app/common/views/components/page/page.image.vue"],names:[],mappings:"AAAA,+BAA+B,cAAc",sourcesContent:[".lzyxtsnt>img[data-v-607015d5]{max-width:100%}"],sourceRoot:""}]),t.exports=i},55586:(t,e,a)=>{var r=a(94015),i=a(23645)(r);i.push([t.id,".kudkigyw[data-v-c9bf8cda]{display:inline-block;min-width:300px;max-width:450px;margin:8px 0}","",{version:3,sources:["webpack://./src/client/app/common/views/components/page/page.number-input.vue"],names:[],mappings:"AAAA,2BAA2B,oBAAoB,CAAC,eAAe,CAAC,eAAe,CAAC,YAAY",sourcesContent:[".kudkigyw[data-v-c9bf8cda]{display:inline-block;min-width:300px;max-width:450px;margin:8px 0}"],sourceRoot:""}]),t.exports=i},1576:(t,e,a)=>{var r=a(94015),i=a(23645)(r);i.push([t.id,".ngbfujlo[data-v-7d95ace6]{padding:0 32px 32px;border:2px solid var(--pageBlockBorder);border-radius:6px}@media (max-width:600px){.ngbfujlo[data-v-7d95ace6]{padding:0 16px 16px}.ngbfujlo>.textarea[data-v-7d95ace6]{margin-top:16px;margin-bottom:16px}}","",{version:3,sources:["webpack://./src/client/app/common/views/components/page/page.post.vue"],names:[],mappings:"AAAA,2BAA2B,mBAAmB,CAAC,uCAAuC,CAAC,iBAAiB,CAAC,yBAAyB,2BAA2B,mBAAmB,CAAC,qCAAqC,eAAe,CAAC,kBAAkB,CAAC",sourcesContent:[".ngbfujlo[data-v-7d95ace6]{padding:0 32px 32px;border:2px solid var(--pageBlockBorder);border-radius:6px}@media (max-width:600px){.ngbfujlo[data-v-7d95ace6]{padding:0 16px 16px}.ngbfujlo>.textarea[data-v-7d95ace6]{margin-top:16px;margin-bottom:16px}}"],sourceRoot:""}]),t.exports=i},19349:(t,e,a)=>{var r=a(94015),i=a(23645)(r);i.push([t.id,".sdgxphyu[data-v-71bf0272]{margin:1.5em 0}.sdgxphyu>h2[data-v-71bf0272]{font-size:1.35em;margin:0 0 .5em}.sdgxphyu>h3[data-v-71bf0272],.sdgxphyu>h4[data-v-71bf0272]{font-size:1em;margin:0 0 .5em}","",{version:3,sources:["webpack://./src/client/app/common/views/components/page/page.section.vue"],names:[],mappings:"AAAA,2BAA2B,cAAc,CAAC,8BAA8B,gBAAgB,CAAC,eAAe,CAAC,4DAA4D,aAAa,CAAC,eAAe",sourcesContent:[".sdgxphyu[data-v-71bf0272]{margin:1.5em 0}.sdgxphyu>h2[data-v-71bf0272]{font-size:1.35em;margin:0 0 .5em}.sdgxphyu>h3[data-v-71bf0272],.sdgxphyu>h4[data-v-71bf0272]{font-size:1em;margin:0 0 .5em}"],sourceRoot:""}]),t.exports=i},27363:(t,e,a)=>{var r=a(94015),i=a(23645)(r);i.push([t.id,".hkcxmtwj[data-v-47a18472]{display:inline-block;margin:16px auto}.hkcxmtwj+.hkcxmtwj[data-v-47a18472]{margin-left:16px}","",{version:3,sources:["webpack://./src/client/app/common/views/components/page/page.switch.vue"],names:[],mappings:"AAAA,2BAA2B,oBAAoB,CAAC,gBAAgB,CAAC,qCAAqC,gBAAgB",sourcesContent:[".hkcxmtwj[data-v-47a18472]{display:inline-block;margin:16px auto}.hkcxmtwj+.hkcxmtwj[data-v-47a18472]{margin-left:16px}"],sourceRoot:""}]),t.exports=i},82470:(t,e,a)=>{var r=a(94015),i=a(23645)(r);i.push([t.id,".kudkigyw[data-v-404fa3ca]{display:inline-block;min-width:300px;max-width:450px;margin:8px 0}","",{version:3,sources:["webpack://./src/client/app/common/views/components/page/page.text-input.vue"],names:[],mappings:"AAAA,2BAA2B,oBAAoB,CAAC,eAAe,CAAC,eAAe,CAAC,YAAY",sourcesContent:[".kudkigyw[data-v-404fa3ca]{display:inline-block;min-width:300px;max-width:450px;margin:8px 0}"],sourceRoot:""}]),t.exports=i},45902:(t,e,a)=>{var r=a(94015),i=a(23645)(r);i.push([t.id,".mrdgzndn[data-v-ee2339d2]:not(:first-child){margin-top:.5em}.mrdgzndn[data-v-ee2339d2]:not(:last-child){margin-bottom:.5em}.mrdgzndn>.url[data-v-ee2339d2]{margin:.5em 0}","",{version:3,sources:["webpack://./src/client/app/common/views/components/page/page.text.vue"],names:[],mappings:"AAAA,6CAA6C,eAAe,CAAC,4CAA4C,kBAAkB,CAAC,gCAAgC,aAAa",sourcesContent:[".mrdgzndn[data-v-ee2339d2]:not(:first-child){margin-top:.5em}.mrdgzndn[data-v-ee2339d2]:not(:last-child){margin-bottom:.5em}.mrdgzndn>.url[data-v-ee2339d2]{margin:.5em 0}"],sourceRoot:""}]),t.exports=i},82166:(t,e,a)=>{var r=a(94015),i=a(23645)(r);i.push([t.id,".iroscrza[data-v-4b8c96a8]{overflow:hidden;background:var(--face)}.iroscrza.serif>div[data-v-4b8c96a8]{font-family:serif}.iroscrza.center[data-v-4b8c96a8]{text-align:center}.iroscrza.round[data-v-4b8c96a8]{border-radius:6px}.iroscrza.shadow[data-v-4b8c96a8]{box-shadow:0 3px 8px rgba(0,0,0,.2)}.iroscrza>header>.title[data-v-4b8c96a8]{z-index:1;margin:0;padding:16px 32px;font-size:20px;font-weight:700;color:var(--text);box-shadow:0 var(--lineWidth) rgba(0,0,0,.07)}@media (max-width:600px){.iroscrza>header>.title[data-v-4b8c96a8]{padding:16px 32px;font-size:20px}}@media (max-width:400px){.iroscrza>header>.title[data-v-4b8c96a8]{padding:10px 20px;font-size:16px}}.iroscrza>div[data-v-4b8c96a8]{color:var(--text);padding:24px 32px;font-size:16px}@media (max-width:600px){.iroscrza>div[data-v-4b8c96a8]{padding:24px 32px;font-size:16px}}@media (max-width:400px){.iroscrza>div[data-v-4b8c96a8]{padding:20px;font-size:15px}}.iroscrza>footer[data-v-4b8c96a8]{color:var(--text);padding:0 32px 28px}@media (max-width:600px){.iroscrza>footer[data-v-4b8c96a8]{padding:0 32px 28px}}@media (max-width:400px){.iroscrza>footer[data-v-4b8c96a8]{padding:0 20px 20px;font-size:14px}}.iroscrza>footer>small[data-v-4b8c96a8]{display:block;opacity:.5}.iroscrza>footer>a[data-v-4b8c96a8]{font-size:90%}.iroscrza>footer>a+a[data-v-4b8c96a8]{margin-left:8px}.iroscrza>footer>.like[data-v-4b8c96a8]{margin-top:16px}","",{version:3,sources:["webpack://./src/client/app/common/views/components/page/page.vue"],names:[],mappings:"AAAA,2BAA2B,eAAe,CAAC,sBAAsB,CAAC,qCAAqC,iBAAiB,CAAC,kCAAkC,iBAAiB,CAAC,iCAAiC,iBAAiB,CAAC,kCAAkC,mCAAmC,CAAC,yCAAyC,SAAS,CAAC,QAAQ,CAAC,iBAAiB,CAAC,cAAc,CAAC,eAAe,CAAC,iBAAiB,CAAC,6CAA6C,CAAC,yBAAyB,yCAAyC,iBAAiB,CAAC,cAAc,CAAC,CAAC,yBAAyB,yCAAyC,iBAAiB,CAAC,cAAc,CAAC,CAAC,+BAA+B,iBAAiB,CAAC,iBAAiB,CAAC,cAAc,CAAC,yBAAyB,+BAA+B,iBAAiB,CAAC,cAAc,CAAC,CAAC,yBAAyB,+BAA+B,YAAY,CAAC,cAAc,CAAC,CAAC,kCAAkC,iBAAiB,CAAC,mBAAmB,CAAC,yBAAyB,kCAAkC,mBAAmB,CAAC,CAAC,yBAAyB,kCAAkC,mBAAmB,CAAC,cAAc,CAAC,CAAC,wCAAwC,aAAa,CAAC,UAAU,CAAC,oCAAoC,aAAa,CAAC,sCAAsC,eAAe,CAAC,wCAAwC,eAAe",sourcesContent:[".iroscrza[data-v-4b8c96a8]{overflow:hidden;background:var(--face)}.iroscrza.serif>div[data-v-4b8c96a8]{font-family:serif}.iroscrza.center[data-v-4b8c96a8]{text-align:center}.iroscrza.round[data-v-4b8c96a8]{border-radius:6px}.iroscrza.shadow[data-v-4b8c96a8]{box-shadow:0 3px 8px rgba(0,0,0,.2)}.iroscrza>header>.title[data-v-4b8c96a8]{z-index:1;margin:0;padding:16px 32px;font-size:20px;font-weight:700;color:var(--text);box-shadow:0 var(--lineWidth) rgba(0,0,0,.07)}@media (max-width:600px){.iroscrza>header>.title[data-v-4b8c96a8]{padding:16px 32px;font-size:20px}}@media (max-width:400px){.iroscrza>header>.title[data-v-4b8c96a8]{padding:10px 20px;font-size:16px}}.iroscrza>div[data-v-4b8c96a8]{color:var(--text);padding:24px 32px;font-size:16px}@media (max-width:600px){.iroscrza>div[data-v-4b8c96a8]{padding:24px 32px;font-size:16px}}@media (max-width:400px){.iroscrza>div[data-v-4b8c96a8]{padding:20px;font-size:15px}}.iroscrza>footer[data-v-4b8c96a8]{color:var(--text);padding:0 32px 28px}@media (max-width:600px){.iroscrza>footer[data-v-4b8c96a8]{padding:0 32px 28px}}@media (max-width:400px){.iroscrza>footer[data-v-4b8c96a8]{padding:0 20px 20px;font-size:14px}}.iroscrza>footer>small[data-v-4b8c96a8]{display:block;opacity:.5}.iroscrza>footer>a[data-v-4b8c96a8]{font-size:90%}.iroscrza>footer>a+a[data-v-4b8c96a8]{margin-left:8px}.iroscrza>footer>.like[data-v-4b8c96a8]{margin-top:16px}"],sourceRoot:""}]),t.exports=i},35313:(t,e,a)=>{"use strict";function r(t){const e=[],a=t=>{for(const r of t)"textInput"===r.type||"textareaInput"===r.type?e.push({name:r.name,type:"string",value:r.default||""}):"numberInput"===r.type?e.push({name:r.name,type:"number",value:r.default||0}):"switch"===r.type?e.push({name:r.name,type:"boolean",value:r.default||!1}):"counter"===r.type?e.push({name:r.name,type:"number",value:0}):"radioButton"===r.type?e.push({name:r.name,type:"string",value:r.default||""}):r.children&&a(r.children)};return a(t),e}a.d(e,{k:()=>r})},27120:(t,e,a)=>{"use strict";a.d(e,{iN:()=>o,uA:()=>s,vH:()=>c,Mo:()=>l,kO:()=>p});var r=a(51436),i=a(56024);const o={if:{in:["boolean",0,0],out:0,category:"flow",icon:r.EfQ},for:{in:["number","function"],out:null,category:"flow",icon:r.TZC},not:{in:["boolean"],out:"boolean",category:"logical",icon:i.Rr},or:{in:["boolean","boolean"],out:"boolean",category:"logical",icon:i.Rr},and:{in:["boolean","boolean"],out:"boolean",category:"logical",icon:i.Rr},add:{in:["number","number"],out:"number",category:"operation",icon:r.r8p},subtract:{in:["number","number"],out:"number",category:"operation",icon:r.Kl4},multiply:{in:["number","number"],out:"number",category:"operation",icon:r.NBC},divide:{in:["number","number"],out:"number",category:"operation",icon:r.pGc},mod:{in:["number","number"],out:"number",category:"operation",icon:r.pGc},round:{in:["number"],out:"number",category:"operation",icon:r.lTt},eq:{in:[0,0],out:"boolean",category:"comparison",icon:r.Lvu},notEq:{in:[0,0],out:"boolean",category:"comparison",icon:r.u34},gt:{in:["number","number"],out:"boolean",category:"comparison",icon:r.WqQ},lt:{in:["number","number"],out:"boolean",category:"comparison",icon:r.GQf},gtEq:{in:["number","number"],out:"boolean",category:"comparison",icon:r.GJP},ltEq:{in:["number","number"],out:"boolean",category:"comparison",icon:r.ERW},strLen:{in:["string"],out:"number",category:"text",icon:r.Elr},strPick:{in:["string","number"],out:"string",category:"text",icon:r.Elr},strReplace:{in:["string","string","string"],out:"string",category:"text",icon:r.Elr},strReverse:{in:["string"],out:"string",category:"text",icon:r.Elr},join:{in:["stringArray","string"],out:"string",category:"text",icon:r.Elr},stringToNumber:{in:["string"],out:"number",category:"convert",icon:r.Ssp},numberToString:{in:["number"],out:"string",category:"convert",icon:r.Ssp},splitStrByLine:{in:["string"],out:"stringArray",category:"convert",icon:r.Ssp},pick:{in:[null,"number"],out:null,category:"list",icon:r.s$_},listLen:{in:[null],out:"number",category:"list",icon:r.s$_},rannum:{in:["number","number"],out:"number",category:"random",icon:r.RJo},dailyRannum:{in:["number","number"],out:"number",category:"random",icon:r.RJo},seedRannum:{in:[null,"number","number"],out:"number",category:"random",icon:r.RJo},random:{in:["number"],out:"boolean",category:"random",icon:r.RJo},dailyRandom:{in:["number"],out:"boolean",category:"random",icon:r.RJo},seedRandom:{in:[null,"number"],out:"boolean",category:"random",icon:r.RJo},randomPick:{in:[0],out:0,category:"random",icon:r.RJo},dailyRandomPick:{in:[0],out:0,category:"random",icon:r.RJo},seedRandomPick:{in:[null,0],out:0,category:"random",icon:r.RJo},DRPWPM:{in:["stringArray"],out:"string",category:"random",icon:r.RJo}},n={text:{out:"string",category:"value",icon:r.Elr},multiLineText:{out:"string",category:"value",icon:r.elf},textList:{out:"stringArray",category:"value",icon:r.Zrf},number:{out:"number",category:"value",icon:r.g2k},ref:{out:null,category:"value",icon:r.een},fn:{out:"function",category:"value",icon:r.by$}},s=[...Object.entries(n).map((([t,e])=>({type:t,out:e.out,category:e.category,icon:e.icon}))),...Object.entries(o).map((([t,e])=>({type:t,out:e.out,category:e.category,icon:e.icon})))];function c(t){return"fn"===t.type}const l={AI:"string",URL:"string",VERSION:"string",LOGIN:"boolean",NAME:"string",USERNAME:"string",USERID:"string",NOTES_COUNT:"number",FOLLOWERS_COUNT:"number",FOLLOWING_COUNT:"number",IS_CAT:"boolean",IS_LADY:"boolean",MY_NOTES_COUNT:"number",MY_FOLLOWERS_COUNT:"number",MY_FOLLOWING_COUNT:"number",SEED:null,YMD:"string",NULL:null};function p(t){return null===t.type||!!n[t.type]}},42501:(t,e,a)=>{"use strict";a.d(e,{Z:()=>N});var r=a(20144),i=a(51207),o=a(51802);const n=r.default.extend({props:{value:{required:!0},script:{required:!0}},data(){return{text:this.script.interpolate(this.value.text)}},computed:{urls(){if(this.text){const t=(0,i.Q)(this.text);return(0,o.Tw)(t.filter((t=>("url"==t.node.type||"link"==t.node.type)&&t.node.props.url&&!t.node.props.silent)).map((t=>t.node.props.url)))}return[]}},created(){this.$watch("script.vars",(()=>{this.text=this.script.interpolate(this.value.text)}),{deep:!0})}});a(55985);var s=a(51900);const c=(0,s.Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mrdgzndn"},[a("mfm",{key:t.text,attrs:{text:t.text,i:t.$store.state.i}}),t._l(t.urls,(function(t){return a("mk-url-preview",{key:t,staticClass:"url",attrs:{url:t}})}))],2)}),[],!1,null,"ee2339d2",null).exports;const l=r.default.extend({props:{value:{required:!0},script:{required:!0},page:{required:!0},h:{required:!0}},beforeCreate(){this.$options.components.XBlock=a(42501).Z}});a(69856);const p=(0,s.Z)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"sdgxphyu"},[a("h"+t.h,{tag:"component"},[t._v(t._s(t.value.title))]),a("div",{staticClass:"children"},t._l(t.value.children,(function(e){return a("x-block",{key:e.id,attrs:{value:e,page:t.page,script:t.script,h:t.h+1}})})),1)],1)}),[],!1,null,"71bf0272",null).exports;const u=r.default.extend({props:{value:{required:!0},page:{required:!0}},data:()=>({image:null}),created(){this.image=this.page.attachedFiles.find((t=>t.id===this.value.fileId))}});a(6461);const d=(0,s.Z)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lzyxtsnt"},[t.image?a("img",{attrs:{src:t.image.url}}):t._e()])}),[],!1,null,"607015d5",null).exports;const v=r.default.extend({props:{value:{required:!0},script:{required:!0}},methods:{click(){"dialog"===this.value.action?(this.script.eval(),this.$root.dialog({text:this.script.interpolate(this.value.content)})):"resetRandom"===this.value.action?(this.script.aiScript.updateRandomSeed(Math.random()),this.script.eval()):"pushEvent"===this.value.action&&(this.$root.api("page-push",Object.assign({pageId:this.script.page.id,event:this.value.event},this.value.var?{var:this.script.vars[this.value.var]}:{})),this.$root.dialog({type:"success",text:this.script.interpolate(this.value.message)}))}}});a(78512);const A=(0,s.Z)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ui-button",{staticClass:"kudkigyw",attrs:{primary:t.value.primary},on:{click:function(e){return t.click()}}},[t._v(t._s(t.script.interpolate(t.value.text)))])],1)}),[],!1,null,"3e8044c8",null).exports;const m=r.default.extend({props:{value:{required:!0},script:{required:!0}},data(){return{v:this.value.default}},watch:{v(){this.script.aiScript.updatePageVar(this.value.name,this.v),this.script.eval()}}});a(28371);const g=(0,s.Z)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ui-input",{staticClass:"kudkigyw",attrs:{type:"number"},model:{value:t.v,callback:function(e){t.v=e},expression:"v"}},[t._v(t._s(t.script.interpolate(t.value.text)))])],1)}),[],!1,null,"c9bf8cda",null).exports;const h=r.default.extend({props:{value:{required:!0},script:{required:!0}},data(){return{v:this.value.default}},watch:{v(){this.script.aiScript.updatePageVar(this.value.name,this.v),this.script.eval()}}});a(47363);const x=(0,s.Z)(h,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ui-input",{staticClass:"kudkigyw",attrs:{type:"text"},model:{value:t.v,callback:function(e){t.v=e},expression:"v"}},[t._v(t._s(t.script.interpolate(t.value.text)))])],1)}),[],!1,null,"404fa3ca",null).exports;const f=r.default.extend({props:{value:{required:!0},script:{required:!0}},data(){return{v:this.value.default}},watch:{v(){this.script.aiScript.updatePageVar(this.value.name,this.v),this.script.eval()}}});const C=(0,s.Z)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ui-textarea",{model:{value:t.v,callback:function(e){t.v=e},expression:"v"}},[t._v(t._s(t.script.interpolate(t.value.text)))])],1)}),[],!1,null,"2acc26f5",null).exports;const b=r.default.extend({props:{value:{required:!0},script:{required:!0}},data(){return{v:this.value.default}},watch:{v(){this.script.aiScript.updatePageVar(this.value.name,this.v),this.script.eval()}}});a(32453);const y=(0,s.Z)(b,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hkcxmtwj"},[a("ui-switch",{model:{value:t.v,callback:function(e){t.v=e},expression:"v"}},[t._v(t._s(t.script.interpolate(t.value.text)))])],1)}),[],!1,null,"47a18472",null).exports;const k=r.default.extend({props:{value:{required:!0},script:{required:!0},page:{required:!0},h:{required:!0}},beforeCreate(){this.$options.components.XBlock=a(42501).Z}});const w=(0,s.Z)(k,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.script.vars[t.value.var],expression:"script.vars[value.var]"}]},t._l(t.value.children,(function(e){return a("x-block",{key:e.id,attrs:{value:e,page:t.page,script:t.script,h:t.h}})})),1)}),[],!1,null,null,null).exports;const B=r.default.extend({props:{value:{required:!0},script:{required:!0}},data(){return{text:this.script.interpolate(this.value.text)}},created(){this.$watch("script.vars",(()=>{this.text=this.script.interpolate(this.value.text)}),{deep:!0})}});const _=(0,s.Z)(B,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("ui-textarea",{attrs:{value:t.text,readonly:""}})}),[],!1,null,"2ea1e4b7",null).exports;var $=a(67384);const S=r.default.extend({i18n:(0,$.Z)("pages"),props:{value:{required:!0},script:{required:!0}},data(){return{text:this.script.interpolate(this.value.text),posted:!1,posting:!1}},created(){this.$watch("script.vars",(()=>{this.text=this.script.interpolate(this.value.text)}),{deep:!0})},methods:{post(){this.posting=!0,this.$root.api("notes/create",{text:this.text}).then((()=>{this.posted=!0,this.$root.dialog({type:"success",splash:!0})}))}}});a(6693);const z=(0,s.Z)(S,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ngbfujlo"},[a("ui-textarea",{staticClass:"textarea",attrs:{value:t.text,readonly:""}}),a("ui-button",{attrs:{primary:"",disabled:t.posting||t.posted},on:{click:function(e){return t.post()}}},[t._v(t._s(t.posted?t.$t("posted-from-post-form"):t.$t("post-from-post-form")))])],1)}),[],!1,null,"7d95ace6",null).exports;const R=r.default.extend({props:{value:{required:!0},script:{required:!0}},data:()=>({v:0}),watch:{v(){this.script.aiScript.updatePageVar(this.value.name,this.v),this.script.eval()}},methods:{click(){this.v=this.v+(this.value.inc||1)}}});a(37135);const E=(0,s.Z)(R,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ui-button",{staticClass:"llumlmnx",on:{click:function(e){return t.click()}}},[t._v(t._s(t.script.interpolate(t.value.text)))])],1)}),[],!1,null,"091937dc",null).exports;const q=r.default.extend({props:{value:{required:!0},script:{required:!0}},data(){return{v:this.value.default}},watch:{v(){this.script.aiScript.updatePageVar(this.value.name,this.v),this.script.eval()}}});const L=(0,s.Z)(q,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[t._v(t._s(t.script.interpolate(t.value.title)))]),t._l(t.value.values,(function(e){return a("ui-radio",{key:e,attrs:{value:e},model:{value:t.v,callback:function(e){t.v=e},expression:"v"}},[t._v(t._s(e))])}))],2)}),[],!1,null,"6bfb3a5e",null).exports,O=r.default.extend({components:{XText:c,XSection:p,XImage:d,XButton:A,XNumberInput:g,XTextInput:x,XTextareaInput:C,XTextarea:_,XPost:z,XSwitch:y,XIf:w,XCounter:E,XRadioButton:L},props:{value:{required:!0},script:{required:!0},page:{required:!0},h:{required:!0}}});const N=(0,s.Z)(O,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("x-"+t.value.type,{key:t.value.id,tag:"component",attrs:{value:t.value,page:t.page,script:t.script,h:t.h}})}),[],!1,null,null,null).exports},95249:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>f});var r=a(20144),i=a(67384),o=a(51436),n=a(56024),s=a(42501),c=a(88572),l=a(36377),p=a(27120),u=function(t,e,a,r){var i,o=arguments.length,n=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,a,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(n=(o<3?i(n):o>3?i(e,a,n):i(e,a))||n);return o>3&&n&&Object.defineProperty(e,a,n),n};class d{constructor(t,e,a){this.variables=t,this.pageVars=e,this.opts=a;const r=new Date;this.envVars={AI:"kawaii",VERSION:a.version,URL:a.page?`${a.url}/@${a.page.user.username}/pages/${a.page.name}`:"",LOGIN:null!=a.visitor,NAME:a.visitor?a.visitor.name||a.visitor.username:"",USERNAME:a.visitor?a.visitor.username:"",USERID:a.visitor?a.visitor.id:"",NOTES_COUNT:a.visitor?a.visitor.notesCount:0,FOLLOWERS_COUNT:a.visitor?a.visitor.followersCount:0,FOLLOWING_COUNT:a.visitor?a.visitor.followingCount:0,IS_CAT:!!a.visitor&&a.visitor.isCat,IS_LADY:!!a.visitor&&a.visitor.isLady,MY_NOTES_COUNT:a.user?a.user.notesCount:0,MY_FOLLOWERS_COUNT:a.user?a.user.followersCount:0,MY_FOLLOWING_COUNT:a.user?a.user.followingCount:0,SEED:a.randomSeed?a.randomSeed:"",YMD:`${r.getFullYear()}/${r.getMonth()+1}/${r.getDate()}`,NULL:null}}updatePageVar(t,e){const a=this.pageVars.find((e=>e.name===t));if(void 0===a)throw new v(`No such page var '${t}'`);a.value=e}updateRandomSeed(t){this.opts.randomSeed=t,this.envVars.SEED=t}interpolate(t,e){return t.replace(/{(.+?)}/g,(t=>{const a=e.getState(t.slice(1,-1).trim());return null==a?"NULL":a.toString()}))}evaluateVars(){const t={};for(const[e,a]of Object.entries(this.envVars))t[e]=a;for(const e of this.pageVars)t[e.name]=e.value;for(const e of this.variables)t[e.name]=this.evaluate(e,new A([t]));return t}evaluate(t,e){if(null===t.type)return null;if("number"===t.type)return parseInt(t.value,10);if("text"===t.type||"multiLineText"===t.type)return this.interpolate(t.value||"",e);if("textList"===t.type)return this.interpolate(t.value||"",e).trim().split("\n");if("ref"===t.type)return e.getState(t.value);if((0,p.vH)(t))return{slots:t.value.slots.map((t=>t.name)),exec:a=>this.evaluate(t.value.expression,e.createChildScope(a,t.id))};if(t.type.startsWith("fn:")){const a=t.type.split(":")[1],r=e.getState(a),i={};for(let a=0;a<r.slots.length;a++){i[r.slots[a]]=this.evaluate(t.args[a],e)}return r.exec(i)}if(void 0===t.args)return null;const a=new Date,r=`${this.opts.visitor?this.opts.visitor.id:""} ${a.getFullYear()}/${a.getMonth()+1}/${a.getDate()}`,i={not:t=>!t,or:(t,e)=>t||e,and:(t,e)=>t&&e,eq:(t,e)=>t===e,notEq:(t,e)=>t!==e,gt:(t,e)=>t>e,lt:(t,e)=>t<e,gtEq:(t,e)=>t>=e,ltEq:(t,e)=>t<=e,if:(t,e,a)=>t?e:a,for:(t,e)=>{const a=[];for(let r=0;r<t;r++)a.push(e.exec({[e.slots[0]]:r+1}));return a},add:(t,e)=>t+e,subtract:(t,e)=>t-e,multiply:(t,e)=>t*e,divide:(t,e)=>t/e,mod:(t,e)=>t%e,round:t=>Math.round(t),strLen:t=>t.length,strPick:(t,e)=>t[e-1],strReplace:(t,e,a)=>t.split(e).join(a),strReverse:t=>t.split("").reverse().join(""),join:(t,e)=>t.join(e||""),stringToNumber:t=>parseInt(t),numberToString:t=>t.toString(),splitStrByLine:t=>t.split("\n"),pick:(t,e)=>t[e-1],listLen:t=>t.length,random:e=>Math.floor(100*l(`${this.opts.randomSeed}:${t.id}`)())<e,rannum:(e,a)=>e+Math.floor(l(`${this.opts.randomSeed}:${t.id}`)()*(a-e+1)),randomPick:e=>e[Math.floor(l(`${this.opts.randomSeed}:${t.id}`)()*e.length)],dailyRandom:e=>Math.floor(100*l(`${r}:${t.id}`)())<e,dailyRannum:(e,a)=>e+Math.floor(l(`${r}:${t.id}`)()*(a-e+1)),dailyRandomPick:e=>e[Math.floor(l(`${r}:${t.id}`)()*e.length)],seedRandom:(t,e)=>Math.floor(100*l(t)())<e,seedRannum:(t,e,a)=>e+Math.floor(l(t)()*(a-e+1)),seedRandomPick:(t,e)=>e[Math.floor(l(t)()*e.length)],DRPWPM:e=>{const a=[];let i=0;for(const t of e){const e=t.split(" "),r=parseInt(e.pop(),10),o=e.join(" ");i+=r,a.push({factor:r,text:o})}const o=l(`${r}:${t.id}`)()*i;let n=0;for(const t of a){if(o>=n&&o<=n+t.factor)return t.text;n+=t.factor}return a[0].text}},o=t.type,n=i[o];if(null==n)throw new v(`No such function '${o}'`);return n(...t.args.map((t=>this.evaluate(t,e))))}}u([c.ZP],d.prototype,"updatePageVar",null),u([c.ZP],d.prototype,"updateRandomSeed",null),u([c.ZP],d.prototype,"interpolate",null),u([c.ZP],d.prototype,"evaluateVars",null),u([c.ZP],d.prototype,"evaluate",null);class v extends Error{constructor(t,e){super(t),this.info=e,Error.captureStackTrace&&Error.captureStackTrace(this,v)}}class A{constructor(t,e){this.layerdStates=t,this.name=e||"anonymous"}createChildScope(t,e){const a=[t,...this.layerdStates];return new A(a,e)}getState(t){for(const e of this.layerdStates){const a=e[t];if(void 0!==a)return a}throw new v(`No such variable '${t}' in scope '${this.name}'`,{scope:this.layerdStates})}}u([c.ZP],A.prototype,"createChildScope",null),u([c.ZP],A.prototype,"getState",null);var m=a(35313),g=a(33671);class h{constructor(t,e,a){this.page=t,this.aiScript=e,this.onError=a,this.eval()}eval(){try{this.vars=this.aiScript.evaluateVars()}catch(t){this.onError(t)}}interpolate(t){return null==t?null:t.replace(/{(.+?)}/g,(t=>{const e=this.vars[t.slice(1,-1).trim()];return null==e?"NULL":e.toString()}))}}const x=r.default.extend({i18n:(0,i.Z)("pages"),components:{XBlock:s.Z},props:{page:{type:Object,required:!0},showTitle:{type:Boolean,required:!1,default:!0},showFooter:{type:Boolean,required:!1,default:!1}},data:()=>({script:null,faHeartS:o.m6i,faHeart:n.m6}),created(){const t=this.getPageVars();this.script=new h(this.page,new d(this.page.variables,t,{randomSeed:Math.random(),user:this.page.user,visitor:this.$store.state.i,page:this.page,url:g.HQ}),(t=>{console.dir(t)}))},methods:{getPageVars(){return(0,m.k)(this.page.content)},like(){this.$root.api("pages/like",{pageId:this.page.id}).then((()=>{this.page.isLiked=!0,this.page.likedCount++}))},unlike(){this.$root.api("pages/unlike",{pageId:this.page.id}).then((()=>{this.page.isLiked=!1,this.page.likedCount--}))},pin(t){this.$root.api("i/update",{pinnedPageId:t?this.page.id:null}).then((()=>{this.$root.dialog({type:"success",splash:!0})}))}}});a(96913);const f=(0,a(51900).Z)(x,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"iroscrza",class:{shadow:t.$store.state.device.useShadow,round:t.$store.state.device.roundedCorners,center:t.page.alignCenter,serif:"serif"===t.page.font}},[t.showTitle?a("header",[a("div",{staticClass:"title"},[t._v(t._s(t.page.title))])]):t._e(),t.script?a("div",t._l(t.page.content,(function(e){return a("x-block",{key:e.id,attrs:{value:e,page:t.page,script:t.script,h:2},on:{input:function(e){return t.updateBlock(e)}}})})),1):t._e(),t.showFooter?a("footer",[a("small",[t._v("@"+t._s(t.page.user.username))]),t.$store.getters.isSignedIn&&t.$store.state.i.id===t.page.userId?[a("router-link",{attrs:{to:"/i/pages/edit/"+t.page.id}},[t._v(t._s(t.$t("edit-this-page")))]),t.$store.state.i.pinnedPageId===t.page.id?a("a",{on:{click:function(e){return t.pin(!1)}}},[t._v(t._s(t.$t("unpin-this-page")))]):a("a",{on:{click:function(e){return t.pin(!0)}}},[t._v(t._s(t.$t("pin-this-page")))])]:t._e(),a("router-link",{attrs:{to:"./"+t.page.name+"/view-source"}},[t._v(t._s(t.$t("view-source")))]),a("div",{staticClass:"like"},[t.page.isLiked?a("button",{attrs:{title:t.$t("unlike")},on:{click:function(e){return t.unlike()}}},[a("fa",{attrs:{icon:t.faHeartS}})],1):a("button",{attrs:{title:t.$t("like")},on:{click:function(e){return t.like()}}},[a("fa",{attrs:{icon:t.faHeart}})],1),t.page.likedCount>0?a("span",{staticClass:"count"},[t._v(t._s(t.page.likedCount))]):t._e()])],2):t._e()])}),[],!1,null,"4b8c96a8",null).exports},78512:(t,e,a)=>{var r=a(67532);"string"==typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);(0,a(45346).Z)("6a2bf7e7",r,!0,{})},37135:(t,e,a)=>{var r=a(37989);"string"==typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);(0,a(45346).Z)("167fdc8c",r,!0,{})},6461:(t,e,a)=>{var r=a(9374);"string"==typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);(0,a(45346).Z)("48084d64",r,!0,{})},28371:(t,e,a)=>{var r=a(55586);"string"==typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);(0,a(45346).Z)("5c13cd8c",r,!0,{})},6693:(t,e,a)=>{var r=a(1576);"string"==typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);(0,a(45346).Z)("cb2eb634",r,!0,{})},69856:(t,e,a)=>{var r=a(19349);"string"==typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);(0,a(45346).Z)("2048cac1",r,!0,{})},32453:(t,e,a)=>{var r=a(27363);"string"==typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);(0,a(45346).Z)("79669340",r,!0,{})},47363:(t,e,a)=>{var r=a(82470);"string"==typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);(0,a(45346).Z)("04b19138",r,!0,{})},55985:(t,e,a)=>{var r=a(45902);"string"==typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);(0,a(45346).Z)("645006f2",r,!0,{})},96913:(t,e,a)=>{var r=a(82166);"string"==typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);(0,a(45346).Z)("105ccb53",r,!0,{})},63906:()=>{}}]);
//# sourceMappingURL=7174.11.37.1-amfe.js.map