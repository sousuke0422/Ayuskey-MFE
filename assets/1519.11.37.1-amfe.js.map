{"version":3,"file":"1519.11.37.1-amfe.js","mappings":"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","sources":["webpack://ayuskey-mfe/./src/client/app/common/views/widgets/queue.vue?85ce","webpack://ayuskey-mfe/./src/client/app/common/views/widgets/queue.vue?5535","webpack://ayuskey-mfe/./src/client/app/common/views/widgets/queue.vue?89e5","webpack://ayuskey-mfe/./src/client/app/common/views/widgets/queue.vue?115c","webpack://ayuskey-mfe/./src/client/app/common/views/widgets/queue.vue","webpack://ayuskey-mfe/./src/client/app/common/views/widgets/queue.vue?df06"],"sourcesContent":["// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".mntrproz[data-v-a4cbc1d6]{display:flex;padding:4px}.mntrproz>div[data-v-a4cbc1d6]{width:50%;padding:4px}.mntrproz>div>b[data-v-a4cbc1d6]{display:block;font-size:12px;color:var(--text)}.mntrproz>div>span[data-v-a4cbc1d6]{position:absolute;top:4px;right:4px;opacity:.7;font-size:12px;color:var(--text)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/client/app/common/views/widgets/queue.vue\"],\"names\":[],\"mappings\":\"AAAA,2BAA2B,YAAY,CAAC,WAAW,CAAC,+BAA+B,SAAS,CAAC,WAAW,CAAC,iCAAiC,aAAa,CAAC,cAAc,CAAC,iBAAiB,CAAC,oCAAoC,iBAAiB,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,cAAc,CAAC,iBAAiB\",\"sourcesContent\":[\".mntrproz[data-v-a4cbc1d6]{display:flex;padding:4px}.mntrproz>div[data-v-a4cbc1d6]{width:50%;padding:4px}.mntrproz>div>b[data-v-a4cbc1d6]{display:block;font-size:12px;color:var(--text)}.mntrproz>div>span[data-v-a4cbc1d6]{position:absolute;top:4px;right:4px;opacity:.7;font-size:12px;color:var(--text)}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ui-container',{attrs:{\"show-header\":!_vm.props.compact},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('fa',{attrs:{\"icon\":_vm.faTasks}}),_vm._v(\"Queue\")]},proxy:true}])},[_c('div',{staticClass:\"mntrproz\"},[_c('div',[_c('b',[_vm._v(\"In\")]),(_vm.latestStats)?_c('span',[_vm._v(_vm._s(_vm._f(\"number\")(_vm.latestStats.inbox.activeSincePrevTick))+\" / \"+_vm._s(_vm._f(\"number\")(_vm.latestStats.inbox.delayed)))]):_vm._e(),_c('div',{ref:\"in\"})]),_c('div',[_c('b',[_vm._v(\"Out\")]),(_vm.latestStats)?_c('span',[_vm._v(_vm._s(_vm._f(\"number\")(_vm.latestStats.deliver.activeSincePrevTick))+\" / \"+_vm._s(_vm._f(\"number\")(_vm.latestStats.deliver.delayed)))]):_vm._e(),_c('div',{ref:\"out\"})])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import define from '../../define-widget';\nimport { faTasks } from '@fortawesome/free-solid-svg-icons';\nimport ApexCharts from 'apexcharts';\nexport default define({\n    name: 'queue',\n    props: () => ({\n        compact: false\n    })\n}).extend({\n    data() {\n        return {\n            stats: [],\n            inChart: null,\n            outChart: null,\n            faTasks\n        };\n    },\n    watch: {\n        stats(stats) {\n            this.inChart.updateSeries([{\n                    type: 'area',\n                    data: stats.map((x, i) => ({ x: i, y: x.inbox.activeSincePrevTick }))\n                }, {\n                    type: 'area',\n                    data: stats.map((x, i) => ({ x: i, y: x.inbox.active }))\n                }, {\n                    type: 'line',\n                    data: stats.map((x, i) => ({ x: i, y: x.inbox.waiting }))\n                }, {\n                    type: 'line',\n                    data: stats.map((x, i) => ({ x: i, y: x.inbox.delayed }))\n                }]);\n            this.outChart.updateSeries([{\n                    type: 'area',\n                    data: stats.map((x, i) => ({ x: i, y: x.deliver.activeSincePrevTick }))\n                }, {\n                    type: 'area',\n                    data: stats.map((x, i) => ({ x: i, y: x.deliver.active }))\n                }, {\n                    type: 'line',\n                    data: stats.map((x, i) => ({ x: i, y: x.deliver.waiting }))\n                }, {\n                    type: 'line',\n                    data: stats.map((x, i) => ({ x: i, y: x.deliver.delayed }))\n                }]);\n        }\n    },\n    computed: {\n        latestStats() {\n            return this.stats[this.stats.length - 1];\n        }\n    },\n    mounted() {\n        const chartOpts = {\n            chart: {\n                type: 'area',\n                height: 70,\n                animations: {\n                    dynamicAnimation: {\n                        enabled: false\n                    }\n                },\n                sparkline: {\n                    enabled: true,\n                }\n            },\n            dataLabels: {\n                enabled: false\n            },\n            tooltip: {\n                enabled: false\n            },\n            stroke: {\n                curve: 'straight',\n                width: 1\n            },\n            colors: ['#00E396', '#00BCD4', '#FFB300', '#e53935'],\n            series: [{ data: [] }, { data: [] }, { data: [] }, { data: [] }],\n            yaxis: {\n                min: 0,\n            }\n        };\n        this.inChart = new ApexCharts(this.$refs.in, chartOpts);\n        this.outChart = new ApexCharts(this.$refs.out, chartOpts);\n        this.inChart.render();\n        this.outChart.render();\n        const connection = this.$root.stream.useSharedConnection('queueStats');\n        connection.on('stats', this.onStats);\n        connection.on('statsLog', this.onStatsLog);\n        connection.send('requestLog', {\n            id: Math.random().toString().substr(2, 8),\n            length: 50\n        });\n        this.$once('hook:beforeDestroy', () => {\n            connection.dispose();\n            this.inChart.destroy();\n            this.outChart.destroy();\n        });\n    },\n    methods: {\n        func() {\n            this.props.compact = !this.props.compact;\n            this.save();\n        },\n        onStats(stats) {\n            this.stats.push(stats);\n            if (this.stats.length > 50)\n                this.stats.shift();\n        },\n        onStatsLog(statsLog) {\n            for (const stats of statsLog.reverse()) {\n                this.onStats(stats);\n            }\n        }\n    }\n});\n","import mod from \"-!../../../../../../node_modules/ts-loader/index.js??clonedRuleSet-7[0].rules[0].use[0]!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/src/index.js!./queue.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/ts-loader/index.js??clonedRuleSet-7[0].rules[0].use[0]!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/src/index.js!./queue.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./queue.vue?vue&type=template&id=a4cbc1d6&scoped=true&\"\nimport script from \"./queue.vue?vue&type=script&lang=ts&\"\nexport * from \"./queue.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./queue.vue?vue&type=style&index=0&id=a4cbc1d6&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a4cbc1d6\",\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-3[0].rules[0].use[1]!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??clonedRuleSet-3[0].rules[0].use[2]!../../../../../../node_modules/stylus-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/src/index.js!./queue.vue?vue&type=style&index=0&id=a4cbc1d6&lang=stylus&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"286665b3\", content, true, {});"],"names":["___CSS_LOADER_API_SOURCEMAP_IMPORT___","___CSS_LOADER_EXPORT___","___CSS_LOADER_API_IMPORT___","push","module","id","exports","name","props","compact","extend","data","stats","inChart","outChart","faTasks","watch","this","updateSeries","type","map","x","i","y","inbox","activeSincePrevTick","active","waiting","delayed","deliver","computed","length","chartOpts","chart","height","animations","dynamicAnimation","enabled","sparkline","dataLabels","tooltip","stroke","curve","width","colors","series","yaxis","min","$refs","in","out","render","connection","$root","stream","useSharedConnection","on","onStats","onStatsLog","send","Math","random","toString","substr","$once","dispose","destroy","methods","save","shift","statsLog","reverse","_vm","_h","$createElement","_c","_self","attrs","scopedSlots","_u","key","fn","_v","proxy","staticClass","_s","_f","latestStats","_e","ref","content","__esModule","default","locals","add"],"sourceRoot":""}