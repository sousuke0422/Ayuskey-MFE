(self.webpackChunkayuskey_mfe=self.webpackChunkayuskey_mfe||[]).push([[2895],{92514:(e,t,a)=>{var i=a(94015),s=a(23645)(i);s.push([e.id,".lnctpgve>*[data-v-a5f28a3e]{margin-bottom:16px}","",{version:3,sources:["webpack://./src/client/app/desktop/views/home/user/user.home.vue"],names:[],mappings:"AAAA,6BAA6B,kBAAkB",sourcesContent:[".lnctpgve>*[data-v-a5f28a3e]{margin-bottom:16px}"],sourceRoot:""}]),e.exports=s},23931:(e,t,a)=>{var i=a(94015),s=a(23645)(i);s.push([e.id,".dzsuvbsrrrwobdxifudxuefculdfiaxd>.stream[data-v-a53b550c]{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;padding:16px;background:var(--face)}.dzsuvbsrrrwobdxifudxuefculdfiaxd>.stream>*[data-v-a53b550c]{height:120px;background-position:50%;background-size:cover;background-clip:content-box;border-radius:4px}.dzsuvbsrrrwobdxifudxuefculdfiaxd>.empty[data-v-a53b550c],.dzsuvbsrrrwobdxifudxuefculdfiaxd>.initializing[data-v-a53b550c]{margin:0;padding:16px;text-align:center;color:var(--text)}.dzsuvbsrrrwobdxifudxuefculdfiaxd>.empty>i[data-v-a53b550c],.dzsuvbsrrrwobdxifudxuefculdfiaxd>.initializing>i[data-v-a53b550c]{margin-right:4px}","",{version:3,sources:["webpack://./src/client/app/desktop/views/home/user/user.photos.vue"],names:[],mappings:"AAAA,2DAA2D,YAAY,CAAC,iCAAiC,CAAC,OAAO,CAAC,YAAY,CAAC,sBAAsB,CAAC,6DAA6D,YAAY,CAAC,uBAAuB,CAAC,qBAAqB,CAAC,2BAA2B,CAAC,iBAAiB,CAAC,2HAA2H,QAAQ,CAAC,YAAY,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,+HAA+H,gBAAgB",sourcesContent:[".dzsuvbsrrrwobdxifudxuefculdfiaxd>.stream[data-v-a53b550c]{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;padding:16px;background:var(--face)}.dzsuvbsrrrwobdxifudxuefculdfiaxd>.stream>*[data-v-a53b550c]{height:120px;background-position:50%;background-size:cover;background-clip:content-box;border-radius:4px}.dzsuvbsrrrwobdxifudxuefculdfiaxd>.empty[data-v-a53b550c],.dzsuvbsrrrwobdxifudxuefculdfiaxd>.initializing[data-v-a53b550c]{margin:0;padding:16px;text-align:center;color:var(--text)}.dzsuvbsrrrwobdxifudxuefculdfiaxd>.empty>i[data-v-a53b550c],.dzsuvbsrrrwobdxifudxuefculdfiaxd>.initializing>i[data-v-a53b550c]{margin-right:4px}"],sourceRoot:""}]),e.exports=s},90917:(e,t,a)=>{var i=a(94015),s=a(23645)(i);s.push([e.id,'.kugajpep[data-v-3b304a12]{padding:0 8px;z-index:10;background:var(--faceHeader);box-shadow:0 1px var(--desktopTimelineHeaderShadow)}.kugajpep>span[data-v-3b304a12]{display:inline-block;padding:0 10px;line-height:42px;font-size:12px;user-select:none}.kugajpep>span[data-active][data-v-3b304a12]{color:var(--primary);cursor:default;font-weight:700}.kugajpep>span[data-active][data-v-3b304a12]:before{content:"";display:block;position:absolute;bottom:0;left:-8px;width:calc(100% + 16px);height:2px;background:var(--primary)}.kugajpep>span[data-v-3b304a12]:not([data-active]){color:var(--desktopTimelineSrc);cursor:pointer}.kugajpep>span[data-v-3b304a12]:not([data-active]):hover{color:var(--desktopTimelineSrcHover)}',"",{version:3,sources:["webpack://./src/client/app/desktop/views/home/user/user.timeline.vue"],names:[],mappings:"AAAA,2BAA2B,aAAa,CAAC,UAAU,CAAC,4BAA4B,CAAC,mDAAmD,CAAC,gCAAgC,oBAAoB,CAAC,cAAc,CAAC,gBAAgB,CAAC,cAAc,CAAC,gBAAgB,CAAC,6CAA6C,oBAAoB,CAAC,cAAc,CAAC,eAAe,CAAC,oDAAoD,UAAU,CAAC,aAAa,CAAC,iBAAiB,CAAC,QAAQ,CAAC,SAAS,CAAC,uBAAuB,CAAC,UAAU,CAAC,yBAAyB,CAAC,mDAAmD,+BAA+B,CAAC,cAAc,CAAC,yDAAyD,oCAAoC",sourcesContent:['.kugajpep[data-v-3b304a12]{padding:0 8px;z-index:10;background:var(--faceHeader);box-shadow:0 1px var(--desktopTimelineHeaderShadow)}.kugajpep>span[data-v-3b304a12]{display:inline-block;padding:0 10px;line-height:42px;font-size:12px;user-select:none}.kugajpep>span[data-active][data-v-3b304a12]{color:var(--primary);cursor:default;font-weight:700}.kugajpep>span[data-active][data-v-3b304a12]:before{content:"";display:block;position:absolute;bottom:0;left:-8px;width:calc(100% + 16px);height:2px;background:var(--primary)}.kugajpep>span[data-v-3b304a12]:not([data-active]){color:var(--desktopTimelineSrc);cursor:pointer}.kugajpep>span[data-v-3b304a12]:not([data-active]):hover{color:var(--desktopTimelineSrcHover)}'],sourceRoot:""}]),e.exports=s},92895:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var i=a(20144),s=a(67384);const r=i.default.extend({i18n:(0,s.Z)("desktop/views/pages/user/user.timeline.vue"),props:["user"],data(){return{fetching:!0,mode:"default",unreadCount:0,date:null,pagination:{endpoint:"users/notes",limit:10,params:e=>({userId:this.user.id,untilDate:e?void 0:this.date?this.date.getTime():void 0,includeReplies:"with-replies"==this.mode,includeMyRenotes:"my-posts"!=this.mode,withFiles:"with-media"==this.mode})}}},watch:{mode(){this.$refs.timeline.reload()}},mounted(){document.addEventListener("keydown",this.onDocumentKeydown),this.$root.$on("warp",this.warp),this.$once("hook:beforeDestroy",(()=>{this.$root.$off("warp",this.warp),document.removeEventListener("keydown",this.onDocumentKeydown)}))},methods:{onDocumentKeydown(e){"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&84==e.which&&this.$refs.timeline.focus()},warp(e){this.date=e,this.$refs.timeline.reload()}}});a(19053);var o=a(51900);const n=(0,o.Z)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("mk-notes",{ref:"timeline",attrs:{pagination:e.pagination},on:{inited:function(){return e.$emit("loaded")}},scopedSlots:e._u([{key:"header",fn:function(){return[a("header",{staticClass:"kugajpep"},[a("span",{attrs:{"data-active":"default"==e.mode},on:{click:function(t){e.mode="default"}}},[a("fa",{attrs:{icon:["far","comment-alt"]}}),e._v(" "+e._s(e.$t("default")))],1),a("span",{attrs:{"data-active":"with-replies"==e.mode},on:{click:function(t){e.mode="with-replies"}}},[a("fa",{attrs:{icon:"comments"}}),e._v(" "+e._s(e.$t("with-replies")))],1),a("span",{attrs:{"data-active":"with-media"==e.mode},on:{click:function(t){e.mode="with-media"}}},[a("fa",{attrs:{icon:["far","images"]}}),e._v(" "+e._s(e.$t("with-media")))],1),a("span",{attrs:{"data-active":"my-posts"==e.mode},on:{click:function(t){e.mode="my-posts"}}},[a("fa",{attrs:{icon:"user"}}),e._v(" "+e._s(e.$t("my-posts")))],1)])]},proxy:!0}])})],1)}),[],!1,null,"3b304a12",null).exports;var d=a(99537),c=a(51802);const p=i.default.extend({i18n:(0,s.Z)("desktop/views/pages/user/user.photos.vue"),props:["user"],data:()=>({images:[],fetching:!0}),mounted(){const e=["image/jpeg","image/png","image/gif","image/apng","image/vnd.mozilla.apng"];this.$root.api("users/notes",{userId:this.user.id,fileType:e,excludeNsfw:!this.$store.state.device.alwaysShowNsfw,limit:9}).then((t=>{for(const e of t)for(const t of e.files)t._note=e;const a=(0,c.zo)(t.map((e=>e.files)));this.images=a.filter((t=>e.includes(t.type))).slice(0,9),this.fetching=!1}))},methods:{thumbnail(e){return this.$store.state.device.disableShowingAnimatedImages?(0,d.e)(e.thumbnailUrl):e.thumbnailUrl}}});a(50567);const u=(0,o.Z)(p,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ui-container",{attrs:{"body-togglable":!0,expanded:e.$store.state.device.expandUsersPhotos},on:{toggle:function(t){return e.$store.commit("device/set",{key:"expandUsersPhotos",value:t})}},scopedSlots:e._u([{key:"header",fn:function(){return[a("fa",{attrs:{icon:"camera"}}),e._v(" "+e._s(e.$t("title")))]},proxy:!0}])},[a("div",{staticClass:"dzsuvbsrrrwobdxifudxuefculdfiaxd"},[e.fetching?a("p",{staticClass:"initializing"},[a("fa",{attrs:{icon:"spinner",pulse:"","fixed-width":""}}),e._v(e._s(e.$t("loading"))),a("mk-ellipsis")],1):e._e(),!e.fetching&&e.images.length>0?a("div",{staticClass:"stream"},e._l(e.images,(function(t){return a("router-link",{key:t.id+":"+t._note.id,staticClass:"img",style:"background-image: url("+t.thumbnailUrl+")",attrs:{to:e._f("notePage")(t._note),title:t.name+"\n"+new Date(t.createdAt).toLocaleString()}})})),1):e._e(),e.fetching||0!=e.images.length?e._e():a("p",{staticClass:"empty"},[e._v(e._s(e.$t("no-photos")))])])])}),[],!1,null,"a53b550c",null).exports;var l=a(35927),A=a.n(l);const f=i.default.extend({props:{user:{type:Object,required:!0},limit:{type:Number,required:!1,default:21}},data:()=>({fetching:!0,data:[],peak:null}),mounted(){this.$root.api("charts/user/notes",{userId:this.user.id,span:"day",limit:this.limit}).then((e=>{const t=[],a=[],i=[],s=new Date,r=s.getFullYear(),o=s.getMonth(),n=s.getDate();for(let s=0;s<this.limit;s++){const d=new Date(r,o,n-s);t.push([d,e.diffs.normal[s]]),a.push([d,e.diffs.reply[s]]),i.push([d,e.diffs.renote[s]])}new(A())(this.$refs.chart,{chart:{type:"bar",stacked:!0,height:100,sparkline:{enabled:!0}},plotOptions:{bar:{columnWidth:"80%"}},dataLabels:{enabled:!1},grid:{clipMarkers:!1,padding:{top:0,right:8,bottom:0,left:8}},tooltip:{shared:!0,intersect:!1},series:[{name:"Normal",data:t},{name:"Reply",data:a},{name:"Renote",data:i}],xaxis:{type:"datetime",crosshairs:{width:1,opacity:1}}}).render()}))}});const m=(0,o.Z)(f,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{ref:"chart"})])}),[],!1,null,null,null).exports;var g=a(95249);const v=i.default.extend({i18n:(0,s.Z)(),components:{XTimeline:n,XPhotos:u,XActivity:m,XPage:g.default},props:{user:{type:Object,required:!0}},methods:{warp(e){this.$refs.tl.warp(e)}}});a(12064);const h=(0,o.Z)(v,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lnctpgve"},[e.user.pinnedPage?a("x-page",{key:e.user.pinnedPage.id,attrs:{page:e.user.pinnedPage,"show-title":!e.user.pinnedPage.hideTitleWhenPinned}}):e._e(),e._l(e.user.pinnedNotes,(function(e){return a("mk-note-detail",{key:e.id,attrs:{note:e,compact:!0}})})),a("div",{staticClass:"activity"},[a("ui-container",{attrs:{"body-togglable":!0,expanded:e.$store.state.device.expandUsersActivity},on:{toggle:function(t){return e.$store.commit("device/set",{key:"expandUsersActivity",value:t})}},scopedSlots:e._u([{key:"header",fn:function(){return[a("fa",{attrs:{icon:"chart-bar"}}),e._v(e._s(e.$t("activity")))]},proxy:!0}])},[a("x-activity",{staticStyle:{padding:"16px"},attrs:{user:e.user,limit:35}})],1)],1),a("x-photos",{attrs:{user:e.user}}),a("x-timeline",{ref:"tl",attrs:{user:e.user}})],2)}),[],!1,null,"a5f28a3e",null).exports},12064:(e,t,a)=>{var i=a(92514);"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,a(45346).Z)("0a7f701a",i,!0,{})},50567:(e,t,a)=>{var i=a(23931);"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,a(45346).Z)("7dd09ece",i,!0,{})},19053:(e,t,a)=>{var i=a(90917);"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,a(45346).Z)("b872ad1c",i,!0,{})}}]);
//# sourceMappingURL=2895.11.37.1-amfe.js.map