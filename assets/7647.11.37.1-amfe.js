(self.webpackChunkayuskey_mfe=self.webpackChunkayuskey_mfe||[]).push([[7647],{59287:(t,e,i)=>{var a=i(94015),o=i(23645)(a);o.push([t.id,'.gqyayizv[data-v-efce9672]{position:static}.gqyayizv>.backdrop[data-v-efce9672]{position:fixed;top:0;left:0;z-index:10000;width:100%;height:100%;background:var(--modalBackdrop);backdrop-filter:blur(4px);opacity:0}.gqyayizv>.popover[data-v-efce9672]{position:absolute;z-index:10001;width:240px;padding:8px 0;background:var(--popupBg);border-radius:4px;box-shadow:0 3px 12px rgba(27,31,35,.15);transform:scale(.5);opacity:0}.gqyayizv>.popover[data-v-efce9672]:not(.isMobile){margin-top:10px;transform-origin:center -10px}.gqyayizv>.popover[data-v-efce9672]:not(.isMobile):before{content:"";display:block;position:absolute;top:-20px;left:calc(50% - 10px);border:10px solid transparent;border-bottom:10px solid var(--popupBg)}.gqyayizv>.popover>div[data-v-efce9672]{display:flex;padding:8px 14px;font-size:12px;color:var(--popupFg);cursor:pointer}.gqyayizv>.popover>div[data-v-efce9672]:hover{background:var(--faceClearButtonHover)}.gqyayizv>.popover>div[data-v-efce9672]:active{background:var(--faceClearButtonActive)}.gqyayizv>.popover>div.active[data-v-efce9672]{color:var(--primaryForeground);background:var(--primary)}.gqyayizv>.popover>div>*[data-v-efce9672]{user-select:none;pointer-events:none}.gqyayizv>.popover>div[data-v-efce9672]>:first-child{display:flex;justify-content:center;align-items:center;margin-right:10px;width:16px}.gqyayizv>.popover>div[data-v-efce9672]>:last-child{flex:1 1 auto}.gqyayizv>.popover>div>:last-child>span[data-v-efce9672]:first-child{display:block;font-weight:700}.gqyayizv>.popover>div>:last-child>span[data-v-efce9672]:last-child:not(:first-child){opacity:.6}',"",{version:3,sources:["webpack://./src/client/app/common/views/components/visibility-chooser.vue"],names:[],mappings:"AAAA,2BAA2B,eAAe,CAAC,qCAAqC,cAAc,CAAC,KAAK,CAAC,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,WAAW,CAAC,+BAA+B,CAAC,yBAAyB,CAAC,SAAS,CAAC,oCAAoC,iBAAiB,CAAC,aAAa,CAAC,WAAW,CAAC,aAAa,CAAC,yBAAyB,CAAC,iBAAiB,CAAC,wCAAwC,CAAC,mBAAmB,CAAC,SAAS,CAAC,mDAAmD,eAAe,CAAC,6BAA6B,CAAC,0DAA0D,UAAU,CAAC,aAAa,CAAC,iBAAiB,CAAC,SAAS,CAAC,qBAAqB,CAAC,6BAA6B,CAAC,uCAAuC,CAAC,wCAAwC,YAAY,CAAC,gBAAgB,CAAC,cAAc,CAAC,oBAAoB,CAAC,cAAc,CAAC,8CAA8C,sCAAsC,CAAC,+CAA+C,uCAAuC,CAAC,+CAA+C,8BAA8B,CAAC,yBAAyB,CAAC,0CAA0C,gBAAgB,CAAC,mBAAmB,CAAC,qDAAqD,YAAY,CAAC,sBAAsB,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,UAAU,CAAC,oDAAoD,aAAa,CAAC,qEAAqE,aAAa,CAAC,eAAe,CAAC,sFAAsF,UAAU",sourcesContent:['.gqyayizv[data-v-efce9672]{position:static}.gqyayizv>.backdrop[data-v-efce9672]{position:fixed;top:0;left:0;z-index:10000;width:100%;height:100%;background:var(--modalBackdrop);backdrop-filter:blur(4px);opacity:0}.gqyayizv>.popover[data-v-efce9672]{position:absolute;z-index:10001;width:240px;padding:8px 0;background:var(--popupBg);border-radius:4px;box-shadow:0 3px 12px rgba(27,31,35,.15);transform:scale(.5);opacity:0}.gqyayizv>.popover[data-v-efce9672]:not(.isMobile){margin-top:10px;transform-origin:center -10px}.gqyayizv>.popover[data-v-efce9672]:not(.isMobile):before{content:"";display:block;position:absolute;top:-20px;left:calc(50% - 10px);border:10px solid transparent;border-bottom:10px solid var(--popupBg)}.gqyayizv>.popover>div[data-v-efce9672]{display:flex;padding:8px 14px;font-size:12px;color:var(--popupFg);cursor:pointer}.gqyayizv>.popover>div[data-v-efce9672]:hover{background:var(--faceClearButtonHover)}.gqyayizv>.popover>div[data-v-efce9672]:active{background:var(--faceClearButtonActive)}.gqyayizv>.popover>div.active[data-v-efce9672]{color:var(--primaryForeground);background:var(--primary)}.gqyayizv>.popover>div>*[data-v-efce9672]{user-select:none;pointer-events:none}.gqyayizv>.popover>div[data-v-efce9672]>:first-child{display:flex;justify-content:center;align-items:center;margin-right:10px;width:16px}.gqyayizv>.popover>div[data-v-efce9672]>:last-child{flex:1 1 auto}.gqyayizv>.popover>div>:last-child>span[data-v-efce9672]:first-child{display:block;font-weight:700}.gqyayizv>.popover>div>:last-child>span[data-v-efce9672]:last-child:not(:first-child){opacity:.6}'],sourceRoot:""}]),t.exports=o},19246:(t,e,i)=>{var a=i(94015),o=i(23645)(a);o.push([t.id,'.gjisdzwh[data-v-699b2403]{display:block;padding:16px;background:var(--desktopPostFormBg);overflow:hidden}.gjisdzwh[data-v-699b2403]:after{content:"";display:block;clear:both}.gjisdzwh>.content>.textarea>textarea[data-v-699b2403],.gjisdzwh>.content>input[data-v-699b2403]{display:block;width:100%;font-size:16px;color:var(--desktopPostFormTextareaFg);background:var(--desktopPostFormTextareaBg);outline:none;border:1px solid var(--primaryAlpha01);border-radius:4px;transition:border-color .2s ease;padding:12px 30px 12px 12px}.gjisdzwh>.content>.textarea>textarea[data-v-699b2403]:hover,.gjisdzwh>.content>input[data-v-699b2403]:hover{border-color:var(--primaryAlpha02);transition:border-color .1s ease}.gjisdzwh>.content>.textarea>textarea[data-v-699b2403]:focus,.gjisdzwh>.content>input[data-v-699b2403]:focus{border-color:var(--primaryAlpha05);transition:border-color 0s ease}.gjisdzwh>.content>.textarea>textarea[data-v-699b2403]:disabled,.gjisdzwh>.content>input[data-v-699b2403]:disabled{opacity:.5}.gjisdzwh>.content>.textarea>textarea[data-v-699b2403]::-webkit-input-placeholder,.gjisdzwh>.content>input[data-v-699b2403]::-webkit-input-placeholder{color:var(--primaryAlpha03)}.gjisdzwh>.content>input[data-v-699b2403]{margin-bottom:8px}.gjisdzwh>.content>.textarea>.emoji[data-v-699b2403]{position:absolute;top:0;right:0;padding:10px;font-size:18px;color:var(--text);opacity:.5}.gjisdzwh>.content>.textarea>.emoji[data-v-699b2403]:hover{color:var(--textHighlighted);opacity:1}.gjisdzwh>.content>.textarea>.emoji[data-v-699b2403]:active{color:var(--primary);opacity:1}.gjisdzwh>.content>.textarea>textarea[data-v-699b2403]{margin:0;max-width:100%;min-width:100%;min-height:84px}.gjisdzwh>.content>.textarea>textarea:hover+*+*[data-v-699b2403],.gjisdzwh>.content>.textarea>textarea:hover+*+*+*[data-v-699b2403]{border-color:var(--primaryAlpha02);transition:border-color .1s ease}.gjisdzwh>.content>.textarea>textarea:focus+*+*[data-v-699b2403],.gjisdzwh>.content>.textarea>textarea:focus+*+*+*[data-v-699b2403]{border-color:var(--primaryAlpha05);transition:border-color 0s ease}.gjisdzwh>.content>.textarea>textarea:focus+.emoji[data-v-699b2403]{opacity:.7}.gjisdzwh>.content>.textarea>textarea.with[data-v-699b2403]{border-bottom:1px solid var(--primaryAlpha01)!important;border-radius:4px 4px 0 0}.gjisdzwh>.content>.textarea>.files[data-v-699b2403]{margin:0;padding:0;background:var(--desktopPostFormTextareaBg);border:1px solid var(--primaryAlpha01);border-top:none;border-radius:0 0 4px 4px;transition:border-color .3s ease}.gjisdzwh>.content>.textarea>.files.with[data-v-699b2403]{border-bottom:1px solid var(--primaryAlpha01)!important;border-radius:0}.gjisdzwh>.content>.textarea>.poll-editor[data-v-699b2403]{background:var(--desktopPostFormTextareaBg);border:1px solid var(--primaryAlpha01);border-top:none;border-radius:0 0 4px 4px;transition:border-color .3s ease}.gjisdzwh>.content>.hashtags[data-v-699b2403]{margin:0 0 8px;overflow:hidden;white-space:nowrap;font-size:14px}.gjisdzwh>.content>.hashtags>b[data-v-699b2403]{color:var(--primary)}.gjisdzwh>.content>.hashtags>*[data-v-699b2403]{margin-right:8px;white-space:nowrap}.gjisdzwh>.content>.with-quote[data-v-699b2403]{margin:0 0 8px;color:var(--primary)}.gjisdzwh>.content>.with-quote>button[data-v-699b2403]{padding:4px 8px;color:var(--primaryAlpha04)}.gjisdzwh>.content>.with-quote>button[data-v-699b2403]:hover{color:var(--primaryAlpha06)}.gjisdzwh>.content>.with-quote>button[data-v-699b2403]:active{color:var(--primaryDarken30)}.gjisdzwh>.content>.to-specified[data-v-699b2403]{margin:0 0 8px;color:var(--primary)}.gjisdzwh>.content>.to-specified>.visibleUsers[data-v-699b2403]{display:inline;top:-1px;font-size:14px}.gjisdzwh>.content>.to-specified>.visibleUsers>span[data-v-699b2403]{margin-left:14px}.gjisdzwh>.content>.to-specified>.visibleUsers>span>button[data-v-699b2403]{padding:4px 8px;color:var(--primaryAlpha04)}.gjisdzwh>.content>.to-specified>.visibleUsers>span>button[data-v-699b2403]:hover{color:var(--primaryAlpha06)}.gjisdzwh>.content>.to-specified>.visibleUsers>span>button[data-v-699b2403]:active{color:var(--primaryDarken30)}.gjisdzwh>.content>.local-only[data-v-699b2403]{margin:0 0 8px;color:var(--primary)}.gjisdzwh>.mk-uploader[data-v-699b2403]{margin:8px 0 0;padding:8px;border:1px solid var(--primaryAlpha02);border-radius:4px}.gjisdzwh input[type=file][data-v-699b2403]{display:none}.gjisdzwh .submit[data-v-699b2403]{right:16px;width:110px;height:40px}.gjisdzwh .submit[data-v-699b2403],.gjisdzwh>.text-count[data-v-699b2403]{display:block;position:absolute;bottom:16px}.gjisdzwh>.text-count[data-v-699b2403]{pointer-events:none;right:138px;margin:0;line-height:40px;color:var(--primaryAlpha05)}.gjisdzwh>.text-count.over[data-v-699b2403]{color:#ec3828}.gjisdzwh>.cw[data-v-699b2403],.gjisdzwh>.drive[data-v-699b2403],.gjisdzwh>.geo[data-v-699b2403],.gjisdzwh>.kao[data-v-699b2403],.gjisdzwh>.poll[data-v-699b2403],.gjisdzwh>.upload[data-v-699b2403],.gjisdzwh>.visibility[data-v-699b2403]{display:inline-block;cursor:pointer;padding:0;margin:8px 4px 0 0;width:40px;height:40px;font-size:1em;color:var(--desktopPostFormTransparentButtonFg);background:transparent;outline:none;border:1px solid transparent;border-radius:4px}.gjisdzwh>.cw[data-v-699b2403]:hover,.gjisdzwh>.drive[data-v-699b2403]:hover,.gjisdzwh>.geo[data-v-699b2403]:hover,.gjisdzwh>.kao[data-v-699b2403]:hover,.gjisdzwh>.poll[data-v-699b2403]:hover,.gjisdzwh>.upload[data-v-699b2403]:hover,.gjisdzwh>.visibility[data-v-699b2403]:hover{background:transparent;border-color:var(--primaryAlpha03)}.gjisdzwh>.cw[data-v-699b2403]:active,.gjisdzwh>.drive[data-v-699b2403]:active,.gjisdzwh>.geo[data-v-699b2403]:active,.gjisdzwh>.kao[data-v-699b2403]:active,.gjisdzwh>.poll[data-v-699b2403]:active,.gjisdzwh>.upload[data-v-699b2403]:active,.gjisdzwh>.visibility[data-v-699b2403]:active{color:var(--primaryAlpha06);background:linear-gradient(180deg,var(--desktopPostFormTransparentButtonActiveGradientStart) 0,var(--desktopPostFormTransparentButtonActiveGradientEnd));border-color:var(--primaryAlpha05);box-shadow:inset 0 2px 4px rgba(0,0,0,.15)}.gjisdzwh>.cw[data-v-699b2403]:focus:after,.gjisdzwh>.drive[data-v-699b2403]:focus:after,.gjisdzwh>.geo[data-v-699b2403]:focus:after,.gjisdzwh>.kao[data-v-699b2403]:focus:after,.gjisdzwh>.poll[data-v-699b2403]:focus:after,.gjisdzwh>.upload[data-v-699b2403]:focus:after,.gjisdzwh>.visibility[data-v-699b2403]:focus:after{content:"";pointer-events:none;position:absolute;top:-5px;right:-5px;bottom:-5px;left:-5px;border:2px solid var(--primaryAlpha03);border-radius:8px}.gjisdzwh>.dropzone[data-v-699b2403]{position:absolute;left:0;top:0;width:100%;height:100%;border:2px dashed var(--primaryAlpha05);pointer-events:none}.preview[data-v-699b2403]{background:var(--desktopPostFormBg)}.preview>summary[data-v-699b2403]{padding:0 16px 16px 20px;font-size:14px;color:var(--text)}.preview>.note[data-v-699b2403]{border-top:solid var(--lineWidth) var(--faceDivider)}',"",{version:3,sources:["webpack://./src/client/app/desktop/views/components/post-form.vue"],names:[],mappings:"AAAA,2BAA2B,aAAa,CAAC,YAAY,CAAC,mCAAmC,CAAC,eAAe,CAAC,iCAAiC,UAAU,CAAC,aAAa,CAAC,UAAU,CAAC,iGAAiG,aAAa,CAAC,UAAU,CAAC,cAAc,CAAC,sCAAsC,CAAC,2CAA2C,CAAC,YAAY,CAAC,sCAAsC,CAAC,iBAAiB,CAAC,gCAAgC,CAAC,2BAA2B,CAAC,6GAA6G,kCAAkC,CAAC,gCAAgC,CAAC,6GAA6G,kCAAkC,CAAC,+BAA+B,CAAC,mHAAmH,UAAU,CAAC,uJAAuJ,2BAA2B,CAAC,0CAA0C,iBAAiB,CAAC,qDAAqD,iBAAiB,CAAC,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,cAAc,CAAC,iBAAiB,CAAC,UAAU,CAAC,2DAA2D,4BAA4B,CAAC,SAAS,CAAC,4DAA4D,oBAAoB,CAAC,SAAS,CAAC,uDAAuD,QAAQ,CAAC,cAAc,CAAC,cAAc,CAAC,eAAe,CAAC,oIAAoI,kCAAkC,CAAC,gCAAgC,CAAC,oIAAoI,kCAAkC,CAAC,+BAA+B,CAAC,oEAAoE,UAAU,CAAC,4DAA4D,uDAAuD,CAAC,yBAAyB,CAAC,qDAAqD,QAAQ,CAAC,SAAS,CAAC,2CAA2C,CAAC,sCAAsC,CAAC,eAAe,CAAC,yBAAyB,CAAC,gCAAgC,CAAC,0DAA0D,uDAAuD,CAAC,eAAe,CAAC,2DAA2D,2CAA2C,CAAC,sCAAsC,CAAC,eAAe,CAAC,yBAAyB,CAAC,gCAAgC,CAAC,8CAA8C,cAAc,CAAC,eAAe,CAAC,kBAAkB,CAAC,cAAc,CAAC,gDAAgD,oBAAoB,CAAC,gDAAgD,gBAAgB,CAAC,kBAAkB,CAAC,gDAAgD,cAAc,CAAC,oBAAoB,CAAC,uDAAuD,eAAe,CAAC,2BAA2B,CAAC,6DAA6D,2BAA2B,CAAC,8DAA8D,4BAA4B,CAAC,kDAAkD,cAAc,CAAC,oBAAoB,CAAC,gEAAgE,cAAc,CAAC,QAAQ,CAAC,cAAc,CAAC,qEAAqE,gBAAgB,CAAC,4EAA4E,eAAe,CAAC,2BAA2B,CAAC,kFAAkF,2BAA2B,CAAC,mFAAmF,4BAA4B,CAAC,gDAAgD,cAAc,CAAC,oBAAoB,CAAC,wCAAwC,cAAc,CAAC,WAAW,CAAC,sCAAsC,CAAC,iBAAiB,CAAC,4CAA4C,YAAY,CAAC,mCAAmC,UAAU,CAAC,WAAW,CAAC,WAAW,CAAC,0EAA0E,aAAa,CAAC,iBAAiB,CAAC,WAAW,CAAC,uCAAuC,mBAAmB,CAAC,WAAW,CAAC,QAAQ,CAAC,gBAAgB,CAAC,2BAA2B,CAAC,4CAA4C,aAAa,CAAC,4OAA4O,oBAAoB,CAAC,cAAc,CAAC,SAAS,CAAC,kBAAkB,CAAC,UAAU,CAAC,WAAW,CAAC,aAAa,CAAC,+CAA+C,CAAC,sBAAsB,CAAC,YAAY,CAAC,4BAA4B,CAAC,iBAAiB,CAAC,sRAAsR,sBAAsB,CAAC,kCAAkC,CAAC,6RAA6R,2BAA2B,CAAC,wJAAwJ,CAAC,kCAAkC,CAAC,0CAA0C,CAAC,gUAAgU,UAAU,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,QAAQ,CAAC,UAAU,CAAC,WAAW,CAAC,SAAS,CAAC,sCAAsC,CAAC,iBAAiB,CAAC,qCAAqC,iBAAiB,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,WAAW,CAAC,uCAAuC,CAAC,mBAAmB,CAAC,0BAA0B,mCAAmC,CAAC,kCAAkC,wBAAwB,CAAC,cAAc,CAAC,iBAAiB,CAAC,gCAAgC,oDAAoD",sourcesContent:['.gjisdzwh[data-v-699b2403]{display:block;padding:16px;background:var(--desktopPostFormBg);overflow:hidden}.gjisdzwh[data-v-699b2403]:after{content:"";display:block;clear:both}.gjisdzwh>.content>.textarea>textarea[data-v-699b2403],.gjisdzwh>.content>input[data-v-699b2403]{display:block;width:100%;font-size:16px;color:var(--desktopPostFormTextareaFg);background:var(--desktopPostFormTextareaBg);outline:none;border:1px solid var(--primaryAlpha01);border-radius:4px;transition:border-color .2s ease;padding:12px 30px 12px 12px}.gjisdzwh>.content>.textarea>textarea[data-v-699b2403]:hover,.gjisdzwh>.content>input[data-v-699b2403]:hover{border-color:var(--primaryAlpha02);transition:border-color .1s ease}.gjisdzwh>.content>.textarea>textarea[data-v-699b2403]:focus,.gjisdzwh>.content>input[data-v-699b2403]:focus{border-color:var(--primaryAlpha05);transition:border-color 0s ease}.gjisdzwh>.content>.textarea>textarea[data-v-699b2403]:disabled,.gjisdzwh>.content>input[data-v-699b2403]:disabled{opacity:.5}.gjisdzwh>.content>.textarea>textarea[data-v-699b2403]::-webkit-input-placeholder,.gjisdzwh>.content>input[data-v-699b2403]::-webkit-input-placeholder{color:var(--primaryAlpha03)}.gjisdzwh>.content>input[data-v-699b2403]{margin-bottom:8px}.gjisdzwh>.content>.textarea>.emoji[data-v-699b2403]{position:absolute;top:0;right:0;padding:10px;font-size:18px;color:var(--text);opacity:.5}.gjisdzwh>.content>.textarea>.emoji[data-v-699b2403]:hover{color:var(--textHighlighted);opacity:1}.gjisdzwh>.content>.textarea>.emoji[data-v-699b2403]:active{color:var(--primary);opacity:1}.gjisdzwh>.content>.textarea>textarea[data-v-699b2403]{margin:0;max-width:100%;min-width:100%;min-height:84px}.gjisdzwh>.content>.textarea>textarea:hover+*+*[data-v-699b2403],.gjisdzwh>.content>.textarea>textarea:hover+*+*+*[data-v-699b2403]{border-color:var(--primaryAlpha02);transition:border-color .1s ease}.gjisdzwh>.content>.textarea>textarea:focus+*+*[data-v-699b2403],.gjisdzwh>.content>.textarea>textarea:focus+*+*+*[data-v-699b2403]{border-color:var(--primaryAlpha05);transition:border-color 0s ease}.gjisdzwh>.content>.textarea>textarea:focus+.emoji[data-v-699b2403]{opacity:.7}.gjisdzwh>.content>.textarea>textarea.with[data-v-699b2403]{border-bottom:1px solid var(--primaryAlpha01)!important;border-radius:4px 4px 0 0}.gjisdzwh>.content>.textarea>.files[data-v-699b2403]{margin:0;padding:0;background:var(--desktopPostFormTextareaBg);border:1px solid var(--primaryAlpha01);border-top:none;border-radius:0 0 4px 4px;transition:border-color .3s ease}.gjisdzwh>.content>.textarea>.files.with[data-v-699b2403]{border-bottom:1px solid var(--primaryAlpha01)!important;border-radius:0}.gjisdzwh>.content>.textarea>.poll-editor[data-v-699b2403]{background:var(--desktopPostFormTextareaBg);border:1px solid var(--primaryAlpha01);border-top:none;border-radius:0 0 4px 4px;transition:border-color .3s ease}.gjisdzwh>.content>.hashtags[data-v-699b2403]{margin:0 0 8px;overflow:hidden;white-space:nowrap;font-size:14px}.gjisdzwh>.content>.hashtags>b[data-v-699b2403]{color:var(--primary)}.gjisdzwh>.content>.hashtags>*[data-v-699b2403]{margin-right:8px;white-space:nowrap}.gjisdzwh>.content>.with-quote[data-v-699b2403]{margin:0 0 8px;color:var(--primary)}.gjisdzwh>.content>.with-quote>button[data-v-699b2403]{padding:4px 8px;color:var(--primaryAlpha04)}.gjisdzwh>.content>.with-quote>button[data-v-699b2403]:hover{color:var(--primaryAlpha06)}.gjisdzwh>.content>.with-quote>button[data-v-699b2403]:active{color:var(--primaryDarken30)}.gjisdzwh>.content>.to-specified[data-v-699b2403]{margin:0 0 8px;color:var(--primary)}.gjisdzwh>.content>.to-specified>.visibleUsers[data-v-699b2403]{display:inline;top:-1px;font-size:14px}.gjisdzwh>.content>.to-specified>.visibleUsers>span[data-v-699b2403]{margin-left:14px}.gjisdzwh>.content>.to-specified>.visibleUsers>span>button[data-v-699b2403]{padding:4px 8px;color:var(--primaryAlpha04)}.gjisdzwh>.content>.to-specified>.visibleUsers>span>button[data-v-699b2403]:hover{color:var(--primaryAlpha06)}.gjisdzwh>.content>.to-specified>.visibleUsers>span>button[data-v-699b2403]:active{color:var(--primaryDarken30)}.gjisdzwh>.content>.local-only[data-v-699b2403]{margin:0 0 8px;color:var(--primary)}.gjisdzwh>.mk-uploader[data-v-699b2403]{margin:8px 0 0;padding:8px;border:1px solid var(--primaryAlpha02);border-radius:4px}.gjisdzwh input[type=file][data-v-699b2403]{display:none}.gjisdzwh .submit[data-v-699b2403]{right:16px;width:110px;height:40px}.gjisdzwh .submit[data-v-699b2403],.gjisdzwh>.text-count[data-v-699b2403]{display:block;position:absolute;bottom:16px}.gjisdzwh>.text-count[data-v-699b2403]{pointer-events:none;right:138px;margin:0;line-height:40px;color:var(--primaryAlpha05)}.gjisdzwh>.text-count.over[data-v-699b2403]{color:#ec3828}.gjisdzwh>.cw[data-v-699b2403],.gjisdzwh>.drive[data-v-699b2403],.gjisdzwh>.geo[data-v-699b2403],.gjisdzwh>.kao[data-v-699b2403],.gjisdzwh>.poll[data-v-699b2403],.gjisdzwh>.upload[data-v-699b2403],.gjisdzwh>.visibility[data-v-699b2403]{display:inline-block;cursor:pointer;padding:0;margin:8px 4px 0 0;width:40px;height:40px;font-size:1em;color:var(--desktopPostFormTransparentButtonFg);background:transparent;outline:none;border:1px solid transparent;border-radius:4px}.gjisdzwh>.cw[data-v-699b2403]:hover,.gjisdzwh>.drive[data-v-699b2403]:hover,.gjisdzwh>.geo[data-v-699b2403]:hover,.gjisdzwh>.kao[data-v-699b2403]:hover,.gjisdzwh>.poll[data-v-699b2403]:hover,.gjisdzwh>.upload[data-v-699b2403]:hover,.gjisdzwh>.visibility[data-v-699b2403]:hover{background:transparent;border-color:var(--primaryAlpha03)}.gjisdzwh>.cw[data-v-699b2403]:active,.gjisdzwh>.drive[data-v-699b2403]:active,.gjisdzwh>.geo[data-v-699b2403]:active,.gjisdzwh>.kao[data-v-699b2403]:active,.gjisdzwh>.poll[data-v-699b2403]:active,.gjisdzwh>.upload[data-v-699b2403]:active,.gjisdzwh>.visibility[data-v-699b2403]:active{color:var(--primaryAlpha06);background:linear-gradient(180deg,var(--desktopPostFormTransparentButtonActiveGradientStart) 0,var(--desktopPostFormTransparentButtonActiveGradientEnd));border-color:var(--primaryAlpha05);box-shadow:inset 0 2px 4px rgba(0,0,0,.15)}.gjisdzwh>.cw[data-v-699b2403]:focus:after,.gjisdzwh>.drive[data-v-699b2403]:focus:after,.gjisdzwh>.geo[data-v-699b2403]:focus:after,.gjisdzwh>.kao[data-v-699b2403]:focus:after,.gjisdzwh>.poll[data-v-699b2403]:focus:after,.gjisdzwh>.upload[data-v-699b2403]:focus:after,.gjisdzwh>.visibility[data-v-699b2403]:focus:after{content:"";pointer-events:none;position:absolute;top:-5px;right:-5px;bottom:-5px;left:-5px;border:2px solid var(--primaryAlpha03);border-radius:8px}.gjisdzwh>.dropzone[data-v-699b2403]{position:absolute;left:0;top:0;width:100%;height:100%;border:2px dashed var(--primaryAlpha05);pointer-events:none}.preview[data-v-699b2403]{background:var(--desktopPostFormBg)}.preview>summary[data-v-699b2403]{padding:0 16px 16px 20px;font-size:14px;color:var(--text)}.preview>.note[data-v-699b2403]{border-top:solid var(--lineWidth) var(--faceDivider)}'],sourceRoot:""}]),t.exports=o},90935:(t,e,i)=>{"use strict";i.d(e,{Z:()=>u});var a=i(23691),o=i(30641),s=i(3689),r=i(20144),n=i(67384),l=i(76030),d=i(18567);const p=r.default.extend({i18n:(0,n.Z)("common/views/components/visibility-chooser.vue"),components:{XVisibilityIcon:d.Z},props:{source:{required:!0},currentVisibility:{type:String,required:!1}},data(){return{v:this.$store.state.settings.rememberNoteVisibility?this.$store.state.device.visibility||this.$store.state.settings.defaultNoteVisibility:this.currentVisibility||this.$store.state.settings.defaultNoteVisibility}},mounted(){this.$nextTick((()=>{const t=this.$refs.popover,e=this.source.getBoundingClientRect(),i=t.offsetWidth,a=t.offsetHeight;let o,s;if(this.$root.isMobile){o=e.left+window.pageXOffset+this.source.offsetWidth/2-i/2,s=e.top+window.pageYOffset+this.source.offsetHeight/2-a/2}else{o=e.left+window.pageXOffset+this.source.offsetWidth/2-i/2,s=e.top+window.pageYOffset+this.source.offsetHeight}o+i>window.innerWidth&&(o=window.innerWidth-i),t.style.left=o+"px",t.style.top=s+"px",(0,l.Z)({targets:this.$refs.backdrop,opacity:1,duration:100,easing:"linear"}),(0,l.Z)({targets:this.$refs.popover,opacity:1,scale:[.5,1],duration:500})}))},methods:{choose(t){this.$store.state.settings.rememberNoteVisibility&&this.$store.commit("device/setVisibility",t),this.$emit("chosen",t),this.destroyDom()},close(){this.$refs.backdrop.style.pointerEvents="none",(0,l.Z)({targets:this.$refs.backdrop,opacity:0,duration:200,easing:"linear"}),this.$refs.popover.style.pointerEvents="none",(0,l.Z)({targets:this.$refs.popover,opacity:0,scale:.5,duration:200,easing:"easeInBack",complete:()=>this.destroyDom()})}}});i(73090);const A=(0,i(51900).Z)(p,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"gqyayizv"},[i("div",{ref:"backdrop",staticClass:"backdrop",on:{click:t.close}}),i("div",{ref:"popover",staticClass:"popover",class:{isMobile:t.$root.isMobile}},[i("div",{class:{active:"public"==t.v},on:{click:function(e){return t.choose("public")}}},[i("x-visibility-icon",{attrs:{v:"public"}}),i("div",[i("span",[t._v(t._s(t.$t("public")))]),i("span",[t._v(t._s(t.$t("public-desc")))])])],1),i("div",{class:{active:"home"==t.v},on:{click:function(e){return t.choose("home")}}},[i("x-visibility-icon",{attrs:{v:"home"}}),i("div",[i("span",[t._v(t._s(t.$t("home")))]),i("span",[t._v(t._s(t.$t("home-desc")))])])],1),i("div",{class:{active:"followers"==t.v},on:{click:function(e){return t.choose("followers")}}},[i("x-visibility-icon",{attrs:{v:"followers"}}),i("div",[i("span",[t._v(t._s(t.$t("followers")))]),i("span",[t._v(t._s(t.$t("followers-desc")))])])],1),i("div",{class:{active:"specified"==t.v},on:{click:function(e){return t.choose("specified")}}},[i("x-visibility-icon",{attrs:{v:"specified"}}),i("div",[i("span",[t._v(t._s(t.$t("specified")))]),i("span",[t._v(t._s(t.$t("specified-desc")))])])],1),i("div",{class:{active:"local-public"==t.v},on:{click:function(e){return t.choose("local-public")}}},[i("x-visibility-icon",{attrs:{v:"local-public"}}),i("div",[i("span",[t._v(t._s(t.$t("local-public")))]),i("span",[t._v(t._s(t.$t("local-public-desc")))])])],1),i("div",{class:{active:"local-home"==t.v},on:{click:function(e){return t.choose("local-home")}}},[i("x-visibility-icon",{attrs:{v:"local-home"}}),i("div",[i("span",[t._v(t._s(t.$t("local-home")))])])],1),i("div",{class:{active:"local-followers"==t.v},on:{click:function(e){return t.choose("local-followers")}}},[i("x-visibility-icon",{attrs:{v:"local-followers"}}),i("div",[i("span",[t._v(t._s(t.$t("local-followers")))])])],1)])])}),[],!1,null,"efce9672",null).exports,c=["(=^・・^=)","v('ω')v","🐡( '-' 🐡 )ﾌｸﾞﾊﾟﾝﾁ!!!!","✌️(´･_･`)✌️","(｡>﹏<｡)","(Δ・x・Δ)","(ｺ｀・ﾍ・´ｹ)"];var h=i(51207),v=i(33671),g=i(51802),C=i(1948);var b=i(33605);const u=t=>({i18n:(0,n.Z)(),components:{XPostFormAttaches:()=>Promise.all([i.e(9980),i.e(7039)]).then(i.bind(i,27039)).then((t=>t.default)),XPollEditor:()=>i.e(9488).then(i.bind(i,69488)).then((t=>t.default))},props:{reply:{type:Object,required:!1},airReply:{type:Object,required:!1},renote:{type:Object,required:!1},mention:{type:Object,required:!1},initialText:{type:String,required:!1},initialNote:{type:Object,required:!1},instant:{type:Boolean,required:!1,default:!1}},data:()=>({posting:!1,text:"",files:[],uploadings:[],poll:!1,pollChoices:[],pollMultiple:!1,pollExpiration:[],useCw:!1,cw:null,geo:null,visibility:"public",visibleUsers:[],localOnly:!1,autocomplete:null,draghover:!1,quoteId:null,recentHashtags:JSON.parse(localStorage.getItem("hashtags")||"[]"),maxNoteTextLength:1e3}),computed:{draftId(){return this.renote?`renote:${this.renote.id}`:this.reply?`reply:${this.reply.id}`:"note"},placeholder(){const e=[this.$t("@.note-placeholders.a"),this.$t("@.note-placeholders.b"),this.$t("@.note-placeholders.c"),this.$t("@.note-placeholders.d"),this.$t("@.note-placeholders.e"),this.$t("@.note-placeholders.f")],i=e[Math.floor(Math.random()*e.length)];return this.renote?t.mobile?this.$t("@.post-form.option-quote-placeholder"):this.$t("@.post-form.quote-placeholder"):this.reply?this.$t("@.post-form.reply-placeholder"):i},submitText(){return this.renote?this.$t("@.post-form.renote"):this.reply?this.$t("@.post-form.reply"):this.$t("@.post-form.submit")},canPost(){return!this.posting&&(1<=this.text.length||1<=this.files.length||this.poll||this.renote)&&(0,o.length)(this.text.trim())<=this.maxNoteTextLength&&(!this.poll||this.pollChoices.length>=2)}},created(){this.$root.getMeta().then((t=>{this.maxNoteTextLength=t.maxNoteTextLength}))},mounted(){if(this.initialText&&(this.text=this.initialText),this.mention&&(this.text=this.mention.host?`@${this.mention.username}@${(0,s.H9)(this.mention.host)}`:`@${this.mention.username}`,this.text+=" "),this.reply&&null!=this.reply.user.host&&(this.text=`@${this.reply.user.username}@${(0,s.H9)(this.reply.user.host)} `),this.reply&&null!=this.reply.text){const e=(0,h.Q)(this.reply.text);for(const i of(t=e,(0,C.mC)(t).filter((t=>"mention"===t.type)).map((t=>t.props)))){const t=i.host?`@${i.username}@${(0,s.H9)(i.host)}`:`@${i.username}`;this.$store.state.i.username==i.username&&null==i.host||(this.$store.state.i.username==i.username&&i.host==v.ho||-1==this.text.indexOf(`${t} `)&&(this.text+=`${t} `))}}var t;this.applyVisibility(this.$store.state.settings.rememberNoteVisibility&&this.$store.state.device.visibility||this.$store.state.settings.defaultNoteVisibility),this.reply&&this.reply.localOnly&&(this.localOnly=!0),this.reply&&["home","followers","specified"].includes(this.reply.visibility)&&(this.visibility=this.reply.visibility,"specified"===this.reply.visibility&&(this.$root.api("users/show",{userIds:this.reply.visibleUserIds.filter((t=>t!==this.$store.state.i.id&&t!==this.reply.userId))}).then((t=>{this.visibleUsers.push(...t)})),this.reply.userId!==this.$store.state.i.id&&this.$root.api("users/show",{userId:this.reply.userId}).then((t=>{this.visibleUsers.push(t)})))),this.$store.state.settings.keepCw&&this.reply&&this.reply.cw&&(this.useCw=!0,this.cw=this.reply.cw),this.focus(),this.$nextTick((()=>{this.focus()})),this.airReply&&(this.localOnly=null==this.airReply.user.host&&"public"===this.airReply.visibility,this.visibility=this.airReply.visibility,null!=this.airReply.user.host&&"public"===this.visibility&&(this.visibility="home")),this.$nextTick((()=>{if(!this.instant&&!this.mention){const t=JSON.parse(localStorage.getItem("drafts")||"{}")[this.draftId];t&&(this.text=t.data.text,this.files=(t.data.files||[]).filter((t=>t)),t.data.poll&&(this.poll=!0,this.$nextTick((()=>{this.$refs.poll.set(t.data.poll)}))),this.$emit("change-attached-files",this.files))}if(this.initialNote){const t=this.initialNote;this.text=t.text?t.text:"",this.files=t.files,this.cw=t.cw,this.useCw=null!=t.cw,t.poll&&(this.poll=!0,this.$nextTick((()=>{this.$refs.poll.set({choices:t.poll.choices.map((t=>t.text)),multiple:t.poll.multiple})}))),this.geo=null,this.visibility=t.visibility,this.localOnly=t.localOnly,this.quoteId=t.renote?t.renote.id:null}this.$nextTick((()=>this.watch()))}))},methods:{watch(){this.$watch("text",(()=>this.saveDraft())),this.$watch("poll",(()=>this.saveDraft())),this.$watch("files",(()=>this.saveDraft()))},trimmedLength:t=>(0,o.length)(t.trim()),addTag(t){(0,a.Z)(this.$refs.text,` #${t} `)},focus(){this.$refs.text.focus()},chooseFile(){this.$refs.file.click()},chooseFileFromDrive(){this.$chooseDriveFile({multiple:!0}).then((t=>{for(const e of t)this.attachMedia(e)}))},attachMedia(t){this.files.push(t),this.$emit("change-attached-files",this.files)},detachMedia(t){this.files=this.files.filter((e=>e.id!=t)),this.$emit("change-attached-files",this.files)},onChangeFile(){for(const t of Array.from(this.$refs.file.files))this.upload(t)},upload(t,e){this.$refs.uploader.upload(t,this.$store.state.settings.uploadFolder,e)},onChangeUploadings(t){this.$emit("change-uploadings",t)},onPollUpdate(){const t=this.$refs.poll.get();this.pollChoices=t.choices,this.pollMultiple=t.multiple,this.pollExpiration=[t.expiration,t.expiresAt||t.expiredAfter],this.saveDraft()},setGeo(){null!=navigator.geolocation?navigator.geolocation.getCurrentPosition((t=>{this.geo=t.coords,this.$emit("geo-attached",this.geo)}),(t=>{this.$root.dialog({type:"error",title:this.$t("@.post-form.error"),text:t.message})}),{enableHighAccuracy:!0}):this.$root.dialog({type:"warning",text:this.$t("@.post-form.geolocation-alert")})},removeGeo(){this.geo=null,this.$emit("geo-dettached")},setVisibility(){const t=this.$root.new(A,{source:this.$refs.visibilityButton,currentVisibility:this.localOnly?`local-${this.visibility}`:this.visibility});t.$once("chosen",(t=>{this.applyVisibility(t)})),this.$once("hook:beforeDestroy",(()=>{t.close()}))},applyVisibility(t){const e=t.match(/^local-(.+)/);e?(this.localOnly=!0,this.visibility=e[1]):(this.localOnly=!1,this.visibility=t)},addVisibleUser(){this.$root.dialog({title:this.$t("@.post-form.enter-username"),user:!0}).then((({canceled:t,result:e})=>{t||this.visibleUsers.push(e)}))},removeVisibleUser(t){this.visibleUsers=(0,g.T1)(t,this.visibleUsers)},clear(){this.text="",this.files=[],this.poll=!1,this.quoteId=null,this.$emit("change-attached-files",this.files)},onKeydown(t){10!=t.which&&13!=t.which||!t.ctrlKey&&!t.metaKey||!this.canPost||this.post()},async onPaste(t){for(const{item:e,i}of Array.from(t.clipboardData.items).map(((t,e)=>({item:t,i:e}))))if("file"==e.kind){const t=e.getAsFile(),a=t.name.lastIndexOf("."),o=a>=0?t.name.slice(a):"",s=`${(0,b.T)(new Date(t.lastModified),this.$store.state.settings.pastedFileName).replace(/{{number}}/g,`${i+1}`)}${o}`,r=this.$store.state.settings.pasteDialog?await this.$root.dialog({title:this.$t("@.post-form.enter-file-name"),input:{default:s},allowEmpty:!1}).then((({canceled:t,result:e})=>!t&&e)):s;r&&this.upload(t,r)}const e=t.clipboardData.getData("text");this.renote||this.quoteId||!e.startsWith(v.HQ+"/notes/")||(t.preventDefault(),this.$root.dialog({type:"info",text:this.$t("@.post-form.quote-question"),showCancelButton:!0}).then((({canceled:t})=>{t?(0,a.Z)(this.$refs.text,e):this.quoteId=e.substr(v.HQ.length).match(/^\/notes\/(.+?)\/?$/)[1]})))},onDragover(t){const e="file"==t.dataTransfer.items[0].kind,i="mk_drive_file"==t.dataTransfer.types[0];(e||i)&&(t.preventDefault(),this.draghover=!0,t.dataTransfer.dropEffect="all"==t.dataTransfer.effectAllowed?"copy":"move")},onDragenter(t){this.draghover=!0},onDragleave(t){this.draghover=!1},onDrop(t){if(this.draghover=!1,t.dataTransfer.files.length>0){t.preventDefault();for(const e of Array.from(t.dataTransfer.files))this.upload(e);return}const e=t.dataTransfer.getData("mk_drive_file");if(null!=e&&""!=e){const i=JSON.parse(e);this.files.push(i),this.$emit("change-attached-files",this.files),t.preventDefault()}},async emoji(){const t=await i.e(8119).then(i.bind(i,58119)).then((t=>t.default)),e=this.$refs.emoji,o=e.getBoundingClientRect(),s=this.$root.new(t,{x:e.offsetWidth+o.left+window.pageXOffset,y:o.top+window.pageYOffset});s.$once("chosen",(t=>{(0,a.Z)(this.$refs.text,t)})),this.$once("hook:beforeDestroy",(()=>{s.close()}))},saveDraft(){if(this.instant)return;const t=JSON.parse(localStorage.getItem("drafts")||"{}");t[this.draftId]={updatedAt:new Date,data:{text:this.text,files:this.files,poll:this.poll&&this.$refs.poll?this.$refs.poll.get():void 0}},localStorage.setItem("drafts",JSON.stringify(t))},deleteDraft(){const t=JSON.parse(localStorage.getItem("drafts")||"{}");delete t[this.draftId],localStorage.setItem("drafts",JSON.stringify(t))},kao(){this.text+=c[Math.floor(Math.random()*c.length)]},togglePreview(){this.$store.commit("device/set",{key:"showPostPreview",value:this.$refs.preview.open})},doPreview(){this.preview=this.canPost?{id:`${Math.random()}`,createdAt:(new Date).toISOString(),userId:this.$store.state.i.id,user:this.$store.state.i,text:""==this.text?void 0:this.text,visibility:this.visibility,localOnly:this.localOnly,fileIds:this.files.length>0?this.files.map((t=>t.id)):void 0,files:this.files||[],replyId:this.reply?this.reply.id:void 0,reply:this.reply,renoteId:this.renote?this.renote.id:this.quoteId?this.quoteId:void 0,renote:this.renote}:null},post(){this.posting=!0;const e=t.mobile&&!this.$store.state.settings.disableViaMobile;if(this.$root.api("notes/create",{text:""==this.text?void 0:this.text,fileIds:this.files.length>0?this.files.map((t=>t.id)):void 0,replyId:this.reply?this.reply.id:void 0,renoteId:this.renote?this.renote.id:this.quoteId?this.quoteId:void 0,poll:this.poll?this.$refs.poll.get():void 0,cw:this.useCw?this.cw||"":void 0,visibility:this.visibility,visibleUserIds:"specified"==this.visibility?this.visibleUsers.map((t=>t.id)):void 0,localOnly:this.localOnly,geo:this.geo?{coordinates:[this.geo.longitude,this.geo.latitude],altitude:this.geo.altitude,accuracy:this.geo.accuracy,altitudeAccuracy:this.geo.altitudeAccuracy,heading:isNaN(this.geo.heading)?null:this.geo.heading,speed:this.geo.speed}:null,viaMobile:e}).then((e=>{this.clear(),this.deleteDraft(),this.$emit("posted"),t.onSuccess&&t.onSuccess(this)})).catch((e=>{t.onSuccess&&t.onFailure(this)})).then((()=>{this.posting=!1})),this.text&&""!=this.text){const t=(0,h.Q)(this.text).filter((t=>"hashtag"===t.node.type)).map((t=>t.node.props.hashtag)),e=JSON.parse(localStorage.getItem("hashtags")||"[]");localStorage.setItem("hashtags",JSON.stringify((0,g.Tw)(t.concat(e))))}}}})},97647:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});var a=i(20144),o=i(67384),s=i(90935);const r=a.default.extend({i18n:(0,o.Z)("desktop/views/components/post-form.vue"),watch:{text(){this.doPreview()},files(){this.doPreview()},visibility(){this.doPreview()},localOnly(){this.doPreview()}},mixins:[(0,s.Z)({onSuccess:t=>{t.$notify(t.renote?t.$t("reposted"):t.reply?t.$t("replied"):t.$t("posted"))},onFailure:t=>{t.$notify(t.renote?t.$t("renote-failed"):t.reply?t.$t("reply-failed"):t.$t("note-failed"))}})]});i(11977);const n=(0,i(51900).Z)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"gjisdzwh",on:{dragover:function(e){return e.stopPropagation(),t.onDragover(e)},dragenter:t.onDragenter,dragleave:t.onDragleave,drop:function(e){return e.stopPropagation(),t.onDrop(e)}}},[i("div",{staticClass:"content"},[t.recentHashtags.length>0&&t.$store.state.settings.suggestRecentHashtags?i("div",{staticClass:"hashtags"},[i("b",[t._v(t._s(t.$t("@.post-form.recent-tags"))+":")]),t._l(t.recentHashtags.slice(0,5),(function(e){return i("a",{attrs:{title:t.$t("@.post-form.click-to-tagging")},on:{click:function(i){return t.addTag(e)}}},[t._v("#"+t._s(e))])}))],2):t._e(),t.quoteId?i("div",{staticClass:"with-quote"},[i("fa",{attrs:{icon:"quote-left"}}),t._v(" "+t._s(t.$t("@.post-form.quote-attached"))),i("button",{on:{click:function(e){t.quoteId=null}}},[i("fa",{attrs:{icon:"times"}})],1)],1):t._e(),"specified"===t.visibility?i("div",{staticClass:"to-specified"},[i("fa",{attrs:{icon:"envelope"}}),t._v(" "+t._s(t.$t("@.post-form.specified-recipient"))+"\n\t\t\t\t"),i("div",{staticClass:"visibleUsers"},[t._l(t.visibleUsers,(function(e){return i("span",[i("mk-user-name",{attrs:{user:e}}),i("button",{on:{click:function(i){return t.removeVisibleUser(e)}}},[i("fa",{attrs:{icon:"times"}})],1)],1)})),i("button",{on:{click:t.addVisibleUser}},[t._v(t._s(t.$t("@.post-form.add-visible-user")))])],2)],1):t._e(),!0===t.localOnly?i("div",{staticClass:"local-only"},[i("fa",{attrs:{icon:"heart"}}),t._v(" "+t._s(t.$t("@.post-form.local-only-message")))],1):t._e(),i("input",{directives:[{name:"show",rawName:"v-show",value:t.useCw,expression:"useCw"},{name:"model",rawName:"v-model",value:t.cw,expression:"cw"},{name:"autocomplete",rawName:"v-autocomplete",value:{model:"cw"},expression:"{ model: 'cw' }"}],ref:"cw",attrs:{placeholder:t.$t("@.post-form.cw-placeholder")},domProps:{value:t.cw},on:{input:function(e){e.target.composing||(t.cw=e.target.value)}}}),i("div",{staticClass:"textarea"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"},{name:"autocomplete",rawName:"v-autocomplete",value:{model:"text"},expression:"{ model: 'text' }"}],ref:"text",class:{with:0!=t.files.length||t.poll},attrs:{disabled:t.posting,placeholder:t.placeholder},domProps:{value:t.text},on:{keydown:t.onKeydown,paste:t.onPaste,input:function(e){e.target.composing||(t.text=e.target.value)}}}),i("button",{ref:"emoji",staticClass:"emoji",on:{click:t.emoji}},[i("fa",{attrs:{icon:["far","laugh"]}})],1),i("x-post-form-attaches",{staticClass:"files",class:{with:t.poll},attrs:{files:t.files}}),t.poll?i("x-poll-editor",{ref:"poll",staticClass:"poll-editor",on:{destroyed:function(e){t.poll=!1},updated:function(e){return t.onPollUpdate()}}}):t._e()],1)]),i("mk-uploader",{ref:"uploader",on:{uploaded:t.attachMedia,change:t.onChangeUploadings}}),i("button",{staticClass:"upload",attrs:{title:t.$t("@.post-form.attach-media-from-local")},on:{click:t.chooseFile}},[i("fa",{attrs:{icon:"upload"}})],1),i("button",{staticClass:"drive",attrs:{title:t.$t("@.post-form.attach-media-from-drive")},on:{click:t.chooseFileFromDrive}},[i("fa",{attrs:{icon:"cloud"}})],1),i("button",{staticClass:"kao",attrs:{title:t.$t("@.post-form.insert-a-kao")},on:{click:t.kao}},[i("fa",{attrs:{icon:["far","smile"]}})],1),i("button",{staticClass:"poll",attrs:{title:t.$t("@.post-form.create-poll")},on:{click:function(e){t.poll=!t.poll}}},[i("fa",{attrs:{icon:"chart-pie"}})],1),i("button",{staticClass:"cw",attrs:{title:t.$t("@.post-form.hide-contents")},on:{click:function(e){t.useCw=!t.useCw}}},[i("fa",{attrs:{icon:["far","eye-slash"]}})],1),i("button",{staticClass:"geo",attrs:{title:t.$t("@.post-form.attach-location-information")},on:{click:function(e){t.geo?t.removeGeo():t.setGeo()}}},[i("fa",{attrs:{icon:"map-marker-alt"}})],1),i("button",{ref:"visibilityButton",staticClass:"visibility",attrs:{title:t.$t("@.post-form.visibility")},on:{click:t.setVisibility}},["public"===t.visibility?i("span",[i("fa",{attrs:{icon:"globe"}})],1):t._e(),"home"===t.visibility?i("span",[i("fa",{attrs:{icon:"home"}})],1):t._e(),"followers"===t.visibility?i("span",[i("fa",{attrs:{icon:"unlock"}})],1):t._e(),"specified"===t.visibility?i("span",[i("fa",{attrs:{icon:"envelope"}})],1):t._e()]),i("p",{staticClass:"text-count",class:{over:t.trimmedLength(t.text)>t.maxNoteTextLength}},[t._v(t._s(t.maxNoteTextLength-t.trimmedLength(t.text)))]),i("ui-button",{staticClass:"submit",attrs:{primary:"",wait:t.posting,disabled:!t.canPost},on:{click:t.post}},[t._v("\n\t\t\t"+t._s(t.posting?t.$t("@.post-form.posting"):t.submitText)),t.posting?i("mk-ellipsis"):t._e()],1),i("input",{ref:"file",attrs:{type:"file",multiple:"multiple",tabindex:"-1"},on:{change:t.onChangeFile}}),t.draghover?i("div",{staticClass:"dropzone"}):t._e()],1),t.preview?i("details",{ref:"preview",staticClass:"preview",attrs:{open:t.$store.state.device.showPostPreview},on:{toggle:t.togglePreview}},[i("summary",[t._v(t._s(t.$t("@.post-form.preview")))]),i("mk-note",{key:t.preview.id,staticClass:"note",attrs:{note:t.preview,compact:!0,preview:!0}})],1):t._e()])}),[],!1,null,"699b2403",null).exports},73090:(t,e,i)=>{var a=i(59287);"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,i(45346).Z)("b33b6a52",a,!0,{})},11977:(t,e,i)=>{var a=i(19246);"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,i(45346).Z)("44d00bd8",a,!0,{})}}]);
//# sourceMappingURL=7647.11.37.1-amfe.js.map