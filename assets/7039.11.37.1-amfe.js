(self.webpackChunkayuskey_mfe=self.webpackChunkayuskey_mfe||[]).push([[7039],{18927:(i,e,t)=>{var a=t(94015),s=t(23645)(a);s.push([i.id,".zdjebgpv[data-v-7108a140]{display:flex;position:relative}.zdjebgpv>.icon-sub[data-v-7108a140]{position:absolute;width:30%;height:auto;margin:0;right:4%;bottom:4%}.zdjebgpv>*[data-v-7108a140]{margin:auto}.zdjebgpv>.icon[data-v-7108a140]{pointer-events:none;height:65%;width:65%}","",{version:3,sources:["webpack://./src/client/app/common/views/components/drive-file-thumbnail.vue"],names:[],mappings:"AAAA,2BAA2B,YAAY,CAAC,iBAAiB,CAAC,qCAAqC,iBAAiB,CAAC,SAAS,CAAC,WAAW,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC,6BAA6B,WAAW,CAAC,iCAAiC,mBAAmB,CAAC,UAAU,CAAC,SAAS",sourcesContent:[".zdjebgpv[data-v-7108a140]{display:flex;position:relative}.zdjebgpv>.icon-sub[data-v-7108a140]{position:absolute;width:30%;height:auto;margin:0;right:4%;bottom:4%}.zdjebgpv>*[data-v-7108a140]{margin:auto}.zdjebgpv>.icon[data-v-7108a140]{pointer-events:none;height:65%;width:65%}"],sourceRoot:""}]),i.exports=s},51517:(i,e,t)=>{var a=t(94015),s=t(23645)(a);s.push([i.id,".skeikyzd[data-v-0e3d4f32]{padding:4px}.skeikyzd>.files[data-v-0e3d4f32]{display:flex;flex-wrap:wrap}.skeikyzd>.files>div[data-v-0e3d4f32]{width:64px;height:64px;margin:4px;cursor:move}.skeikyzd>.files>div:hover>.remove[data-v-0e3d4f32]{display:block}.skeikyzd>.files>div>.thumbnail[data-v-0e3d4f32]{width:100%;height:100%;z-index:1;color:var(--text)}.skeikyzd>.files>div>.remove[data-v-0e3d4f32]{display:none;position:absolute;top:-6px;right:-6px;width:16px;height:16px;cursor:pointer;z-index:1000}.skeikyzd>.files>div>.sensitive[data-v-0e3d4f32]{display:flex;position:absolute;width:64px;height:64px;top:0;left:0;z-index:2;background:rgba(17,17,17,.7);color:#fff}.skeikyzd>.files>div>.sensitive>.icon[data-v-0e3d4f32]{margin:auto}.skeikyzd>.remain[data-v-0e3d4f32]{display:block;position:absolute;top:8px;right:8px;margin:0;padding:0;color:var(--primaryAlpha04)}","",{version:3,sources:["webpack://./src/client/app/common/views/components/post-form-attaches.vue"],names:[],mappings:"AAAA,2BAA2B,WAAW,CAAC,kCAAkC,YAAY,CAAC,cAAc,CAAC,sCAAsC,UAAU,CAAC,WAAW,CAAC,UAAU,CAAC,WAAW,CAAC,oDAAoD,aAAa,CAAC,iDAAiD,UAAU,CAAC,WAAW,CAAC,SAAS,CAAC,iBAAiB,CAAC,8CAA8C,YAAY,CAAC,iBAAiB,CAAC,QAAQ,CAAC,UAAU,CAAC,UAAU,CAAC,WAAW,CAAC,cAAc,CAAC,YAAY,CAAC,iDAAiD,YAAY,CAAC,iBAAiB,CAAC,UAAU,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,4BAA4B,CAAC,UAAU,CAAC,uDAAuD,WAAW,CAAC,mCAAmC,aAAa,CAAC,iBAAiB,CAAC,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,2BAA2B",sourcesContent:[".skeikyzd[data-v-0e3d4f32]{padding:4px}.skeikyzd>.files[data-v-0e3d4f32]{display:flex;flex-wrap:wrap}.skeikyzd>.files>div[data-v-0e3d4f32]{width:64px;height:64px;margin:4px;cursor:move}.skeikyzd>.files>div:hover>.remove[data-v-0e3d4f32]{display:block}.skeikyzd>.files>div>.thumbnail[data-v-0e3d4f32]{width:100%;height:100%;z-index:1;color:var(--text)}.skeikyzd>.files>div>.remove[data-v-0e3d4f32]{display:none;position:absolute;top:-6px;right:-6px;width:16px;height:16px;cursor:pointer;z-index:1000}.skeikyzd>.files>div>.sensitive[data-v-0e3d4f32]{display:flex;position:absolute;width:64px;height:64px;top:0;left:0;z-index:2;background:rgba(17,17,17,.7);color:#fff}.skeikyzd>.files>div>.sensitive>.icon[data-v-0e3d4f32]{margin:auto}.skeikyzd>.remain[data-v-0e3d4f32]{display:block;position:absolute;top:8px;right:8px;margin:0;padding:0;color:var(--primaryAlpha04)}"],sourceRoot:""}]),i.exports=s},99017:(i,e,t)=>{"use strict";t.d(e,{Z:()=>n});var a=t(20144),s=t(51436),o=t(93330);const A=a.default.extend({components:{ImgWithBlurhash:o.Z},props:{file:{type:Object,required:!0},fit:{type:String,required:!1,default:"cover"}},data:()=>({isContextmenuShowing:!1,isDragging:!1,faFile:s.gMD,faFileAlt:s.cwv,faFileImage:s.Oi0,faMusic:s.Xig,faFileVideo:s.hvm,faFileCsv:s.fUD,faFilePdf:s.gSj,faFileArchive:s.W2U,faFilm:s.CjD}),computed:{is(){return this.file.type.startsWith("image/")?"image":this.file.type.startsWith("video/")?"video":"audio/midi"===this.file.type?"midi":this.file.type.startsWith("audio/")?"audio":this.file.type.endsWith("/csv")?"csv":this.file.type.endsWith("/pdf")?"pdf":this.file.type.startsWith("text/")?"textfile":["application/zip","application/x-cpio","application/x-bzip","application/x-bzip2","application/java-archive","application/x-rar-compressed","application/x-tar","application/gzip","application/x-7z-compressed"].some((i=>i===this.file.type))?"archive":"unknown"},isThumbnailAvailable(){return!!this.file.thumbnailUrl&&("image"===this.is||"video"===this.is)}},mounted(){const i=this.$refs.volumectrl;i&&(i.volume=this.$store.state.device.mediaVolume)},methods:{volumechange(){const i=this.$refs.volumectrl;this.$store.commit("device/set",{key:"mediaVolume",value:i.volume})}}});t(18266);const n=(0,t(51900).Z)(A,(function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("div",{ref:"thumbnail",staticClass:"zdjebgpv"},[i.isThumbnailAvailable?t("img-with-blurhash",{style:"object-fit: "+i.fit,attrs:{hash:i.file.blurhash,src:i.file.thumbnailUrl,alt:i.file.name,title:i.file.name}}):"image"===i.is?t("fa",{staticClass:"icon",attrs:{icon:i.faFileImage}}):"video"===i.is?t("fa",{staticClass:"icon",attrs:{icon:i.faFileVideo}}):"audio"===i.is||"midi"===i.is?t("fa",{staticClass:"icon",attrs:{icon:i.faMusic}}):"csv"===i.is?t("fa",{staticClass:"icon",attrs:{icon:i.faFileCsv}}):"pdf"===i.is?t("fa",{staticClass:"icon",attrs:{icon:i.faFilePdf}}):"textfile"===i.is?t("fa",{staticClass:"icon",attrs:{icon:i.faFileAlt}}):"archive"===i.is?t("fa",{staticClass:"icon",attrs:{icon:i.faFileArchive}}):t("fa",{staticClass:"icon",attrs:{icon:i.faFile}}),i.isThumbnailAvailable&&"video"===i.is?t("fa",{staticClass:"icon-sub",attrs:{icon:i.faFilm}}):i._e()],1)}),[],!1,null,"7108a140",null).exports},27039:(i,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>p});var a=t(20144),s=t(67384),o=t(9980),A=t.n(o),n=t(6850),l=t(56024),d=t(51436),r=t(99017);const c=a.default.extend({i18n:(0,s.Z)("common/views/components/post-form-attaches.vue"),components:{XDraggable:A(),XFileThumbnail:r.Z},props:{files:{type:Array,required:!0},detachMediaFn:{type:Function,required:!1}},data:()=>({faExclamationTriangle:d.eHv}),methods:{detachMedia(i){this.detachMediaFn?this.detachMediaFn(i):this.$parent.detachMedia&&this.$parent.detachMedia(i)},toggleSensitive(i){this.$root.api("drive/files/update",{fileId:i.id,isSensitive:!i.isSensitive}).then((()=>{i.isSensitive=!i.isSensitive}))},showFileMenu(i,e){this.$root.new(n.Z,{items:[{type:"item",text:i.isSensitive?this.$t("unmark-as-sensitive"):this.$t("mark-as-sensitive"),icon:i.isSensitive?l.Aq:l.Md,action:()=>{this.toggleSensitive(i)}},{type:"item",text:this.$t("attach-cancel"),icon:l.nY,action:()=>{this.detachMedia(i.id)}}],source:e.currentTarget||e.target})}}});t(8815);const p=(0,t(51900).Z)(c,(function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:0!=i.files.length,expression:"files.length != 0"}],staticClass:"skeikyzd"},[t("x-draggable",{staticClass:"files",attrs:{list:i.files,animation:"150"}},i._l(i.files,(function(e){return t("div",{key:e.id,on:{click:function(t){return i.showFileMenu(e,t)},contextmenu:function(t){return t.preventDefault(),i.showFileMenu(e,t)}}},[t("x-file-thumbnail",{staticClass:"thumbnail",attrs:{"data-id":e.id,file:e,fit:"cover"}}),t("img",{staticClass:"remove",attrs:{src:"/assets/desktop/remove.png",title:i.$t("attach-cancel"),alt:""},on:{click:function(t){return t.stopPropagation(),i.detachMedia(e.id)}}}),e.isSensitive?t("div",{staticClass:"sensitive"},[t("fa",{staticClass:"icon",attrs:{icon:i.faExclamationTriangle}})],1):i._e()],1)})),0),t("p",{staticClass:"remain"},[i._v(i._s(4-i.files.length)+"/4")])],1)}),[],!1,null,"0e3d4f32",null).exports},18266:(i,e,t)=>{var a=t(18927);"string"==typeof a&&(a=[[i.id,a,""]]),a.locals&&(i.exports=a.locals);(0,t(45346).Z)("5d8d0ca0",a,!0,{})},8815:(i,e,t)=>{var a=t(51517);"string"==typeof a&&(a=[[i.id,a,""]]),a.locals&&(i.exports=a.locals);(0,t(45346).Z)("d36fe0ce",a,!0,{})}}]);
//# sourceMappingURL=7039.11.37.1-amfe.js.map