(self.webpackChunkayuskey_mfe=self.webpackChunkayuskey_mfe||[]).push([[2834],{41811:(a,e,s)=>{var t=s(94015),i=s(23645)(t);i.push([a.id,'.mk-messaging[data-compact][data-v-0a146e72]{font-size:.8em}.mk-messaging[data-compact]>.history>a[data-v-0a146e72]:last-child{border-bottom:none}.mk-messaging[data-compact]>.history>a:not([data-is-me]):not([data-is-read])>div[data-v-0a146e72]{background-image:none;border-left:4px solid #3aa2dc}.mk-messaging[data-compact]>.history>a>div[data-v-0a146e72]{padding:16px}.mk-messaging[data-compact]>.history>a>div>header>.mk-time[data-v-0a146e72]{font-size:1em}.mk-messaging[data-compact]>.history>a>div>.avatar[data-v-0a146e72]{width:42px;height:42px;margin:0 12px 0 0}.mk-messaging>.search[data-v-0a146e72]{display:block;position:-webkit-sticky;position:sticky;top:0;left:0;z-index:1;width:100%;box-shadow:0 0 2px rgba(0,0,0,.2)}.mk-messaging>.search>.form[data-v-0a146e72]{background:rgba(0,0,0,.02)}.mk-messaging>.search>.form>label[data-v-0a146e72]{display:block;position:absolute;top:0;left:8px;z-index:1;height:100%;width:38px;pointer-events:none}.mk-messaging>.search>.form>label>i[data-v-0a146e72]{display:block;position:absolute;top:0;right:0;bottom:0;left:0;width:1em;line-height:48px;margin:auto;color:#555}.mk-messaging>.search>.form>input[data-v-0a146e72]{margin:0;padding:0 0 0 42px;width:100%;font-size:1em;line-height:48px;color:var(--faceText);outline:none;background:transparent;border:none;border-radius:5px;box-shadow:none}.mk-messaging>.search>.result[data-v-0a146e72]{display:block;top:0;left:0;z-index:2;width:100%;margin:0;padding:0;background:#fff}.mk-messaging>.search>.result>.users[data-v-0a146e72]{margin:0;padding:0;list-style:none}.mk-messaging>.search>.result>.users>li[data-v-0a146e72]{display:inline-block;z-index:1;width:100%;padding:8px 32px;vertical-align:top;white-space:nowrap;overflow:hidden;color:rgba(0,0,0,.8);text-decoration:none;transition:none;cursor:pointer}.mk-messaging>.search>.result>.users>li[data-v-0a146e72]:focus,.mk-messaging>.search>.result>.users>li[data-v-0a146e72]:hover{color:#fff;background:var(--primary)}.mk-messaging>.search>.result>.users>li:focus .name[data-v-0a146e72],.mk-messaging>.search>.result>.users>li:focus .username[data-v-0a146e72],.mk-messaging>.search>.result>.users>li:hover .name[data-v-0a146e72],.mk-messaging>.search>.result>.users>li:hover .username[data-v-0a146e72]{color:#fff}.mk-messaging>.search>.result>.users>li[data-v-0a146e72]:active{color:#fff;background:var(--primaryDarken10)}.mk-messaging>.search>.result>.users>li:active .name[data-v-0a146e72],.mk-messaging>.search>.result>.users>li:active .username[data-v-0a146e72]{color:#fff}.mk-messaging>.search>.result>.users>li .avatar[data-v-0a146e72]{vertical-align:middle;min-width:32px;min-height:32px;max-width:32px;max-height:32px;margin:0 8px 0 0;border-radius:6px}.mk-messaging>.search>.result>.users>li .name[data-v-0a146e72]{margin:0 8px 0 0;font-weight:400;color:rgba(0,0,0,.8)}.mk-messaging>.search>.result>.users>li .username[data-v-0a146e72]{font-weight:400;color:rgba(0,0,0,.3)}.mk-messaging>.history>a[data-v-0a146e72]{display:block;text-decoration:none;background:var(--face);border-bottom:1px solid var(--faceDivider)}.mk-messaging>.history>a *[data-v-0a146e72]{pointer-events:none;user-select:none}.mk-messaging>.history>a[data-v-0a146e72]:hover{box-shadow:inset 0 0 0 100px rgba(0,0,0,.05)}.mk-messaging>.history>a:hover .avatar[data-v-0a146e72]{filter:saturate(200%)}.mk-messaging>.history>a[data-v-0a146e72]:active{box-shadow:inset 0 0 0 100px rgba(0,0,0,.1)}.mk-messaging>.history>a[data-is-me][data-v-0a146e72],.mk-messaging>.history>a[data-is-read][data-v-0a146e72]{opacity:.8}.mk-messaging>.history>a:not([data-is-me]):not([data-is-read])>div[data-v-0a146e72]{background-image:url(/assets/unread.svg);background-repeat:no-repeat;background-position:0}.mk-messaging>.history>a[data-v-0a146e72]:after{content:"";display:block;clear:both}.mk-messaging>.history>a>div[data-v-0a146e72]{max-width:500px;margin:0 auto;padding:20px 30px}.mk-messaging>.history>a>div[data-v-0a146e72]:after{content:"";display:block;clear:both}.mk-messaging>.history>a>div>header[data-v-0a146e72]{display:flex;align-items:center;margin-bottom:2px;white-space:nowrap;overflow:hidden}.mk-messaging>.history>a>div>header>.name[data-v-0a146e72]{margin:0;padding:0;overflow:hidden;text-overflow:ellipsis;font-size:1em;color:var(--noteHeaderName);font-weight:700;transition:all .1s ease}.mk-messaging>.history>a>div>header>.username[data-v-0a146e72]{margin:0 8px;color:var(--noteHeaderAcct)}.mk-messaging>.history>a>div>header>.mk-time[data-v-0a146e72]{margin:0 0 0 auto;color:var(--noteHeaderInfo);font-size:80%}.mk-messaging>.history>a>div>.avatar[data-v-0a146e72]{float:left;width:54px;height:54px;margin:0 16px 0 0;border-radius:8px;transition:all .1s ease}.mk-messaging>.history>a>div>.body>.text[data-v-0a146e72]{display:block;margin:0;padding:0;overflow:hidden;overflow-wrap:break-word;font-size:1.1em;color:var(--faceText)}.mk-messaging>.history>a>div>.body>.text .me[data-v-0a146e72]{opacity:.7}.mk-messaging>.history>a>div>.body>.image[data-v-0a146e72]{display:block;max-width:100%;max-height:512px}.mk-messaging>.no-history[data-v-0a146e72]{margin:0;padding:2em 1em;text-align:center;color:#999;font-weight:500}.mk-messaging>.fetching[data-v-0a146e72]{margin:0;padding:16px;text-align:center;color:var(--text)}.mk-messaging>.fetching>[data-icon][data-v-0a146e72]{margin-right:4px}@media (max-width:400px){.mk-messaging>.search>.result>.users>li[data-v-0a146e72]{padding:8px 16px}.mk-messaging>.history>a:not([data-is-me]):not([data-is-read])>div[data-v-0a146e72]{background-image:none;border-left:4px solid #3aa2dc}.mk-messaging>.history>a>div[data-v-0a146e72]{padding:16px;font-size:14px}.mk-messaging>.history>a>div>.avatar[data-v-0a146e72]{margin:0 12px 0 0}}',"",{version:3,sources:["webpack://./src/client/app/common/views/components/messaging.vue"],names:[],mappings:"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",sourcesContent:['.mk-messaging[data-compact][data-v-0a146e72]{font-size:.8em}.mk-messaging[data-compact]>.history>a[data-v-0a146e72]:last-child{border-bottom:none}.mk-messaging[data-compact]>.history>a:not([data-is-me]):not([data-is-read])>div[data-v-0a146e72]{background-image:none;border-left:4px solid #3aa2dc}.mk-messaging[data-compact]>.history>a>div[data-v-0a146e72]{padding:16px}.mk-messaging[data-compact]>.history>a>div>header>.mk-time[data-v-0a146e72]{font-size:1em}.mk-messaging[data-compact]>.history>a>div>.avatar[data-v-0a146e72]{width:42px;height:42px;margin:0 12px 0 0}.mk-messaging>.search[data-v-0a146e72]{display:block;position:-webkit-sticky;position:sticky;top:0;left:0;z-index:1;width:100%;box-shadow:0 0 2px rgba(0,0,0,.2)}.mk-messaging>.search>.form[data-v-0a146e72]{background:rgba(0,0,0,.02)}.mk-messaging>.search>.form>label[data-v-0a146e72]{display:block;position:absolute;top:0;left:8px;z-index:1;height:100%;width:38px;pointer-events:none}.mk-messaging>.search>.form>label>i[data-v-0a146e72]{display:block;position:absolute;top:0;right:0;bottom:0;left:0;width:1em;line-height:48px;margin:auto;color:#555}.mk-messaging>.search>.form>input[data-v-0a146e72]{margin:0;padding:0 0 0 42px;width:100%;font-size:1em;line-height:48px;color:var(--faceText);outline:none;background:transparent;border:none;border-radius:5px;box-shadow:none}.mk-messaging>.search>.result[data-v-0a146e72]{display:block;top:0;left:0;z-index:2;width:100%;margin:0;padding:0;background:#fff}.mk-messaging>.search>.result>.users[data-v-0a146e72]{margin:0;padding:0;list-style:none}.mk-messaging>.search>.result>.users>li[data-v-0a146e72]{display:inline-block;z-index:1;width:100%;padding:8px 32px;vertical-align:top;white-space:nowrap;overflow:hidden;color:rgba(0,0,0,.8);text-decoration:none;transition:none;cursor:pointer}.mk-messaging>.search>.result>.users>li[data-v-0a146e72]:focus,.mk-messaging>.search>.result>.users>li[data-v-0a146e72]:hover{color:#fff;background:var(--primary)}.mk-messaging>.search>.result>.users>li:focus .name[data-v-0a146e72],.mk-messaging>.search>.result>.users>li:focus .username[data-v-0a146e72],.mk-messaging>.search>.result>.users>li:hover .name[data-v-0a146e72],.mk-messaging>.search>.result>.users>li:hover .username[data-v-0a146e72]{color:#fff}.mk-messaging>.search>.result>.users>li[data-v-0a146e72]:active{color:#fff;background:var(--primaryDarken10)}.mk-messaging>.search>.result>.users>li:active .name[data-v-0a146e72],.mk-messaging>.search>.result>.users>li:active .username[data-v-0a146e72]{color:#fff}.mk-messaging>.search>.result>.users>li .avatar[data-v-0a146e72]{vertical-align:middle;min-width:32px;min-height:32px;max-width:32px;max-height:32px;margin:0 8px 0 0;border-radius:6px}.mk-messaging>.search>.result>.users>li .name[data-v-0a146e72]{margin:0 8px 0 0;font-weight:400;color:rgba(0,0,0,.8)}.mk-messaging>.search>.result>.users>li .username[data-v-0a146e72]{font-weight:400;color:rgba(0,0,0,.3)}.mk-messaging>.history>a[data-v-0a146e72]{display:block;text-decoration:none;background:var(--face);border-bottom:1px solid var(--faceDivider)}.mk-messaging>.history>a *[data-v-0a146e72]{pointer-events:none;user-select:none}.mk-messaging>.history>a[data-v-0a146e72]:hover{box-shadow:inset 0 0 0 100px rgba(0,0,0,.05)}.mk-messaging>.history>a:hover .avatar[data-v-0a146e72]{filter:saturate(200%)}.mk-messaging>.history>a[data-v-0a146e72]:active{box-shadow:inset 0 0 0 100px rgba(0,0,0,.1)}.mk-messaging>.history>a[data-is-me][data-v-0a146e72],.mk-messaging>.history>a[data-is-read][data-v-0a146e72]{opacity:.8}.mk-messaging>.history>a:not([data-is-me]):not([data-is-read])>div[data-v-0a146e72]{background-image:url(/assets/unread.svg);background-repeat:no-repeat;background-position:0}.mk-messaging>.history>a[data-v-0a146e72]:after{content:"";display:block;clear:both}.mk-messaging>.history>a>div[data-v-0a146e72]{max-width:500px;margin:0 auto;padding:20px 30px}.mk-messaging>.history>a>div[data-v-0a146e72]:after{content:"";display:block;clear:both}.mk-messaging>.history>a>div>header[data-v-0a146e72]{display:flex;align-items:center;margin-bottom:2px;white-space:nowrap;overflow:hidden}.mk-messaging>.history>a>div>header>.name[data-v-0a146e72]{margin:0;padding:0;overflow:hidden;text-overflow:ellipsis;font-size:1em;color:var(--noteHeaderName);font-weight:700;transition:all .1s ease}.mk-messaging>.history>a>div>header>.username[data-v-0a146e72]{margin:0 8px;color:var(--noteHeaderAcct)}.mk-messaging>.history>a>div>header>.mk-time[data-v-0a146e72]{margin:0 0 0 auto;color:var(--noteHeaderInfo);font-size:80%}.mk-messaging>.history>a>div>.avatar[data-v-0a146e72]{float:left;width:54px;height:54px;margin:0 16px 0 0;border-radius:8px;transition:all .1s ease}.mk-messaging>.history>a>div>.body>.text[data-v-0a146e72]{display:block;margin:0;padding:0;overflow:hidden;overflow-wrap:break-word;font-size:1.1em;color:var(--faceText)}.mk-messaging>.history>a>div>.body>.text .me[data-v-0a146e72]{opacity:.7}.mk-messaging>.history>a>div>.body>.image[data-v-0a146e72]{display:block;max-width:100%;max-height:512px}.mk-messaging>.no-history[data-v-0a146e72]{margin:0;padding:2em 1em;text-align:center;color:#999;font-weight:500}.mk-messaging>.fetching[data-v-0a146e72]{margin:0;padding:16px;text-align:center;color:var(--text)}.mk-messaging>.fetching>[data-icon][data-v-0a146e72]{margin-right:4px}@media (max-width:400px){.mk-messaging>.search>.result>.users>li[data-v-0a146e72]{padding:8px 16px}.mk-messaging>.history>a:not([data-is-me]):not([data-is-read])>div[data-v-0a146e72]{background-image:none;border-left:4px solid #3aa2dc}.mk-messaging>.history>a>div[data-v-0a146e72]{padding:16px;font-size:14px}.mk-messaging>.history>a>div>.avatar[data-v-0a146e72]{margin:0 12px 0 0}}'],sourceRoot:""}]),a.exports=i},12834:(a,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>n});var t=s(20144),i=s(51436),A=s(67384),r=s(7074);const o=t.default.extend({i18n:(0,A.Z)("common/views/components/messaging.vue"),props:{compact:{type:Boolean,default:!1},headerTop:{type:Number,default:0}},data:()=>({fetching:!0,moreFetching:!1,messages:[],q:null,result:[],connection:null,faUser:i.ILF,faUsers:i.FVb}),mounted(){this.connection=this.$root.stream.useSharedConnection("messagingIndex"),this.connection.on("message",this.onMessage),this.connection.on("read",this.onRead),this.$root.api("messaging/history",{group:!1}).then((a=>{this.$root.api("messaging/history",{group:!0}).then((e=>{const s=a.concat(e);s.sort(((a,e)=>new Date(e.createdAt).getTime()-new Date(a.createdAt).getTime())),this.messages=s,this.fetching=!1}))}))},beforeDestroy(){this.connection.dispose()},methods:{getAcct:r.Z,isMe(a){return a.userId==this.$store.state.i.id},onMessage(a){a.recipientId?(this.messages=this.messages.filter((e=>!(e.recipientId==a.recipientId&&e.userId==a.userId||e.recipientId==a.userId&&e.userId==a.recipientId))),this.messages.unshift(a)):a.groupId&&(this.messages=this.messages.filter((e=>e.groupId!==a.groupId)),this.messages.unshift(a))},onRead(a){for(const e of a){const a=this.messages.find((a=>a.id==e));a&&(a.recipientId?a.isRead=!0:a.groupId&&a.reads.push(this.$store.state.i.id))}},search(){""!=this.q?this.$root.api("users/search",{query:this.q,localOnly:!1,limit:10,detail:!1}).then((a=>{this.result=a.filter((a=>a.id!=this.$store.state.i.id))})):this.result=[]},navigate(a){this.$emit("navigate",a)},navigateGroup(a){this.$emit("navigateGroup",a)},onSearchKeydown(a){switch(a.which){case 9:case 40:a.preventDefault(),a.stopPropagation(),this.$refs.searchResult.childNodes[0].focus()}},onSearchResultKeydown(a,e){const s=this.$refs.searchResult,t=()=>{e.preventDefault(),e.stopPropagation()};switch(!0){case 27==e.which:t(),this.$refs.search.focus();break;case 9==e.which&&e.shiftKey:case 38==e.which:t(),(s.childNodes[a].previousElementSibling||s.childNodes[this.result.length-1]).focus();break;case 9==e.which:case 40==e.which:t(),(s.childNodes[a].nextElementSibling||s.childNodes[0]).focus()}},async startUser(){const{result:a}=await this.$root.dialog({user:{local:!0}});null!=a&&this.navigate(a)},async startGroup(){const a=await this.$root.api("users/groups/owned"),e=await this.$root.api("users/groups/joined"),{canceled:s,result:t}=await this.$root.dialog({type:null,title:this.$t("select-group"),select:{items:a.concat(e).map((a=>({value:a,text:a.name})))},showCancelButton:!0});s||this.navigateGroup(t)}}});s(85320);const n=(0,s(51900).Z)(o,(function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("div",{staticClass:"mk-messaging",attrs:{"data-compact":a.compact}},[a.compact?a._e():s("div",{staticClass:"search",style:{top:a.headerTop+"px"}},[s("div",{staticClass:"form"},[s("label",{attrs:{for:"search-input"}},[s("i",[s("fa",{attrs:{icon:"search"}})],1)]),s("input",{directives:[{name:"model",rawName:"v-model",value:a.q,expression:"q"}],attrs:{type:"search",placeholder:a.$t("search-user")},domProps:{value:a.q},on:{input:[function(e){e.target.composing||(a.q=e.target.value)},a.search],keydown:a.onSearchKeydown}})]),s("div",{staticClass:"result"},[a.result.length>0?s("ol",{ref:"searchResult",staticClass:"users"},a._l(a.result,(function(e,t){return s("li",{attrs:{tabindex:"-1"},on:{keydown:[function(s){return!s.type.indexOf("key")&&a._k(s.keyCode,"enter",13,s.key,"Enter")?null:a.navigate(e)},function(e){return a.onSearchResultKeydown(t)}],click:function(s){return a.navigate(e)}}},[s("mk-avatar",{key:e.id,staticClass:"avatar",attrs:{user:e}}),s("span",{staticClass:"name"},[s("mk-user-name",{key:e.id,attrs:{user:e}})],1),s("span",{staticClass:"username"},[a._v("@"+a._s(a._f("acct")(e)))])],1)})),0):a._e()])]),a.messages.length>0?s("div",{staticClass:"history"},a._l(a.messages,(function(e){return s("a",{key:e.id,staticClass:"user",attrs:{href:e.groupId?"/i/messaging/group/"+e.groupId:"/i/messaging/"+a.getAcct(a.isMe(e)?e.recipient:e.user),"data-is-me":a.isMe(e),"data-is-read":e.groupId?e.reads.includes(a.$store.state.i.id):e.isRead},on:{click:function(s){s.preventDefault(),e.groupId?a.navigateGroup(e.group):a.navigate(a.isMe(e)?e.recipient:e.user)}}},[s("div",[s("mk-avatar",{staticClass:"avatar",attrs:{user:e.groupId?e.user:a.isMe(e)?e.recipient:e.user}}),e.groupId?s("header",[s("span",{staticClass:"name"},[a._v(a._s(e.group.name))]),s("mk-time",{attrs:{time:e.createdAt}})],1):s("header",[s("span",{staticClass:"name"},[s("mk-user-name",{attrs:{user:a.isMe(e)?e.recipient:e.user}})],1),s("span",{staticClass:"username"},[a._v("@"+a._s(a._f("acct")(a.isMe(e)?e.recipient:e.user)))]),s("mk-time",{attrs:{time:e.createdAt}})],1),s("div",{staticClass:"body"},[s("p",{staticClass:"text"},[a.isMe(e)?s("span",{staticClass:"me"},[a._v(a._s(a.$t("you"))+":")]):a._e(),a._v(a._s(e.text))])])],1)])})),0):a._e(),a.fetching||0!=a.messages.length?a._e():s("p",{staticClass:"no-history"},[a._v(a._s(a.$t("no-history")))]),a.fetching?s("p",{staticClass:"fetching"},[s("fa",{attrs:{icon:"spinner",pulse:"","fixed-width":""}}),a._v(a._s(a.$t("@.loading"))),s("mk-ellipsis")],1):a._e(),s("ui-margin",[s("ui-button",{on:{click:function(e){return a.startUser()}}},[s("fa",{attrs:{icon:a.faUser}}),a._v(" "+a._s(a.$t("start-with-user")))],1),s("ui-button",{on:{click:function(e){return a.startGroup()}}},[s("fa",{attrs:{icon:a.faUsers}}),a._v(" "+a._s(a.$t("start-with-group")))],1)],1)],1)}),[],!1,null,"0a146e72",null).exports},85320:(a,e,s)=>{var t=s(41811);t.__esModule&&(t=t.default),"string"==typeof t&&(t=[[a.id,t,""]]),t.locals&&(a.exports=t.locals);(0,s(45346).Z)("61a68672",t,!0,{})}}]);
//# sourceMappingURL=2834.11.37.1-amfe.js.map