(self.webpackChunkayuskey_mfe=self.webpackChunkayuskey_mfe||[]).push([[5645],{18927:(e,t,i)=>{var a=i(94015),s=i(23645)(a);s.push([e.id,".zdjebgpv[data-v-7108a140]{display:flex;position:relative}.zdjebgpv>.icon-sub[data-v-7108a140]{position:absolute;width:30%;height:auto;margin:0;right:4%;bottom:4%}.zdjebgpv>*[data-v-7108a140]{margin:auto}.zdjebgpv>.icon[data-v-7108a140]{pointer-events:none;height:65%;width:65%}","",{version:3,sources:["webpack://./src/client/app/common/views/components/drive-file-thumbnail.vue"],names:[],mappings:"AAAA,2BAA2B,YAAY,CAAC,iBAAiB,CAAC,qCAAqC,iBAAiB,CAAC,SAAS,CAAC,WAAW,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC,6BAA6B,WAAW,CAAC,iCAAiC,mBAAmB,CAAC,UAAU,CAAC,SAAS",sourcesContent:[".zdjebgpv[data-v-7108a140]{display:flex;position:relative}.zdjebgpv>.icon-sub[data-v-7108a140]{position:absolute;width:30%;height:auto;margin:0;right:4%;bottom:4%}.zdjebgpv>*[data-v-7108a140]{margin:auto}.zdjebgpv>.icon[data-v-7108a140]{pointer-events:none;height:65%;width:65%}"],sourceRoot:""}]),e.exports=s},13977:(e,t,i)=>{var a=i(94015),s=i(23645)(a);s.push([e.id,'.pyvicwrksnfyhpfgkjwqknuururpaztw>.preview[data-v-2076b9f8]{padding:8px;background:var(--bg)}.pyvicwrksnfyhpfgkjwqknuururpaztw>.preview>.preview[data-v-2076b9f8]{width:fit-content;width:-moz-fit-content;max-width:100%;margin:0 auto;box-shadow:1px 1px 4px rgba(0,0,0,.2);overflow:hidden;color:var(--driveFileIcon);justify-content:center}.pyvicwrksnfyhpfgkjwqknuururpaztw>.preview>footer[data-v-2076b9f8]{padding:8px 8px 0;text-align:center;font-size:.8em;color:var(--text);opacity:.7}.pyvicwrksnfyhpfgkjwqknuururpaztw>.preview>footer>.separator[data-v-2076b9f8]{display:inline;padding:0 4px}.pyvicwrksnfyhpfgkjwqknuururpaztw>.preview>footer>.size[data-v-2076b9f8]{display:inline}.pyvicwrksnfyhpfgkjwqknuururpaztw>.preview>footer>.size .time[data-v-2076b9f8]{margin:0 2px}.pyvicwrksnfyhpfgkjwqknuururpaztw>.preview>footer>.size .px[data-v-2076b9f8]{margin-left:4px}.pyvicwrksnfyhpfgkjwqknuururpaztw>.preview>footer>.aspect-ratio[data-v-2076b9f8]{display:inline;opacity:.7}.pyvicwrksnfyhpfgkjwqknuururpaztw>.preview>footer>.aspect-ratio[data-v-2076b9f8]:before{content:"("}.pyvicwrksnfyhpfgkjwqknuururpaztw>.preview>footer>.aspect-ratio[data-v-2076b9f8]:after{content:")"}.pyvicwrksnfyhpfgkjwqknuururpaztw>.info[data-v-2076b9f8]{padding:14px;font-size:.8em;border-top:1px solid var(--faceDivider)}.pyvicwrksnfyhpfgkjwqknuururpaztw>.info>div[data-v-2076b9f8]{max-width:500px;margin:0 auto;color:var(--text)}.pyvicwrksnfyhpfgkjwqknuururpaztw>.info>div>.separator[data-v-2076b9f8]{padding:0 4px}.pyvicwrksnfyhpfgkjwqknuururpaztw>.info>div>.created-at>[data-icon][data-v-2076b9f8]{margin-right:2px}.pyvicwrksnfyhpfgkjwqknuururpaztw>.info>div>.nsfw[data-v-2076b9f8]{color:#bf4633}.pyvicwrksnfyhpfgkjwqknuururpaztw>.menu[data-v-2076b9f8]{padding:0 14px 14px;border-top:1px solid var(--faceDivider)}.pyvicwrksnfyhpfgkjwqknuururpaztw>.menu>div[data-v-2076b9f8]{max-width:500px;margin:0 auto}.pyvicwrksnfyhpfgkjwqknuururpaztw>.hash[data-v-2076b9f8]{padding:14px;border-top:1px solid var(--faceDivider)}.pyvicwrksnfyhpfgkjwqknuururpaztw>.hash>div[data-v-2076b9f8]{max-width:500px;margin:0 auto}.pyvicwrksnfyhpfgkjwqknuururpaztw>.hash>div>p[data-v-2076b9f8]{display:block;margin:0;padding:0;color:var(--text);font-size:.9em}.pyvicwrksnfyhpfgkjwqknuururpaztw>.hash>div>p>[data-icon][data-v-2076b9f8]{margin-right:4px}.pyvicwrksnfyhpfgkjwqknuururpaztw>.hash>div>code[data-v-2076b9f8]{display:block;width:100%;margin:6px 0 0;padding:8px;white-space:nowrap;overflow:auto;font-size:.8em;color:#222;border:1px solid #dfdfdf;border-radius:2px;background:#f5f5f5}',"",{version:3,sources:["webpack://./src/client/app/mobile/views/components/drive.file-detail.vue"],names:[],mappings:"AAAA,4DAA4D,WAAW,CAAC,oBAAoB,CAAC,qEAAqE,iBAAiB,CAAC,sBAAsB,CAAC,cAAc,CAAC,aAAa,CAAC,qCAAqC,CAAC,eAAe,CAAC,0BAA0B,CAAC,sBAAsB,CAAC,mEAAmE,iBAAiB,CAAC,iBAAiB,CAAC,cAAc,CAAC,iBAAiB,CAAC,UAAU,CAAC,8EAA8E,cAAc,CAAC,aAAa,CAAC,yEAAyE,cAAc,CAAC,+EAA+E,YAAY,CAAC,6EAA6E,eAAe,CAAC,iFAAiF,cAAc,CAAC,UAAU,CAAC,wFAAwF,WAAW,CAAC,uFAAuF,WAAW,CAAC,yDAAyD,YAAY,CAAC,cAAc,CAAC,uCAAuC,CAAC,6DAA6D,eAAe,CAAC,aAAa,CAAC,iBAAiB,CAAC,wEAAwE,aAAa,CAAC,qFAAqF,gBAAgB,CAAC,mEAAmE,aAAa,CAAC,yDAAyD,mBAAmB,CAAC,uCAAuC,CAAC,6DAA6D,eAAe,CAAC,aAAa,CAAC,yDAAyD,YAAY,CAAC,uCAAuC,CAAC,6DAA6D,eAAe,CAAC,aAAa,CAAC,+DAA+D,aAAa,CAAC,QAAQ,CAAC,SAAS,CAAC,iBAAiB,CAAC,cAAc,CAAC,2EAA2E,gBAAgB,CAAC,kEAAkE,aAAa,CAAC,UAAU,CAAC,cAAc,CAAC,WAAW,CAAC,kBAAkB,CAAC,aAAa,CAAC,cAAc,CAAC,UAAU,CAAC,wBAAwB,CAAC,iBAAiB,CAAC,kBAAkB",sourcesContent:['.pyvicwrksnfyhpfgkjwqknuururpaztw>.preview[data-v-2076b9f8]{padding:8px;background:var(--bg)}.pyvicwrksnfyhpfgkjwqknuururpaztw>.preview>.preview[data-v-2076b9f8]{width:fit-content;width:-moz-fit-content;max-width:100%;margin:0 auto;box-shadow:1px 1px 4px rgba(0,0,0,.2);overflow:hidden;color:var(--driveFileIcon);justify-content:center}.pyvicwrksnfyhpfgkjwqknuururpaztw>.preview>footer[data-v-2076b9f8]{padding:8px 8px 0;text-align:center;font-size:.8em;color:var(--text);opacity:.7}.pyvicwrksnfyhpfgkjwqknuururpaztw>.preview>footer>.separator[data-v-2076b9f8]{display:inline;padding:0 4px}.pyvicwrksnfyhpfgkjwqknuururpaztw>.preview>footer>.size[data-v-2076b9f8]{display:inline}.pyvicwrksnfyhpfgkjwqknuururpaztw>.preview>footer>.size .time[data-v-2076b9f8]{margin:0 2px}.pyvicwrksnfyhpfgkjwqknuururpaztw>.preview>footer>.size .px[data-v-2076b9f8]{margin-left:4px}.pyvicwrksnfyhpfgkjwqknuururpaztw>.preview>footer>.aspect-ratio[data-v-2076b9f8]{display:inline;opacity:.7}.pyvicwrksnfyhpfgkjwqknuururpaztw>.preview>footer>.aspect-ratio[data-v-2076b9f8]:before{content:"("}.pyvicwrksnfyhpfgkjwqknuururpaztw>.preview>footer>.aspect-ratio[data-v-2076b9f8]:after{content:")"}.pyvicwrksnfyhpfgkjwqknuururpaztw>.info[data-v-2076b9f8]{padding:14px;font-size:.8em;border-top:1px solid var(--faceDivider)}.pyvicwrksnfyhpfgkjwqknuururpaztw>.info>div[data-v-2076b9f8]{max-width:500px;margin:0 auto;color:var(--text)}.pyvicwrksnfyhpfgkjwqknuururpaztw>.info>div>.separator[data-v-2076b9f8]{padding:0 4px}.pyvicwrksnfyhpfgkjwqknuururpaztw>.info>div>.created-at>[data-icon][data-v-2076b9f8]{margin-right:2px}.pyvicwrksnfyhpfgkjwqknuururpaztw>.info>div>.nsfw[data-v-2076b9f8]{color:#bf4633}.pyvicwrksnfyhpfgkjwqknuururpaztw>.menu[data-v-2076b9f8]{padding:0 14px 14px;border-top:1px solid var(--faceDivider)}.pyvicwrksnfyhpfgkjwqknuururpaztw>.menu>div[data-v-2076b9f8]{max-width:500px;margin:0 auto}.pyvicwrksnfyhpfgkjwqknuururpaztw>.hash[data-v-2076b9f8]{padding:14px;border-top:1px solid var(--faceDivider)}.pyvicwrksnfyhpfgkjwqknuururpaztw>.hash>div[data-v-2076b9f8]{max-width:500px;margin:0 auto}.pyvicwrksnfyhpfgkjwqknuururpaztw>.hash>div>p[data-v-2076b9f8]{display:block;margin:0;padding:0;color:var(--text);font-size:.9em}.pyvicwrksnfyhpfgkjwqknuururpaztw>.hash>div>p>[data-icon][data-v-2076b9f8]{margin-right:4px}.pyvicwrksnfyhpfgkjwqknuururpaztw>.hash>div>code[data-v-2076b9f8]{display:block;width:100%;margin:6px 0 0;padding:8px;white-space:nowrap;overflow:auto;font-size:.8em;color:#222;border:1px solid #dfdfdf;border-radius:2px;background:#f5f5f5}'],sourceRoot:""}]),e.exports=s},19833:(e,t,i)=>{var a=i(94015),s=i(23645)(a);s.push([e.id,'.vupkuhvjnjyqaqhsiogfbywvjxynrgsm[data-v-9ca6d77a]{display:block;text-decoration:none!important}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm *[data-v-9ca6d77a]{user-select:none;pointer-events:none}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container[data-v-9ca6d77a]{display:grid;max-width:500px;margin:0 auto;padding:16px;grid-template-columns:64px 1fr;grid-column-gap:10px}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container[data-v-9ca6d77a]:after{content:"";display:block;clear:both}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.thumbnail[data-v-9ca6d77a]{width:64px;height:64px;color:var(--driveFileIcon)}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body[data-v-9ca6d77a]{display:block;word-break:break-all}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body>.name[data-v-9ca6d77a]{display:block;margin:0;padding:0;font-size:.9em;font-weight:700;color:var(--text);word-break:break-word}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body>.name>.ext[data-v-9ca6d77a]{opacity:.5}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body>.tags[data-v-9ca6d77a]{display:block;margin:4px 0 0;padding:0;list-style:none;font-size:.5em}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body>.tags>.tag[data-v-9ca6d77a]{display:inline-block;margin:0 5px 0 0;padding:1px 5px;border-radius:2px}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body>footer[data-v-9ca6d77a]{display:block;margin:4px 0 0;font-size:.7em;color:var(--text)}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body>footer>.separator[data-v-9ca6d77a]{padding:0 4px}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body>footer>.type[data-v-9ca6d77a]{opacity:.7}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body>footer>.type>.mk-file-type-icon[data-v-9ca6d77a]{margin-right:4px}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body>footer>.created-at[data-v-9ca6d77a],.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body>footer>.data-size[data-v-9ca6d77a]{opacity:.7}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body>footer>.created-at>[data-icon][data-v-9ca6d77a]{margin-right:2px}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body>footer>.nsfw[data-v-9ca6d77a]{color:#bf4633}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm[data-is-selected][data-v-9ca6d77a]{background:var(--primary)}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm[data-is-selected][data-v-9ca6d77a],.vupkuhvjnjyqaqhsiogfbywvjxynrgsm[data-is-selected] *[data-v-9ca6d77a]{color:var(--primaryForeground)!important}',"",{version:3,sources:["webpack://./src/client/app/mobile/views/components/drive.file.vue"],names:[],mappings:"AAAA,mDAAmD,aAAa,CAAC,8BAA8B,CAAC,qDAAqD,gBAAgB,CAAC,mBAAmB,CAAC,8DAA8D,YAAY,CAAC,eAAe,CAAC,aAAa,CAAC,YAAY,CAAC,8BAA8B,CAAC,oBAAoB,CAAC,oEAAoE,UAAU,CAAC,aAAa,CAAC,UAAU,CAAC,yEAAyE,UAAU,CAAC,WAAW,CAAC,0BAA0B,CAAC,oEAAoE,aAAa,CAAC,oBAAoB,CAAC,0EAA0E,aAAa,CAAC,QAAQ,CAAC,SAAS,CAAC,cAAc,CAAC,eAAe,CAAC,iBAAiB,CAAC,qBAAqB,CAAC,+EAA+E,UAAU,CAAC,0EAA0E,aAAa,CAAC,cAAc,CAAC,SAAS,CAAC,eAAe,CAAC,cAAc,CAAC,+EAA+E,oBAAoB,CAAC,gBAAgB,CAAC,eAAe,CAAC,iBAAiB,CAAC,2EAA2E,aAAa,CAAC,cAAc,CAAC,cAAc,CAAC,iBAAiB,CAAC,sFAAsF,aAAa,CAAC,iFAAiF,UAAU,CAAC,oGAAoG,gBAAgB,CAAC,6KAA6K,UAAU,CAAC,mGAAmG,gBAAgB,CAAC,iFAAiF,aAAa,CAAC,qEAAqE,yBAAyB,CAAC,4IAA4I,wCAAwC",sourcesContent:['.vupkuhvjnjyqaqhsiogfbywvjxynrgsm[data-v-9ca6d77a]{display:block;text-decoration:none!important}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm *[data-v-9ca6d77a]{user-select:none;pointer-events:none}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container[data-v-9ca6d77a]{display:grid;max-width:500px;margin:0 auto;padding:16px;grid-template-columns:64px 1fr;grid-column-gap:10px}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container[data-v-9ca6d77a]:after{content:"";display:block;clear:both}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.thumbnail[data-v-9ca6d77a]{width:64px;height:64px;color:var(--driveFileIcon)}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body[data-v-9ca6d77a]{display:block;word-break:break-all}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body>.name[data-v-9ca6d77a]{display:block;margin:0;padding:0;font-size:.9em;font-weight:700;color:var(--text);word-break:break-word}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body>.name>.ext[data-v-9ca6d77a]{opacity:.5}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body>.tags[data-v-9ca6d77a]{display:block;margin:4px 0 0;padding:0;list-style:none;font-size:.5em}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body>.tags>.tag[data-v-9ca6d77a]{display:inline-block;margin:0 5px 0 0;padding:1px 5px;border-radius:2px}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body>footer[data-v-9ca6d77a]{display:block;margin:4px 0 0;font-size:.7em;color:var(--text)}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body>footer>.separator[data-v-9ca6d77a]{padding:0 4px}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body>footer>.type[data-v-9ca6d77a]{opacity:.7}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body>footer>.type>.mk-file-type-icon[data-v-9ca6d77a]{margin-right:4px}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body>footer>.created-at[data-v-9ca6d77a],.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body>footer>.data-size[data-v-9ca6d77a]{opacity:.7}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body>footer>.created-at>[data-icon][data-v-9ca6d77a]{margin-right:2px}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm>.container>.body>footer>.nsfw[data-v-9ca6d77a]{color:#bf4633}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm[data-is-selected][data-v-9ca6d77a]{background:var(--primary)}.vupkuhvjnjyqaqhsiogfbywvjxynrgsm[data-is-selected][data-v-9ca6d77a],.vupkuhvjnjyqaqhsiogfbywvjxynrgsm[data-is-selected] *[data-v-9ca6d77a]{color:var(--primaryForeground)!important}'],sourceRoot:""}]),e.exports=s},66331:(e,t,i)=>{var a=i(94015),s=i(23645)(a);s.push([e.id,".jvwxssxsytqlqvrpiymarjlzlsxskqsr[data-v-32b547d6]{display:block;color:var(--text);text-decoration:none!important}.jvwxssxsytqlqvrpiymarjlzlsxskqsr *[data-v-32b547d6]{user-select:none;pointer-events:none}.jvwxssxsytqlqvrpiymarjlzlsxskqsr>.container[data-v-32b547d6]{max-width:500px;margin:0 auto;padding:16px}.jvwxssxsytqlqvrpiymarjlzlsxskqsr>.container>.name[data-v-32b547d6]{display:block;margin:0;padding:0}.jvwxssxsytqlqvrpiymarjlzlsxskqsr>.container>.name>[data-icon][data-v-32b547d6]{margin-right:6px}.jvwxssxsytqlqvrpiymarjlzlsxskqsr>.container>[data-icon][data-v-32b547d6]{position:absolute;top:0;bottom:0;right:20px;height:100%}","",{version:3,sources:["webpack://./src/client/app/mobile/views/components/drive.folder.vue"],names:[],mappings:"AAAA,mDAAmD,aAAa,CAAC,iBAAiB,CAAC,8BAA8B,CAAC,qDAAqD,gBAAgB,CAAC,mBAAmB,CAAC,8DAA8D,eAAe,CAAC,aAAa,CAAC,YAAY,CAAC,oEAAoE,aAAa,CAAC,QAAQ,CAAC,SAAS,CAAC,gFAAgF,gBAAgB,CAAC,0EAA0E,iBAAiB,CAAC,KAAK,CAAC,QAAQ,CAAC,UAAU,CAAC,WAAW",sourcesContent:[".jvwxssxsytqlqvrpiymarjlzlsxskqsr[data-v-32b547d6]{display:block;color:var(--text);text-decoration:none!important}.jvwxssxsytqlqvrpiymarjlzlsxskqsr *[data-v-32b547d6]{user-select:none;pointer-events:none}.jvwxssxsytqlqvrpiymarjlzlsxskqsr>.container[data-v-32b547d6]{max-width:500px;margin:0 auto;padding:16px}.jvwxssxsytqlqvrpiymarjlzlsxskqsr>.container>.name[data-v-32b547d6]{display:block;margin:0;padding:0}.jvwxssxsytqlqvrpiymarjlzlsxskqsr>.container>.name>[data-icon][data-v-32b547d6]{margin-right:6px}.jvwxssxsytqlqvrpiymarjlzlsxskqsr>.container>[data-icon][data-v-32b547d6]{position:absolute;top:0;bottom:0;right:20px;height:100%}"],sourceRoot:""}]),e.exports=s},9060:(e,t,i)=>{var a=i(94015),s=i(23645)(a);s.push([e.id,".kmmwchoexgckptowjmjgfsygeltxfeqs[data-v-1ee8e6b7]{background:var(--face)}.kmmwchoexgckptowjmjgfsygeltxfeqs>nav[data-v-1ee8e6b7]{display:block;position:sticky;position:-webkit-sticky;top:0;z-index:1;width:100%;padding:10px 12px;overflow:auto;white-space:nowrap;font-size:.9em;color:var(--text);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);background-color:var(--mobileDriveNavBg);border-bottom:1px solid rgba(0,0,0,.13)}.kmmwchoexgckptowjmjgfsygeltxfeqs>nav>a[data-v-1ee8e6b7],.kmmwchoexgckptowjmjgfsygeltxfeqs>nav>p[data-v-1ee8e6b7]{display:inline;margin:0;padding:0;text-decoration:none!important;color:inherit}.kmmwchoexgckptowjmjgfsygeltxfeqs>nav>a[data-v-1ee8e6b7]:last-child,.kmmwchoexgckptowjmjgfsygeltxfeqs>nav>p[data-v-1ee8e6b7]:last-child{font-weight:700}.kmmwchoexgckptowjmjgfsygeltxfeqs>nav>a>[data-icon][data-v-1ee8e6b7],.kmmwchoexgckptowjmjgfsygeltxfeqs>nav>p>[data-icon][data-v-1ee8e6b7]{margin-right:4px}.kmmwchoexgckptowjmjgfsygeltxfeqs>nav>span[data-v-1ee8e6b7]{margin:0 8px;opacity:.5}.kmmwchoexgckptowjmjgfsygeltxfeqs>.browser.fetching[data-v-1ee8e6b7]{opacity:.5}.kmmwchoexgckptowjmjgfsygeltxfeqs>.browser>.info[data-v-1ee8e6b7]{border-bottom:1px solid var(--faceDivider)}.kmmwchoexgckptowjmjgfsygeltxfeqs>.browser>.info[data-v-1ee8e6b7]:empty{display:none}.kmmwchoexgckptowjmjgfsygeltxfeqs>.browser>.info>p[data-v-1ee8e6b7]{display:block;max-width:500px;margin:0 auto;padding:4px 16px;font-size:10px;color:var(--text)}.kmmwchoexgckptowjmjgfsygeltxfeqs>.browser>.files>.file[data-v-1ee8e6b7],.kmmwchoexgckptowjmjgfsygeltxfeqs>.browser>.folders>.folder[data-v-1ee8e6b7]{border-bottom:1px solid var(--faceDivider)}.kmmwchoexgckptowjmjgfsygeltxfeqs>.browser>.files>.more[data-v-1ee8e6b7]{display:block;width:100%;padding:16px;font-size:16px;color:#555}.kmmwchoexgckptowjmjgfsygeltxfeqs>.browser>.empty[data-v-1ee8e6b7]{padding:16px;text-align:center;color:#999;pointer-events:none}.kmmwchoexgckptowjmjgfsygeltxfeqs>.browser>.empty>p[data-v-1ee8e6b7]{margin:0}.kmmwchoexgckptowjmjgfsygeltxfeqs>.fetching .spinner[data-v-1ee8e6b7]{margin:100px auto;width:40px;height:40px;text-align:center;animation:sk-rotate-data-v-1ee8e6b7 2s linear infinite}.kmmwchoexgckptowjmjgfsygeltxfeqs>.fetching .dot1[data-v-1ee8e6b7],.kmmwchoexgckptowjmjgfsygeltxfeqs>.fetching .dot2[data-v-1ee8e6b7]{width:60%;height:60%;display:inline-block;position:absolute;top:0;background:rgba(0,0,0,.2);border-radius:100%;animation:sk-bounce-data-v-1ee8e6b7 2s ease-in-out infinite}.kmmwchoexgckptowjmjgfsygeltxfeqs>.fetching .dot2[data-v-1ee8e6b7]{top:auto;bottom:0;animation-delay:-1s}@-moz-keyframes sk-rotate-data-v-1ee8e6b7{to{transform:rotate(1turn)}}@-webkit-keyframes sk-rotate-data-v-1ee8e6b7{to{transform:rotate(1turn)}}@-o-keyframes sk-rotate-data-v-1ee8e6b7{to{transform:rotate(1turn)}}@keyframes sk-rotate-data-v-1ee8e6b7{to{transform:rotate(1turn)}}@-moz-keyframes sk-bounce-data-v-1ee8e6b7{0%,to{transform:scale(0)}50%{transform:scale(1)}}@-webkit-keyframes sk-bounce-data-v-1ee8e6b7{0%,to{transform:scale(0)}50%{transform:scale(1)}}@-o-keyframes sk-bounce-data-v-1ee8e6b7{0%,to{transform:scale(0)}50%{transform:scale(1)}}@keyframes sk-bounce-data-v-1ee8e6b7{0%,to{transform:scale(0)}50%{transform:scale(1)}}.kmmwchoexgckptowjmjgfsygeltxfeqs>.file[data-v-1ee8e6b7]{display:none}","",{version:3,sources:["webpack://./src/client/app/mobile/views/components/drive.vue"],names:[],mappings:"AAAA,mDAAmD,sBAAsB,CAAC,uDAAuD,aAAa,CAAC,eAAe,CAAC,uBAAuB,CAAC,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC,iBAAiB,CAAC,aAAa,CAAC,kBAAkB,CAAC,cAAc,CAAC,iBAAiB,CAAC,kCAAkC,CAAC,0BAA0B,CAAC,wCAAwC,CAAC,uCAAuC,CAAC,kHAAkH,cAAc,CAAC,QAAQ,CAAC,SAAS,CAAC,8BAA8B,CAAC,aAAa,CAAC,wIAAwI,eAAe,CAAC,0IAA0I,gBAAgB,CAAC,4DAA4D,YAAY,CAAC,UAAU,CAAC,qEAAqE,UAAU,CAAC,kEAAkE,0CAA0C,CAAC,wEAAwE,YAAY,CAAC,oEAAoE,aAAa,CAAC,eAAe,CAAC,aAAa,CAAC,gBAAgB,CAAC,cAAc,CAAC,iBAAiB,CAAC,sJAAsJ,0CAA0C,CAAC,yEAAyE,aAAa,CAAC,UAAU,CAAC,YAAY,CAAC,cAAc,CAAC,UAAU,CAAC,mEAAmE,YAAY,CAAC,iBAAiB,CAAC,UAAU,CAAC,mBAAmB,CAAC,qEAAqE,QAAQ,CAAC,sEAAsE,iBAAiB,CAAC,UAAU,CAAC,WAAW,CAAC,iBAAiB,CAAC,sDAAsD,CAAC,sIAAsI,SAAS,CAAC,UAAU,CAAC,oBAAoB,CAAC,iBAAiB,CAAC,KAAK,CAAC,yBAAyB,CAAC,kBAAkB,CAAC,2DAA2D,CAAC,mEAAmE,QAAQ,CAAC,QAAQ,CAAC,mBAAmB,CAAC,0CAA0C,GAAG,uBAAuB,CAAC,CAAC,6CAA6C,GAAG,uBAAuB,CAAC,CAAC,wCAAwC,GAAG,uBAAuB,CAAC,CAAC,qCAAqC,GAAG,uBAAuB,CAAC,CAAC,0CAA0C,MAAM,kBAAkB,CAAC,IAAI,kBAAkB,CAAC,CAAC,6CAA6C,MAAM,kBAAkB,CAAC,IAAI,kBAAkB,CAAC,CAAC,wCAAwC,MAAM,kBAAkB,CAAC,IAAI,kBAAkB,CAAC,CAAC,qCAAqC,MAAM,kBAAkB,CAAC,IAAI,kBAAkB,CAAC,CAAC,yDAAyD,YAAY",sourcesContent:[".kmmwchoexgckptowjmjgfsygeltxfeqs[data-v-1ee8e6b7]{background:var(--face)}.kmmwchoexgckptowjmjgfsygeltxfeqs>nav[data-v-1ee8e6b7]{display:block;position:sticky;position:-webkit-sticky;top:0;z-index:1;width:100%;padding:10px 12px;overflow:auto;white-space:nowrap;font-size:.9em;color:var(--text);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);background-color:var(--mobileDriveNavBg);border-bottom:1px solid rgba(0,0,0,.13)}.kmmwchoexgckptowjmjgfsygeltxfeqs>nav>a[data-v-1ee8e6b7],.kmmwchoexgckptowjmjgfsygeltxfeqs>nav>p[data-v-1ee8e6b7]{display:inline;margin:0;padding:0;text-decoration:none!important;color:inherit}.kmmwchoexgckptowjmjgfsygeltxfeqs>nav>a[data-v-1ee8e6b7]:last-child,.kmmwchoexgckptowjmjgfsygeltxfeqs>nav>p[data-v-1ee8e6b7]:last-child{font-weight:700}.kmmwchoexgckptowjmjgfsygeltxfeqs>nav>a>[data-icon][data-v-1ee8e6b7],.kmmwchoexgckptowjmjgfsygeltxfeqs>nav>p>[data-icon][data-v-1ee8e6b7]{margin-right:4px}.kmmwchoexgckptowjmjgfsygeltxfeqs>nav>span[data-v-1ee8e6b7]{margin:0 8px;opacity:.5}.kmmwchoexgckptowjmjgfsygeltxfeqs>.browser.fetching[data-v-1ee8e6b7]{opacity:.5}.kmmwchoexgckptowjmjgfsygeltxfeqs>.browser>.info[data-v-1ee8e6b7]{border-bottom:1px solid var(--faceDivider)}.kmmwchoexgckptowjmjgfsygeltxfeqs>.browser>.info[data-v-1ee8e6b7]:empty{display:none}.kmmwchoexgckptowjmjgfsygeltxfeqs>.browser>.info>p[data-v-1ee8e6b7]{display:block;max-width:500px;margin:0 auto;padding:4px 16px;font-size:10px;color:var(--text)}.kmmwchoexgckptowjmjgfsygeltxfeqs>.browser>.files>.file[data-v-1ee8e6b7],.kmmwchoexgckptowjmjgfsygeltxfeqs>.browser>.folders>.folder[data-v-1ee8e6b7]{border-bottom:1px solid var(--faceDivider)}.kmmwchoexgckptowjmjgfsygeltxfeqs>.browser>.files>.more[data-v-1ee8e6b7]{display:block;width:100%;padding:16px;font-size:16px;color:#555}.kmmwchoexgckptowjmjgfsygeltxfeqs>.browser>.empty[data-v-1ee8e6b7]{padding:16px;text-align:center;color:#999;pointer-events:none}.kmmwchoexgckptowjmjgfsygeltxfeqs>.browser>.empty>p[data-v-1ee8e6b7]{margin:0}.kmmwchoexgckptowjmjgfsygeltxfeqs>.fetching .spinner[data-v-1ee8e6b7]{margin:100px auto;width:40px;height:40px;text-align:center;animation:sk-rotate-data-v-1ee8e6b7 2s linear infinite}.kmmwchoexgckptowjmjgfsygeltxfeqs>.fetching .dot1[data-v-1ee8e6b7],.kmmwchoexgckptowjmjgfsygeltxfeqs>.fetching .dot2[data-v-1ee8e6b7]{width:60%;height:60%;display:inline-block;position:absolute;top:0;background:rgba(0,0,0,.2);border-radius:100%;animation:sk-bounce-data-v-1ee8e6b7 2s ease-in-out infinite}.kmmwchoexgckptowjmjgfsygeltxfeqs>.fetching .dot2[data-v-1ee8e6b7]{top:auto;bottom:0;animation-delay:-1s}@-moz-keyframes sk-rotate-data-v-1ee8e6b7{to{transform:rotate(1turn)}}@-webkit-keyframes sk-rotate-data-v-1ee8e6b7{to{transform:rotate(1turn)}}@-o-keyframes sk-rotate-data-v-1ee8e6b7{to{transform:rotate(1turn)}}@keyframes sk-rotate-data-v-1ee8e6b7{to{transform:rotate(1turn)}}@-moz-keyframes sk-bounce-data-v-1ee8e6b7{0%,to{transform:scale(0)}50%{transform:scale(1)}}@-webkit-keyframes sk-bounce-data-v-1ee8e6b7{0%,to{transform:scale(0)}50%{transform:scale(1)}}@-o-keyframes sk-bounce-data-v-1ee8e6b7{0%,to{transform:scale(0)}50%{transform:scale(1)}}@keyframes sk-bounce-data-v-1ee8e6b7{0%,to{transform:scale(0)}50%{transform:scale(1)}}.kmmwchoexgckptowjmjgfsygeltxfeqs>.file[data-v-1ee8e6b7]{display:none}"],sourceRoot:""}]),e.exports=s},99017:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});var a=i(20144),s=i(51436),o=i(6119);const r=a.default.extend({components:{ImgWithBlurhash:o.Z},props:{file:{type:Object,required:!0},fit:{type:String,required:!1,default:"cover"}},data:()=>({isContextmenuShowing:!1,isDragging:!1,faFile:s.gMD,faFileAlt:s.cwv,faFileImage:s.Oi0,faMusic:s.Xig,faFileVideo:s.hvm,faFileCsv:s.fUD,faFilePdf:s.gSj,faFileArchive:s.W2U,faFilm:s.CjD}),computed:{is(){return this.file.type.startsWith("image/")?"image":this.file.type.startsWith("video/")?"video":"audio/midi"===this.file.type?"midi":this.file.type.startsWith("audio/")?"audio":this.file.type.endsWith("/csv")?"csv":this.file.type.endsWith("/pdf")?"pdf":this.file.type.startsWith("text/")?"textfile":["application/zip","application/x-cpio","application/x-bzip","application/x-bzip2","application/java-archive","application/x-rar-compressed","application/x-tar","application/gzip","application/x-7z-compressed"].some((e=>e===this.file.type))?"archive":"unknown"},isThumbnailAvailable(){return!!this.file.thumbnailUrl&&("image"===this.is||"video"===this.is)}},mounted(){const e=this.$refs.volumectrl;e&&(e.volume=this.$store.state.device.mediaVolume)},methods:{volumechange(){const e=this.$refs.volumectrl;this.$store.commit("device/set",{key:"mediaVolume",value:e.volume})}}});i(18266);const n=(0,i(51900).Z)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"thumbnail",staticClass:"zdjebgpv"},[e.isThumbnailAvailable?i("img-with-blurhash",{style:"object-fit: "+e.fit,attrs:{hash:e.file.blurhash,src:e.file.thumbnailUrl,alt:e.file.name,title:e.file.name}}):"image"===e.is?i("fa",{staticClass:"icon",attrs:{icon:e.faFileImage}}):"video"===e.is?i("fa",{staticClass:"icon",attrs:{icon:e.faFileVideo}}):"audio"===e.is||"midi"===e.is?i("fa",{staticClass:"icon",attrs:{icon:e.faMusic}}):"csv"===e.is?i("fa",{staticClass:"icon",attrs:{icon:e.faFileCsv}}):"pdf"===e.is?i("fa",{staticClass:"icon",attrs:{icon:e.faFilePdf}}):"textfile"===e.is?i("fa",{staticClass:"icon",attrs:{icon:e.faFileAlt}}):"archive"===e.is?i("fa",{staticClass:"icon",attrs:{icon:e.faFileArchive}}):i("fa",{staticClass:"icon",attrs:{icon:e.faFile}}),e.isThumbnailAvailable&&"video"===e.is?i("fa",{staticClass:"icon-sub",attrs:{icon:e.faFilm}}):e._e()],1)}),[],!1,null,"7108a140",null).exports},75645:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>v});var a=i(20144),s=i(67384);const o=a.default.extend({props:["folder"],computed:{browser(){return this.$parent}},methods:{onClick(){this.browser.cd(this.folder)}}});i(34195);var r=i(51900);const n=(0,r.Z)(o,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a",{staticClass:"jvwxssxsytqlqvrpiymarjlzlsxskqsr",attrs:{href:"/i/drive/folder/"+e.folder.id},on:{click:function(t){return t.preventDefault(),e.onClick.apply(null,arguments)}}},[i("div",{staticClass:"container"},[i("p",{staticClass:"name"},[i("fa",{attrs:{icon:"folder"}}),e._v(e._s(e.folder.name))],1),i("fa",{attrs:{icon:"angle-right"}})],1)])}),[],!1,null,"32b547d6",null).exports;var l=i(99017);const d=a.default.extend({i18n:(0,s.Z)("mobile/views/components/drive.file.vue"),props:["file"],components:{XFileThumbnail:l.Z},data:()=>({isSelected:!1}),computed:{browser(){return this.$parent}},created(){this.isSelected=this.browser.selectedFiles.some((e=>e.id==this.file.id)),this.browser.$on("change-selection",this.onBrowserChangeSelection)},beforeDestroy(){this.browser.$off("change-selection",this.onBrowserChangeSelection)},methods:{onBrowserChangeSelection(e){this.isSelected=e.some((e=>e.id==this.file.id))},onClick(){this.browser.chooseFile(this.file)}}});i(14629);const A=(0,r.Z)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a",{staticClass:"vupkuhvjnjyqaqhsiogfbywvjxynrgsm",attrs:{href:"/i/drive/file/"+e.file.id,"data-is-selected":e.isSelected},on:{click:function(t){return t.preventDefault(),e.onClick.apply(null,arguments)}}},[i("div",{staticClass:"container"},[i("x-file-thumbnail",{staticClass:"thumbnail",attrs:{file:e.file,fit:"cover"}}),i("div",{staticClass:"body"},[i("p",{staticClass:"name"},[i("span",[e._v(e._s(-1!=e.file.name.lastIndexOf(".")?e.file.name.substr(0,e.file.name.lastIndexOf(".")):e.file.name))]),-1!=e.file.name.lastIndexOf(".")?i("span",{staticClass:"ext"},[e._v(e._s(e.file.name.substr(e.file.name.lastIndexOf("."))))]):e._e()]),i("footer",[i("span",{staticClass:"type"},[i("mk-file-type-icon",{attrs:{type:e.file.type}}),e._v(e._s(e.file.type))],1),i("span",{staticClass:"separator"}),i("span",{staticClass:"data-size"},[e._v(e._s(e._f("bytes")(e.file.size)))]),i("span",{staticClass:"separator"}),i("span",{staticClass:"created-at"},[i("fa",{attrs:{icon:["far","clock"]}}),i("mk-time",{attrs:{time:e.file.createdAt}})],1),e.file.isSensitive?[i("span",{staticClass:"separator"}),i("span",{staticClass:"nsfw"},[i("fa",{attrs:{icon:["far","eye-slash"]}}),e._v(" "+e._s(e.$t("nsfw")))],1)]:e._e()],2)])],1)])}),[],!1,null,"9ca6d77a",null).exports;function p(e,t){return 0===t?e:p(t,e%t)}const f=a.default.extend({i18n:(0,s.Z)("mobile/views/components/drive.file-detail.vue"),props:["file"],components:{XFileThumbnail:l.Z},data:()=>({gcd:p,exif:null}),computed:{browser(){return this.$parent},kind(){return this.file.type.split("/")[0]},dlUrl(){return this.file.url}},methods:{rename(){const e=window.prompt(this.$t("rename"),this.file.name);null!=e&&""!=e&&e!=this.file.name&&this.$root.api("drive/files/update",{fileId:this.file.id,name:e}).then((()=>{this.browser.cf(this.file,!0)}))},move(){this.$chooseDriveFolder().then((e=>{this.$root.api("drive/files/update",{fileId:this.file.id,folderId:null==e?null:e.id}).then((()=>{this.browser.cf(this.file,!0)}))}))},del(){this.$root.api("drive/files/delete",{fileId:this.file.id}).then((()=>{this.browser.cd(this.file.folderId)}))},toggleSensitive(){this.$root.api("drive/files/update",{fileId:this.file.id,isSensitive:!this.file.isSensitive}),this.file.isSensitive=!this.file.isSensitive},showCreatedAt(){this.$root.dialog({type:"info",text:new Date(this.file.createdAt).toLocaleString()})}}});i(17248);const c=(0,r.Z)(f,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pyvicwrksnfyhpfgkjwqknuururpaztw"},[i("div",{staticClass:"preview"},[i("x-file-thumbnail",{staticClass:"preview",attrs:{file:e.file,detail:!0}}),"image"!=e.kind?[i("fa",{attrs:{icon:"file"}})]:e._e(),"image"==e.kind&&e.file.properties&&e.file.properties.width&&e.file.properties.height?i("footer",[i("span",{staticClass:"size"},[i("span",{staticClass:"width"},[e._v(e._s(e.file.properties.width))]),i("span",{staticClass:"time"},[e._v("Ã—")]),i("span",{staticClass:"height"},[e._v(e._s(e.file.properties.height))]),i("span",{staticClass:"px"},[e._v("px")])]),i("span",{staticClass:"separator"}),i("span",{staticClass:"aspect-ratio"},[i("span",{staticClass:"width"},[e._v(e._s(e.file.properties.width/e.gcd(e.file.properties.width,e.file.properties.height)))]),i("span",{staticClass:"colon"},[e._v(":")]),i("span",{staticClass:"height"},[e._v(e._s(e.file.properties.height/e.gcd(e.file.properties.width,e.file.properties.height)))])])]):e._e()],2),i("div",{staticClass:"info"},[i("div",[i("span",{staticClass:"type"},[i("mk-file-type-icon",{attrs:{type:e.file.type}}),e._v(" "+e._s(e.file.type))],1),i("span",{staticClass:"separator"}),i("span",{staticClass:"data-size"},[e._v(e._s(e._f("bytes")(e.file.size)))]),i("span",{staticClass:"separator"}),i("span",{staticClass:"created-at",on:{click:e.showCreatedAt}},[i("fa",{attrs:{icon:["far","clock"]}}),i("mk-time",{attrs:{time:e.file.createdAt}})],1),e.file.isSensitive?[i("span",{staticClass:"separator"}),i("span",{staticClass:"nsfw"},[i("fa",{attrs:{icon:["far","eye-slash"]}}),e._v(" "+e._s(e.$t("nsfw")))],1)]:e._e()],2)]),i("div",{staticClass:"menu"},[i("div",[i("ui-input",{attrs:{readonly:"",value:e.file.url}},[e._v("URL")]),i("ui-button",{attrs:{link:"",href:e.dlUrl,download:e.file.name}},[i("fa",{attrs:{icon:"download"}}),e._v(" "+e._s(e.$t("download")))],1),i("ui-button",{on:{click:e.rename}},[i("fa",{attrs:{icon:"pencil-alt"}}),e._v(" "+e._s(e.$t("rename")))],1),i("ui-button",{on:{click:e.move}},[i("fa",{attrs:{icon:["far","folder-open"]}}),e._v(" "+e._s(e.$t("move")))],1),e.file.isSensitive?i("ui-button",{on:{click:e.toggleSensitive}},[i("fa",{attrs:{icon:["far","eye"]}}),e._v(" "+e._s(e.$t("unmark-as-sensitive")))],1):i("ui-button",{on:{click:e.toggleSensitive}},[i("fa",{attrs:{icon:["far","eye-slash"]}}),e._v(" "+e._s(e.$t("mark-as-sensitive")))],1),i("ui-button",{on:{click:e.del}},[i("fa",{attrs:{icon:["far","trash-alt"]}}),e._v(" "+e._s(e.$t("delete")))],1)],1)]),i("div",{staticClass:"hash"},[i("div",[i("p",[i("fa",{attrs:{icon:"hashtag"}}),e._v(e._s(e.$t("hash"))+"\n\t\t\t")],1),i("code",[e._v(e._s(e.file.md5))])])])])}),[],!1,null,"2076b9f8",null).exports,h=a.default.extend({i18n:(0,s.Z)("mobile/views/components/drive.vue"),components:{XFolder:n,XFile:A,XFileDetail:c},props:["initFolder","initFile","selectFile","multiple","isNaked","top"],data:()=>({folder:null,file:null,files:[],folders:[],moreFiles:!1,moreFolders:!1,hierarchyFolders:[],selectedFiles:[],info:null,connection:null,fetching:!0,fetchingMoreFiles:!1,fetchingMoreFolders:!1}),computed:{isFileSelectMode(){return this.selectFile}},watch:{top(){this.isNaked&&(this.$refs.nav.style.top=`${this.top}px`)}},mounted(){this.connection=this.$root.stream.useSharedConnection("drive"),this.connection.on("fileCreated",this.onStreamDriveFileCreated),this.connection.on("fileUpdated",this.onStreamDriveFileUpdated),this.connection.on("fileDeleted",this.onStreamDriveFileDeleted),this.connection.on("folderCreated",this.onStreamDriveFolderCreated),this.connection.on("folderUpdated",this.onStreamDriveFolderUpdated),this.initFolder?this.cd(this.initFolder,!0):this.initFile?this.cf(this.initFile,!0):this.fetch(),this.isNaked&&(this.$refs.nav.style.top=`${this.top}px`)},beforeDestroy(){this.connection.dispose()},methods:{onStreamDriveFileCreated(e){this.addFile(e,!0)},onStreamDriveFileUpdated(e){(this.folder?this.folder.id:null)!=e.folderId?this.removeFile(e):this.addFile(e,!0)},onStreamDriveFileDeleted(e){this.removeFile(e)},onStreamDriveFolderCreated(e){this.addFolder(e,!0)},onStreamDriveFolderUpdated(e){(this.folder?this.folder.id:null)!=e.parentId?this.removeFolder(e):this.addFolder(e,!0)},dive(e){this.hierarchyFolders.unshift(e),e.parent&&this.dive(e.parent)},cd(e,t=!1){null!=e?("object"==typeof e&&(e=e.id),this.file=null,this.fetching=!0,this.$root.api("drive/folders/show",{folderId:e}).then((e=>{this.folder=e,this.hierarchyFolders=[],e.parent&&this.dive(e.parent),this.$emit("open-folder",this.folder,t),this.fetch()}))):this.goRoot(t)},addFolder(e,t=!1){(this.folder?this.folder.id:null)==e.parentId&&(this.folders.some((t=>t.id==e.id))||(t?this.folders.unshift(e):this.folders.push(e)))},addFile(e,t=!1){if((this.folder?this.folder.id:null)==e.folderId)if(this.files.some((t=>t.id==e.id))){const t=this.files.map((e=>e.id)).indexOf(e.id);a.default.set(this.files,t,e)}else t?this.files.unshift(e):this.files.push(e)},removeFolder(e){"object"==typeof e&&(e=e.id),this.folders=this.folders.filter((t=>t.id!=e))},removeFile(e){"object"==typeof e&&(e=e.id),this.files=this.files.filter((t=>t.id!=e))},appendFile(e){this.addFile(e)},appendFolder(e){this.addFolder(e)},prependFile(e){this.addFile(e,!0)},prependFolder(e){this.addFolder(e,!0)},goRoot(e=!1){null==this.folder&&null==this.file||(this.file=null,this.folder=null,this.hierarchyFolders=[],this.$emit("move-root",e),this.fetch())},fetch(){this.folders=[],this.files=[],this.moreFolders=!1,this.moreFiles=!1,this.fetching=!0,this.$emit("begin-fetch");let e=null,t=null;this.$root.api("drive/folders",{folderId:this.folder?this.folder.id:null,limit:21}).then((t=>{21==t.length&&(this.moreFolders=!0,t.pop()),e=t,a()})),this.$root.api("drive/files",{folderId:this.folder?this.folder.id:null,limit:21}).then((e=>{21==e.length&&(this.moreFiles=!0,e.pop()),t=e,a()}));let i=!1;const a=()=>{if(i){for(const t of e)this.appendFolder(t);for(const e of t)this.appendFile(e);this.fetching=!1,this.$emit("fetched")}else i=!0,this.$emit("fetch-mid")};null==this.folder&&this.$root.api("drive").then((e=>{this.info=e}))},fetchMoreFiles(){this.fetching=!0,this.fetchingMoreFiles=!0;this.$root.api("drive/files",{folderId:this.folder?this.folder.id:null,limit:31,untilId:this.files[this.files.length-1].id}).then((e=>{31==e.length?(this.moreFiles=!0,e.pop()):this.moreFiles=!1;for(const t of e)this.appendFile(t);this.fetching=!1,this.fetchingMoreFiles=!1}))},chooseFile(e){this.isFileSelectMode?this.multiple?(this.selectedFiles.some((t=>t.id==e.id))?this.selectedFiles=this.selectedFiles.filter((t=>t.id!=e.id)):this.selectedFiles.push(e),this.$emit("change-selection",this.selectedFiles)):this.$emit("selected",e):this.cf(e)},cf(e,t=!1){"object"==typeof e&&(e=e.id),this.fetching=!0,this.$root.api("drive/files/show",{fileId:e}).then((e=>{this.file=e,this.folder=null,this.hierarchyFolders=[],e.folder&&this.dive(e.folder),this.fetching=!1,this.$emit("open-file",this.file,t)}))},selectLocalFile(){this.$refs.file.click()},createFolder(){this.$root.dialog({title:this.$t("folder-name"),input:{default:""}}).then((({result:e})=>{e?this.$root.api("drive/folders/create",{name:e,parentId:this.folder?this.folder.id:void 0}).then((e=>{this.addFolder(e,!0)})):this.$root.dialog({type:"error",text:this.$t("folder-name-cannot-empty")})}))},renameFolder(){null!=this.folder?this.$root.dialog({title:this.$t("folder-name"),input:{default:this.folder.name}}).then((({result:e})=>{e?this.$root.api("drive/folders/update",{name:e,folderId:this.folder.id}).then((e=>{this.cd(e)})):this.$root.dialog({type:"error",text:this.$t("cannot-empty")})})):this.$root.dialog({type:"error",text:this.$t("here-is-root")})},moveFolder(){null!=this.folder?this.$chooseDriveFolder().then((e=>{this.$root.api("drive/folders/update",{parentId:e?e.id:null,folderId:this.folder.id}).then((e=>{this.cd(e)}))})):this.$root.dialog({type:"error",text:this.$t("here-is-root")})},urlUpload(){const e=window.prompt(this.$t("url-prompt"));null!=e&&""!=e&&(this.$root.api("drive/files/upload_from_url",{url:e,folderId:this.folder?this.folder.id:void 0}),this.$root.dialog({type:"info",text:this.$t("uploading")}))},onChangeLocalFile(){for(const e of Array.from(this.$refs.file.files))this.$refs.uploader.upload(e,this.folder)},deleteFolder(){null!=this.folder?this.$root.api("drive/folders/delete",{folderId:this.folder.id}).then((e=>{this.cd(this.folder.parentId)})):this.$root.dialog({type:"error",text:this.$t("here-is-root")})}}});i(61561);const v=(0,r.Z)(h,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"kmmwchoexgckptowjmjgfsygeltxfeqs"},[i("nav",{ref:"nav"},[i("a",{attrs:{href:"/i/drive"},on:{click:function(t){return t.preventDefault(),e.goRoot()}}},[i("fa",{attrs:{icon:"cloud"}}),e._v(e._s(e.$t("@.drive")))],1),e._l(e.hierarchyFolders,(function(t){return[i("span",{key:t.id+">"},[i("fa",{attrs:{icon:"angle-right"}})],1),i("a",{key:t.id,attrs:{href:"/i/drive/folder/"+t.id},on:{click:function(i){return i.preventDefault(),e.cd(t)}}},[e._v(e._s(t.name))])]})),null!=e.folder?[i("span",[i("fa",{attrs:{icon:"angle-right"}})],1),i("p",[e._v(e._s(e.folder.name))])]:e._e(),null!=e.file?[i("span",[i("fa",{attrs:{icon:"angle-right"}})],1),i("p",[e._v(e._s(e.file.name))])]:e._e()],2),i("mk-uploader",{ref:"uploader"}),null==e.file?i("div",{staticClass:"browser",class:{fetching:e.fetching}},[e.info?i("div",{staticClass:"info"},[null==e.folder?i("p",[e._v(e._s((e.info.usage/e.info.capacity*100).toFixed(1))+"% "+e._s(e.$t("used")))]):e._e(),null!=e.folder&&(e.folder.foldersCount>0||e.folder.filesCount>0)?i("p",[e.folder.foldersCount>0?[e._v(e._s(e.folder.foldersCount)+" "+e._s(e.$t("folder-count")))]:e._e(),e.folder.foldersCount>0&&e.folder.filesCount>0?[e._v(e._s(e.$t("count-separator")))]:e._e(),e.folder.filesCount>0?[e._v(e._s(e.folder.filesCount)+" "+e._s(e.$t("file-count")))]:e._e()],2):e._e()]):e._e(),e.folders.length>0||e.moreFolders?i("div",{staticClass:"folders"},[e._l(e.folders,(function(e){return i("x-folder",{key:e.id,staticClass:"folder",attrs:{folder:e}})})),e.moreFolders?i("p",[e._v(e._s(e.$t("@.load-more")))]):e._e()],2):e._e(),e.files.length>0||e.moreFiles?i("div",{staticClass:"files"},[e._l(e.files,(function(e){return i("x-file",{key:e.id,staticClass:"file",attrs:{file:e}})})),e.moreFiles?i("button",{staticClass:"more",on:{click:e.fetchMoreFiles}},[e._v("\n\t\t\t\t"+e._s(e.fetchingMoreFiles?this.$t("@.loading"):this.$t("@.load-more"))+"\n\t\t\t")]):e._e()],2):e._e(),0!=e.files.length||e.moreFiles||0!=e.folders.length||e.moreFolders||e.fetching?e._e():i("div",{staticClass:"empty"},[null==e.folder?i("p",[e._v(e._s(e.$t("nothing-in-drive")))]):e._e(),null!=e.folder?i("p",[e._v(e._s(e.$t("folder-is-empty")))]):e._e()])]):e._e(),e.fetching&&null==e.file&&0==e.files.length&&0==e.folders.length?i("div",{staticClass:"fetching"},[e._m(0)]):e._e(),i("input",{ref:"file",staticClass:"file",attrs:{type:"file",multiple:"multiple"},on:{change:e.onChangeLocalFile}}),null!=e.file?i("x-file-detail",{attrs:{file:e.file}}):e._e()],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"spinner"},[t("div",{staticClass:"dot1"}),t("div",{staticClass:"dot2"})])}],!1,null,"1ee8e6b7",null).exports},18266:(e,t,i)=>{var a=i(18927);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(45346).Z)("5d8d0ca0",a,!0,{})},17248:(e,t,i)=>{var a=i(13977);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(45346).Z)("040b5583",a,!0,{})},14629:(e,t,i)=>{var a=i(19833);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(45346).Z)("b0dce7e6",a,!0,{})},34195:(e,t,i)=>{var a=i(66331);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(45346).Z)("08741726",a,!0,{})},61561:(e,t,i)=>{var a=i(9060);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(45346).Z)("4753988a",a,!0,{})}}]);
//# sourceMappingURL=5645.11.37.1-amfe.js.map