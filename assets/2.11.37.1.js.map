{"version":3,"sources":["webpack:///./src/client/app/common/views/components/drive-file-thumbnail.vue?9d7a","webpack:///./src/client/app/common/views/components/drive-file-thumbnail.vue?15c9","webpack:///./src/client/app/common/views/components/drive-file-thumbnail.vue?c77f","webpack:///./src/client/app/common/views/components/drive-file-thumbnail.vue?4cff","webpack:///./src/client/app/common/views/components/drive-file-thumbnail.vue?3626","webpack:///./src/client/app/common/views/components/drive-file-thumbnail.vue?702d","webpack:///./src/client/app/common/views/components/drive-file-thumbnail.vue","webpack:///./src/client/app/desktop/views/components/drive.nav-folder.vue?a18a","webpack:///./src/client/app/desktop/views/components/drive.folder.vue?8d43","webpack:///./src/client/app/desktop/views/components/drive.file.vue?0e29","webpack:///./src/client/app/desktop/views/components/drive.vue?37ff","webpack:///./src/client/app/desktop/views/components/drive.nav-folder.vue?890f","webpack:///./src/client/app/desktop/views/components/drive.nav-folder.vue?d74f","webpack:///./src/client/app/desktop/views/components/drive.folder.vue?92f1","webpack:///./src/client/app/desktop/views/components/drive.folder.vue?2106","webpack:///./src/client/app/desktop/views/components/drive.file.vue?3759","webpack:///./src/client/app/desktop/views/components/drive.file.vue?a7c9","webpack:///./src/client/app/desktop/views/components/drive.vue?0b07","webpack:///./src/client/app/desktop/views/components/drive.vue?7f54","webpack:///./src/client/app/desktop/views/components/drive.vue?e992","webpack:///./src/client/app/desktop/views/components/drive.nav-folder.vue?2895","webpack:///./src/client/app/desktop/views/components/drive.nav-folder.vue?40a1","webpack:///./src/client/app/desktop/views/components/drive.nav-folder.vue","webpack:///./src/client/app/desktop/views/components/drive.nav-folder.vue?2651","webpack:///./src/client/app/desktop/views/components/drive.folder.vue?c8fd","webpack:///./src/client/app/desktop/views/components/drive.folder.vue?682d","webpack:///./src/client/app/desktop/views/components/drive.folder.vue","webpack:///./src/client/app/desktop/views/components/drive.folder.vue?656b","webpack:///./src/client/app/desktop/views/components/drive.file.vue?d055","webpack:///./src/client/app/desktop/views/components/drive.file.vue?1abf","webpack:///./src/client/app/desktop/views/components/drive.file.vue","webpack:///./src/client/app/desktop/views/components/drive.file.vue?ab6e","webpack:///./src/client/app/desktop/views/components/drive.vue?22f2","webpack:///./src/client/app/desktop/views/components/drive.vue?6185","webpack:///./src/client/app/desktop/views/components/drive.vue"],"names":["content","module","i","locals","exports","add","default","___CSS_LOADER_API_IMPORT___","push","extend","props","file","type","Object","required","fit","String","detail","Boolean","data","isContextmenuShowing","isDragging","faFile","faFileAlt","faFileImage","faMusic","faFileVideo","faFileCsv","faFilePdf","faFileArchive","faFilm","computed","this","startsWith","endsWith","some","e","thumbnailUrl","is","properties","avgColor","audioTag","$refs","volumectrl","volume","$store","state","device","mediaVolume","methods","targets","thumbnail","backgroundColor","duration","easing","commit","key","value","component","_vm","_h","$createElement","_c","_self","ref","staticClass","class","style","background","attrs","url","name","on","onThumbnailLoaded","isThumbnailAvailable","_e","i18n","hover","draghover","$parent","browser","move","folder","dataTransfer","dropEffect","isFile","items","kind","isDriveFile","types","isDriveFolder","effectAllowed","files","length","Array","from","upload","driveFile","getData","JSON","parse","removeFile","id","$root","api","fileId","folderId","driveFolder","removeFolder","parentId","onClick","$event","preventDefault","stopPropagation","onDragover","onDragenter","onDragleave","onDrop","_v","_s","$t","$contextmenu","text","icon","action","go","newWindow","rename","deleteFolder","menu","setAsUploadFolder","closed","then","catch","err","dialog","title","setData","stringify","isDragSource","input","placeholder","canceled","result","settings","uploadFolder","dispatch","onMouseover","onMouseout","onDragstart","onDragend","onContextmenu","components","XFileThumbnail","selectedFiles","f","filter","size","chooseFile","isSensitive","toggleSensitive","copyUrl","href","target","download","deleteFile","setAsAvatar","setAsBanner","anime","allowEmpty","alert","isSelected","avatarId","bannerId","lastIndexOf","substr","XNavFolder","XFolder","XFile","initFolder","undefined","multiple","folders","moreFiles","moreFolders","hierarchyFolders","uploadings","connection","fetching","stream","useSharedConnection","onStreamDriveFileCreated","onStreamDriveFileUpdated","onStreamDriveFileDeleted","onStreamDriveFolderCreated","onStreamDriveFolderUpdated","onStreamDriveFolderDeleted","fetch","dispose","createFolder","selectLocalFile","urlUpload","addFile","addFolder","uploads","contains","foldersContainer","filesContainer","main","selection","rect","getBoundingClientRect","left","pageX","scrollLeft","window","pageXOffset","top","pageY","scrollTop","pageYOffset","display","cursorX","cursorY","w","h","width","height","up","document","documentElement","removeEventListener","addEventListener","fileInput","click","uploader","isAlreadySelected","$emit","body","clientWidth","new","open","dive","unshift","parent","goRoot","exist","map","indexOf","set","fetchedFolders","fetchedFiles","limit","foldersMax","pop","complete","filesMax","flag","x","appendFolder","appendFile","untilId","max","current","_l","uploading","onMousedown","n","fetchMoreFiles","_m","onChangeUploaderUploads","onUploaderUploaded","onChangeFileInput"],"mappings":"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","file":"2.11.37.1.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./drive-file-thumbnail.vue?vue&type=style&index=0&id=cd0797c6&lang=stylus&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"194b0d7c\", content, true, {});","import mod from \"-!../../../../../../node_modules/vue-style-loader/index.js!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./drive-file-thumbnail.vue?vue&type=style&index=0&id=cd0797c6&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../../../node_modules/vue-style-loader/index.js!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./drive-file-thumbnail.vue?vue&type=style&index=0&id=cd0797c6&lang=stylus&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".zdjebgpv[data-v-cd0797c6]{display:flex}.zdjebgpv>.icon[data-v-cd0797c6],.zdjebgpv>img[data-v-cd0797c6]{pointer-events:none}.zdjebgpv>.icon-sub[data-v-cd0797c6]{position:absolute;width:30%;height:auto;margin:0;right:4%;bottom:4%}.zdjebgpv>*[data-v-cd0797c6]{margin:auto}.zdjebgpv:not(.detail)>img[data-v-cd0797c6]{height:100%;width:100%;object-fit:cover}.zdjebgpv:not(.detail)>.icon[data-v-cd0797c6]{height:65%;width:65%}.zdjebgpv:not(.detail)>audio[data-v-cd0797c6],.zdjebgpv:not(.detail)>video[data-v-cd0797c6]{width:100%}.zdjebgpv.detail>.icon[data-v-cd0797c6]{height:100px;width:100px;margin:16px}.zdjebgpv.detail[data-v-cd0797c6]>:not(.icon){max-height:300px;max-width:100%;height:100%;object-fit:contain}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"thumbnail\",staticClass:\"zdjebgpv\",class:{ detail: _vm.detail },style:((\"background-color: \" + _vm.background))},[(_vm.detail && _vm.is === 'image')?_c('img',{attrs:{\"src\":_vm.file.url,\"alt\":_vm.file.name,\"title\":_vm.file.name},on:{\"load\":_vm.onThumbnailLoaded}}):(_vm.detail && _vm.is === 'video')?_c('video',{ref:\"volumectrl\",attrs:{\"src\":_vm.file.url,\"preload\":\"metadata\",\"controls\":\"\"}}):(_vm.isThumbnailAvailable)?_c('img',{style:((\"object-fit: \" + _vm.fit)),attrs:{\"src\":_vm.file.thumbnailUrl,\"alt\":\"\"},on:{\"load\":_vm.onThumbnailLoaded}}):(_vm.is === 'image')?_c('fa',{staticClass:\"icon\",attrs:{\"icon\":_vm.faFileImage}}):(_vm.is === 'video')?_c('fa',{staticClass:\"icon\",attrs:{\"icon\":_vm.faFileVideo}}):(_vm.detail && _vm.is === 'audio')?_c('audio',{ref:\"volumectrl\",attrs:{\"src\":_vm.file.url,\"preload\":\"metadata\",\"controls\":\"\"}}):(_vm.is === 'audio' || _vm.is === 'midi')?_c('fa',{staticClass:\"icon\",attrs:{\"icon\":_vm.faMusic}}):(_vm.is === 'csv')?_c('fa',{staticClass:\"icon\",attrs:{\"icon\":_vm.faFileCsv}}):(_vm.is === 'pdf')?_c('fa',{staticClass:\"icon\",attrs:{\"icon\":_vm.faFilePdf}}):(_vm.is === 'textfile')?_c('fa',{staticClass:\"icon\",attrs:{\"icon\":_vm.faFileAlt}}):(_vm.is === 'archive')?_c('fa',{staticClass:\"icon\",attrs:{\"icon\":_vm.faFileArchive}}):_c('fa',{staticClass:\"icon\",attrs:{\"icon\":_vm.faFile}}),(!_vm.detail && _vm.isThumbnailAvailable && _vm.is === 'video')?_c('fa',{staticClass:\"icon-sub\",attrs:{\"icon\":_vm.faFilm}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/ts-loader/index.js??ref--5-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./drive-file-thumbnail.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/ts-loader/index.js??ref--5-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./drive-file-thumbnail.vue?vue&type=script&lang=ts&\"","import Vue from 'vue';\nimport anime from 'animejs';\nimport { faFile, faFileAlt, faFileImage, faMusic, faFileVideo, faFileCsv, faFilePdf, faFileArchive, faFilm } from '@fortawesome/free-solid-svg-icons';\nexport default Vue.extend({\n    props: {\n        file: {\n            type: Object,\n            required: true\n        },\n        fit: {\n            type: String,\n            required: false,\n            default: 'cover'\n        },\n        detail: {\n            type: Boolean,\n            required: false,\n            default: false\n        }\n    },\n    data() {\n        return {\n            isContextmenuShowing: false,\n            isDragging: false,\n            faFile,\n            faFileAlt,\n            faFileImage,\n            faMusic,\n            faFileVideo,\n            faFileCsv,\n            faFilePdf,\n            faFileArchive,\n            faFilm\n        };\n    },\n    computed: {\n        is() {\n            if (this.file.type.startsWith('image/'))\n                return 'image';\n            if (this.file.type.startsWith('video/'))\n                return 'video';\n            if (this.file.type === 'audio/midi')\n                return 'midi';\n            if (this.file.type.startsWith('audio/'))\n                return 'audio';\n            if (this.file.type.endsWith('/csv'))\n                return 'csv';\n            if (this.file.type.endsWith('/pdf'))\n                return 'pdf';\n            if (this.file.type.startsWith('text/'))\n                return 'textfile';\n            if ([\n                \"application/zip\",\n                \"application/x-cpio\",\n                \"application/x-bzip\",\n                \"application/x-bzip2\",\n                \"application/java-archive\",\n                \"application/x-rar-compressed\",\n                \"application/x-tar\",\n                \"application/gzip\",\n                \"application/x-7z-compressed\"\n            ].some(e => e === this.file.type))\n                return 'archive';\n            return 'unknown';\n        },\n        isThumbnailAvailable() {\n            return this.file.thumbnailUrl\n                ? (this.is === 'image' || this.is === 'video')\n                : false;\n        },\n        background() {\n            return this.file.properties.avgColor || 'transparent';\n        }\n    },\n    mounted() {\n        const audioTag = this.$refs.volumectrl;\n        if (audioTag)\n            audioTag.volume = this.$store.state.device.mediaVolume;\n    },\n    methods: {\n        onThumbnailLoaded() {\n            if (this.file.properties.avgColor) {\n                anime({\n                    targets: this.$refs.thumbnail,\n                    backgroundColor: 'transparent',\n                    duration: 100,\n                    easing: 'linear'\n                });\n            }\n        },\n        volumechange() {\n            const audioTag = this.$refs.volumectrl;\n            this.$store.commit('device/set', { key: 'mediaVolume', value: audioTag.volume });\n        }\n    }\n});\n","import { render, staticRenderFns } from \"./drive-file-thumbnail.vue?vue&type=template&id=cd0797c6&scoped=true&\"\nimport script from \"./drive-file-thumbnail.vue?vue&type=script&lang=ts&\"\nexport * from \"./drive-file-thumbnail.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./drive-file-thumbnail.vue?vue&type=style&index=0&id=cd0797c6&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cd0797c6\",\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./drive.nav-folder.vue?vue&type=style&index=0&id=bc9dcd2c&lang=stylus&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"0c87042e\", content, true, {});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./drive.folder.vue?vue&type=style&index=0&id=009c4c3a&lang=stylus&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"ec900552\", content, true, {});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./drive.file.vue?vue&type=style&index=0&id=42183f7b&lang=stylus&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"c902f6da\", content, true, {});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./drive.vue?vue&type=style&index=0&id=fae14316&lang=stylus&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"4a80a2c5\", content, true, {});","import mod from \"-!../../../../../../node_modules/vue-style-loader/index.js!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./drive.nav-folder.vue?vue&type=style&index=0&id=bc9dcd2c&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../../../node_modules/vue-style-loader/index.js!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./drive.nav-folder.vue?vue&type=style&index=0&id=bc9dcd2c&lang=stylus&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".root.nav-folder>*[data-v-bc9dcd2c]{pointer-events:none}.root.nav-folder[data-draghover][data-v-bc9dcd2c]{background:#eee}.root.nav-folder i.cloud[data-v-bc9dcd2c]{margin-right:4px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../../../../../node_modules/vue-style-loader/index.js!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./drive.folder.vue?vue&type=style&index=0&id=009c4c3a&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../../../node_modules/vue-style-loader/index.js!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./drive.folder.vue?vue&type=style&index=0&id=009c4c3a&lang=stylus&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".ynntpczxvnusfwdyxsfuhvcmuypqopdd[data-v-009c4c3a]{padding:8px;height:64px;background:var(--desktopDriveFolderBg);border-radius:4px}.ynntpczxvnusfwdyxsfuhvcmuypqopdd[data-v-009c4c3a],.ynntpczxvnusfwdyxsfuhvcmuypqopdd *[data-v-009c4c3a]{cursor:pointer}.ynntpczxvnusfwdyxsfuhvcmuypqopdd *[data-v-009c4c3a]{pointer-events:none}.ynntpczxvnusfwdyxsfuhvcmuypqopdd[data-v-009c4c3a]:hover{background:var(--desktopDriveFolderHoverBg)}.ynntpczxvnusfwdyxsfuhvcmuypqopdd[data-v-009c4c3a]:active{background:var(--desktopDriveFolderActiveBg)}.ynntpczxvnusfwdyxsfuhvcmuypqopdd[data-draghover][data-v-009c4c3a]:after,.ynntpczxvnusfwdyxsfuhvcmuypqopdd[data-is-contextmenu-showing][data-v-009c4c3a]:after{content:\\\"\\\";pointer-events:none;position:absolute;top:-4px;right:-4px;bottom:-4px;left:-4px;border:2px dashed var(--primaryAlpha03);border-radius:4px}.ynntpczxvnusfwdyxsfuhvcmuypqopdd[data-draghover][data-v-009c4c3a]{background:var(--desktopDriveFolderActiveBg)}.ynntpczxvnusfwdyxsfuhvcmuypqopdd>.name[data-v-009c4c3a]{margin:0;font-size:.9em;color:var(--desktopDriveFolderFg)}.ynntpczxvnusfwdyxsfuhvcmuypqopdd>.name>[data-icon][data-v-009c4c3a]{margin-right:4px;margin-left:2px;text-align:left}.ynntpczxvnusfwdyxsfuhvcmuypqopdd>.upload[data-v-009c4c3a]{margin:4px;font-size:.8em;text-align:right;color:var(--desktopDriveFolderFg)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../../../../../node_modules/vue-style-loader/index.js!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./drive.file.vue?vue&type=style&index=0&id=42183f7b&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../../../node_modules/vue-style-loader/index.js!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./drive.file.vue?vue&type=style&index=0&id=42183f7b&lang=stylus&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".gvfdktuvdgwhmztnuekzkswkjygptfcv[data-v-42183f7b]{padding:8px 0 0;min-height:180px;border-radius:4px}.gvfdktuvdgwhmztnuekzkswkjygptfcv[data-v-42183f7b],.gvfdktuvdgwhmztnuekzkswkjygptfcv *[data-v-42183f7b]{cursor:pointer}.gvfdktuvdgwhmztnuekzkswkjygptfcv[data-v-42183f7b]:hover{background:rgba(0,0,0,.05)}.gvfdktuvdgwhmztnuekzkswkjygptfcv:hover>.label[data-v-42183f7b]:after,.gvfdktuvdgwhmztnuekzkswkjygptfcv:hover>.label[data-v-42183f7b]:before{background:#0b65a5}.gvfdktuvdgwhmztnuekzkswkjygptfcv:hover>.label.red[data-v-42183f7b]:after,.gvfdktuvdgwhmztnuekzkswkjygptfcv:hover>.label.red[data-v-42183f7b]:before{background:#c12113}.gvfdktuvdgwhmztnuekzkswkjygptfcv[data-v-42183f7b]:active{background:rgba(0,0,0,.1)}.gvfdktuvdgwhmztnuekzkswkjygptfcv:active>.label[data-v-42183f7b]:after,.gvfdktuvdgwhmztnuekzkswkjygptfcv:active>.label[data-v-42183f7b]:before{background:#0b588c}.gvfdktuvdgwhmztnuekzkswkjygptfcv:active>.label.red[data-v-42183f7b]:after,.gvfdktuvdgwhmztnuekzkswkjygptfcv:active>.label.red[data-v-42183f7b]:before{background:#ce2212}.gvfdktuvdgwhmztnuekzkswkjygptfcv[data-is-selected][data-v-42183f7b]{background:var(--primary)}.gvfdktuvdgwhmztnuekzkswkjygptfcv[data-is-selected][data-v-42183f7b]:hover{background:var(--primaryLighten10)}.gvfdktuvdgwhmztnuekzkswkjygptfcv[data-is-selected][data-v-42183f7b]:active{background:var(--primaryDarken10)}.gvfdktuvdgwhmztnuekzkswkjygptfcv[data-is-selected]>.label[data-v-42183f7b]:after,.gvfdktuvdgwhmztnuekzkswkjygptfcv[data-is-selected]>.label[data-v-42183f7b]:before{display:none}.gvfdktuvdgwhmztnuekzkswkjygptfcv[data-is-selected]>.name[data-v-42183f7b],.gvfdktuvdgwhmztnuekzkswkjygptfcv[data-is-selected]>.thumbnail[data-v-42183f7b]{color:var(--primaryForeground)}.gvfdktuvdgwhmztnuekzkswkjygptfcv[data-is-contextmenu-showing][data-v-42183f7b]:after{content:\\\"\\\";pointer-events:none;position:absolute;top:-4px;right:-4px;bottom:-4px;left:-4px;border:2px dashed var(--primaryAlpha03);border-radius:4px}.gvfdktuvdgwhmztnuekzkswkjygptfcv>.label[data-v-42183f7b]{position:absolute;top:0;left:0;pointer-events:none}.gvfdktuvdgwhmztnuekzkswkjygptfcv>.label[data-v-42183f7b]:after,.gvfdktuvdgwhmztnuekzkswkjygptfcv>.label[data-v-42183f7b]:before{content:\\\"\\\";display:block;position:absolute;z-index:1;background:#0c7ac9}.gvfdktuvdgwhmztnuekzkswkjygptfcv>.label[data-v-42183f7b]:before{top:0;left:57px;width:28px;height:8px}.gvfdktuvdgwhmztnuekzkswkjygptfcv>.label[data-v-42183f7b]:after{top:57px;left:0;width:8px;height:28px}.gvfdktuvdgwhmztnuekzkswkjygptfcv>.label.red[data-v-42183f7b]:after,.gvfdktuvdgwhmztnuekzkswkjygptfcv>.label.red[data-v-42183f7b]:before{background:#c12113}.gvfdktuvdgwhmztnuekzkswkjygptfcv>.label>img[data-v-42183f7b]{position:absolute;z-index:2;top:0;left:0}.gvfdktuvdgwhmztnuekzkswkjygptfcv>.label>p[data-v-42183f7b]{position:absolute;z-index:3;top:19px;left:-28px;width:120px;margin:0;text-align:center;line-height:28px;color:#fff;transform:rotate(-45deg)}.gvfdktuvdgwhmztnuekzkswkjygptfcv>.thumbnail[data-v-42183f7b]{width:128px;height:128px;margin:auto;color:var(--driveFileIcon)}.gvfdktuvdgwhmztnuekzkswkjygptfcv>.name[data-v-42183f7b]{display:block;margin:4px 0 0;font-size:.8em;text-align:center;word-break:break-all;color:var(--text);overflow:hidden}.gvfdktuvdgwhmztnuekzkswkjygptfcv>.name>.ext[data-v-42183f7b]{opacity:.5}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../../../../../node_modules/vue-style-loader/index.js!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./drive.vue?vue&type=style&index=0&id=fae14316&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../../../node_modules/vue-style-loader/index.js!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./drive.vue?vue&type=style&index=0&id=fae14316&lang=stylus&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".mk-drive>nav[data-v-fae14316]{display:block;z-index:2;width:100%;overflow:auto;font-size:.9em;color:var(--text);background:var(--face);box-shadow:0 1px 0 rgba(0,0,0,.05)}.mk-drive>nav[data-v-fae14316],.mk-drive>nav *[data-v-fae14316]{user-select:none}.mk-drive>nav>.path[data-v-fae14316]{vertical-align:bottom;width:calc(100% - 200px);white-space:nowrap}.mk-drive>nav>.path[data-v-fae14316],.mk-drive>nav>.path>*[data-v-fae14316]{display:inline-block;margin:0;padding:0 8px;line-height:38px}.mk-drive>nav>.path>*[data-v-fae14316]{cursor:pointer}.mk-drive>nav>.path>* *[data-v-fae14316]{pointer-events:none}.mk-drive>nav>.path[data-v-fae14316]>:hover{text-decoration:underline}.mk-drive>nav>.path>.current[data-v-fae14316]{font-weight:700;cursor:default}.mk-drive>nav>.path>.current[data-v-fae14316]:hover{text-decoration:none}.mk-drive>nav>.path>.separator[data-v-fae14316]{margin:0;padding:0;opacity:.5;cursor:default}.mk-drive>nav>.path>.separator>[data-icon][data-v-fae14316]{margin:0}.mk-drive>.main[data-v-fae14316]{padding:8px;height:calc(100% - 38px);overflow:auto;background:var(--desktopDriveBg)}.mk-drive>.main[data-v-fae14316],.mk-drive>.main *[data-v-fae14316]{user-select:none}.mk-drive>.main.fetching[data-v-fae14316]{cursor:wait!important}.mk-drive>.main.fetching *[data-v-fae14316]{pointer-events:none}.mk-drive>.main.fetching>.contents[data-v-fae14316]{opacity:.5}.mk-drive>.main.uploading[data-v-fae14316]{height:calc(100% - 138px)}.mk-drive>.main>.selection[data-v-fae14316]{display:none;position:absolute;z-index:128;top:0;left:0;border:1px solid var(--primary);background:var(--primaryAlpha05);pointer-events:none}.mk-drive>.main>.contents>.files[data-v-fae14316],.mk-drive>.main>.contents>.folders[data-v-fae14316]{display:flex;flex-wrap:wrap}.mk-drive>.main>.contents>.files>.file[data-v-fae14316],.mk-drive>.main>.contents>.files>.folder[data-v-fae14316],.mk-drive>.main>.contents>.folders>.file[data-v-fae14316],.mk-drive>.main>.contents>.folders>.folder[data-v-fae14316]{flex-grow:1;width:144px;margin:4px}.mk-drive>.main>.contents>.files>.padding[data-v-fae14316],.mk-drive>.main>.contents>.folders>.padding[data-v-fae14316]{flex-grow:1;pointer-events:none;width:152px}.mk-drive>.main>.contents>.empty[data-v-fae14316]{padding:16px;text-align:center;color:#999;pointer-events:none}.mk-drive>.main>.contents>.empty>p[data-v-fae14316]{margin:0}.mk-drive>.main>.fetching .spinner[data-v-fae14316]{margin:100px auto;width:40px;height:40px;text-align:center;animation:sk-rotate-data-v-fae14316 2s linear infinite}.mk-drive>.main>.fetching .dot1[data-v-fae14316],.mk-drive>.main>.fetching .dot2[data-v-fae14316]{width:60%;height:60%;display:inline-block;position:absolute;top:0;background-color:rgba(0,0,0,.3);border-radius:100%;animation:sk-bounce-data-v-fae14316 2s ease-in-out infinite}.mk-drive>.main>.fetching .dot2[data-v-fae14316]{top:auto;bottom:0;animation-delay:-1s}@-moz-keyframes sk-rotate-data-v-fae14316{to{transform:rotate(1turn)}}@-webkit-keyframes sk-rotate-data-v-fae14316{to{transform:rotate(1turn)}}@-o-keyframes sk-rotate-data-v-fae14316{to{transform:rotate(1turn)}}@keyframes sk-rotate-data-v-fae14316{to{transform:rotate(1turn)}}@-moz-keyframes sk-bounce-data-v-fae14316{0%,to{transform:scale(0)}50%{transform:scale(1)}}@-webkit-keyframes sk-bounce-data-v-fae14316{0%,to{transform:scale(0)}50%{transform:scale(1)}}@-o-keyframes sk-bounce-data-v-fae14316{0%,to{transform:scale(0)}50%{transform:scale(1)}}@keyframes sk-bounce-data-v-fae14316{0%,to{transform:scale(0)}50%{transform:scale(1)}}.mk-drive>.dropzone[data-v-fae14316]{position:absolute;left:0;top:38px;width:100%;height:calc(100% - 38px);border:2px dashed var(--primaryAlpha05);pointer-events:none}.mk-drive>.mk-uploader[data-v-fae14316]{height:100px;padding:16px}.mk-drive>input[data-v-fae14316]{display:none}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mk-drive\"},[_c('nav',[_c('div',{staticClass:\"path\",on:{\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();return (function () {})($event)}}},[_c('x-nav-folder',{class:{ current: _vm.folder == null }}),_vm._l((_vm.hierarchyFolders),function(folder){return [_c('span',{staticClass:\"separator\"},[_c('fa',{attrs:{\"icon\":\"angle-right\"}})],1),_c('x-nav-folder',{key:folder.id,attrs:{\"folder\":folder}})]}),(_vm.folder != null)?_c('span',{staticClass:\"separator\"},[_c('fa',{attrs:{\"icon\":\"angle-right\"}})],1):_vm._e(),(_vm.folder != null)?_c('span',{staticClass:\"folder current\"},[_vm._v(_vm._s(_vm.folder.name))]):_vm._e()],2)]),_c('div',{ref:\"main\",staticClass:\"main\",class:{ uploading: _vm.uploadings.length > 0, fetching: _vm.fetching },on:{\"mousedown\":_vm.onMousedown,\"dragover\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.onDragover($event)},\"dragenter\":_vm.onDragenter,\"dragleave\":_vm.onDragleave,\"drop\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.onDrop($event)},\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.onContextmenu($event)}}},[_c('div',{ref:\"selection\",staticClass:\"selection\"}),_c('div',{ref:\"contents\",staticClass:\"contents\"},[(_vm.folders.length > 0 || _vm.moreFolders)?_c('div',{ref:\"foldersContainer\",staticClass:\"folders\"},[_vm._l((_vm.folders),function(folder){return _c('x-folder',{key:folder.id,staticClass:\"folder\",attrs:{\"folder\":folder}})}),_vm._l((16),function(n){return _c('div',{staticClass:\"padding\"})}),(_vm.moreFolders)?_c('ui-button',[_vm._v(_vm._s(_vm.$t('@.load-more')))]):_vm._e()],2):_vm._e(),(_vm.files.length > 0 || _vm.moreFiles)?_c('div',{ref:\"filesContainer\",staticClass:\"files\"},[_vm._l((_vm.files),function(file){return _c('x-file',{key:file.id,staticClass:\"file\",attrs:{\"file\":file}})}),_vm._l((16),function(n){return _c('div',{staticClass:\"padding\"})}),(_vm.moreFiles)?_c('ui-button',{on:{\"click\":_vm.fetchMoreFiles}},[_vm._v(_vm._s(_vm.$t('@.load-more')))]):_vm._e()],2):_vm._e(),(_vm.files.length == 0 && !_vm.moreFiles && _vm.folders.length == 0 && !_vm.moreFolders && !_vm.fetching)?_c('div',{staticClass:\"empty\"},[(_vm.draghover)?_c('p',[_vm._v(_vm._s(_vm.$t('empty-draghover')))]):_vm._e(),(!_vm.draghover && _vm.folder == null)?_c('p',[_c('strong',[_vm._v(_vm._s(_vm.$t('empty-drive')))]),_c('br'),_vm._v(_vm._s(_vm.$t('empty-drive-description')))]):_vm._e(),(!_vm.draghover && _vm.folder != null)?_c('p',[_vm._v(_vm._s(_vm.$t('empty-folder')))]):_vm._e()]):_vm._e()]),(_vm.fetching)?_c('div',{staticClass:\"fetching\"},[_vm._m(0)]):_vm._e()]),(_vm.draghover)?_c('div',{staticClass:\"dropzone\"}):_vm._e(),_c('mk-uploader',{ref:\"uploader\",on:{\"change\":_vm.onChangeUploaderUploads,\"uploaded\":_vm.onUploaderUploaded}}),_c('input',{ref:\"fileInput\",attrs:{\"type\":\"file\",\"accept\":\"*/*\",\"multiple\":\"multiple\",\"tabindex\":\"-1\"},on:{\"change\":_vm.onChangeFileInput}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"spinner\"},[_c('div',{staticClass:\"dot1\"}),_c('div',{staticClass:\"dot2\"})])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/ts-loader/index.js??ref--5-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./drive.nav-folder.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/ts-loader/index.js??ref--5-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./drive.nav-folder.vue?vue&type=script&lang=ts&\"","import Vue from 'vue';\nimport i18n from '../../../i18n';\nexport default Vue.extend({\n    i18n: i18n(),\n    props: ['folder'],\n    data() {\n        return {\n            hover: false,\n            draghover: false\n        };\n    },\n    computed: {\n        browser() {\n            return this.$parent;\n        }\n    },\n    methods: {\n        onClick() {\n            this.browser.move(this.folder);\n        },\n        onMouseover() {\n            this.hover = true;\n        },\n        onMouseout() {\n            this.hover = false;\n        },\n        onDragover(e) {\n            // このフォルダがルートかつカレントディレクトリならドロップ禁止\n            if (this.folder == null && this.browser.folder == null) {\n                e.dataTransfer.dropEffect = 'none';\n            }\n            const isFile = e.dataTransfer.items[0].kind == 'file';\n            const isDriveFile = e.dataTransfer.types[0] == 'mk_drive_file';\n            const isDriveFolder = e.dataTransfer.types[0] == 'mk_drive_folder';\n            if (isFile || isDriveFile || isDriveFolder) {\n                e.dataTransfer.dropEffect = e.dataTransfer.effectAllowed == 'all' ? 'copy' : 'move';\n            }\n            else {\n                e.dataTransfer.dropEffect = 'none';\n            }\n            return false;\n        },\n        onDragenter() {\n            if (this.folder || this.browser.folder)\n                this.draghover = true;\n        },\n        onDragleave() {\n            if (this.folder || this.browser.folder)\n                this.draghover = false;\n        },\n        onDrop(e) {\n            this.draghover = false;\n            // ファイルだったら\n            if (e.dataTransfer.files.length > 0) {\n                for (const file of Array.from(e.dataTransfer.files)) {\n                    this.browser.upload(file, this.folder);\n                }\n                return;\n            }\n            //#region ドライブのファイル\n            const driveFile = e.dataTransfer.getData('mk_drive_file');\n            if (driveFile != null && driveFile != '') {\n                const file = JSON.parse(driveFile);\n                this.browser.removeFile(file.id);\n                this.$root.api('drive/files/update', {\n                    fileId: file.id,\n                    folderId: this.folder ? this.folder.id : null\n                });\n            }\n            //#endregion\n            //#region ドライブのフォルダ\n            const driveFolder = e.dataTransfer.getData('mk_drive_folder');\n            if (driveFolder != null && driveFolder != '') {\n                const folder = JSON.parse(driveFolder);\n                // 移動先が自分自身ならreject\n                if (this.folder && folder.id == this.folder.id)\n                    return;\n                this.browser.removeFolder(folder.id);\n                this.$root.api('drive/folders/update', {\n                    folderId: folder.id,\n                    parentId: this.folder ? this.folder.id : null\n                });\n            }\n            //#endregion\n        }\n    }\n});\n","import { render, staticRenderFns } from \"./drive.nav-folder.vue?vue&type=template&id=bc9dcd2c&scoped=true&\"\nimport script from \"./drive.nav-folder.vue?vue&type=script&lang=ts&\"\nexport * from \"./drive.nav-folder.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./drive.nav-folder.vue?vue&type=style&index=0&id=bc9dcd2c&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bc9dcd2c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"root nav-folder\",attrs:{\"data-draghover\":_vm.draghover},on:{\"click\":_vm.onClick,\"dragover\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.onDragover($event)},\"dragenter\":_vm.onDragenter,\"dragleave\":_vm.onDragleave,\"drop\":function($event){$event.stopPropagation();return _vm.onDrop($event)}}},[(_vm.folder == null)?_c('i',{staticClass:\"cloud\"},[_c('fa',{attrs:{\"icon\":\"cloud\"}})],1):_vm._e(),_c('span',[_vm._v(_vm._s(_vm.folder == null ? _vm.$t('@.drive') : _vm.folder.name))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/ts-loader/index.js??ref--5-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./drive.folder.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/ts-loader/index.js??ref--5-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./drive.folder.vue?vue&type=script&lang=ts&\"","import Vue from 'vue';\nimport i18n from '../../../i18n';\nexport default Vue.extend({\n    i18n: i18n('desktop/views/components/drive.folder.vue'),\n    props: ['folder'],\n    data() {\n        return {\n            hover: false,\n            draghover: false,\n            isDragging: false,\n            isContextmenuShowing: false\n        };\n    },\n    computed: {\n        browser() {\n            return this.$parent;\n        },\n        title() {\n            return this.folder.name;\n        }\n    },\n    methods: {\n        onClick() {\n            this.browser.move(this.folder);\n        },\n        onContextmenu(e) {\n            this.isContextmenuShowing = true;\n            this.$contextmenu(e, [{\n                    type: 'item',\n                    text: this.$t('contextmenu.move-to-this-folder'),\n                    icon: 'arrow-right',\n                    action: this.go\n                }, {\n                    type: 'item',\n                    text: this.$t('contextmenu.show-in-new-window'),\n                    icon: ['far', 'window-restore'],\n                    action: this.newWindow\n                }, null, {\n                    type: 'item',\n                    text: this.$t('contextmenu.rename'),\n                    icon: 'i-cursor',\n                    action: this.rename\n                }, null, {\n                    type: 'item',\n                    text: this.$t('@.delete'),\n                    icon: ['far', 'trash-alt'],\n                    action: this.deleteFolder\n                }, null, {\n                    type: 'nest',\n                    text: this.$t('contextmenu.else-folders'),\n                    menu: [{\n                            type: 'item',\n                            text: this.$t('contextmenu.set-as-upload-folder'),\n                            action: this.setAsUploadFolder\n                        }]\n                }], {\n                closed: () => {\n                    this.isContextmenuShowing = false;\n                }\n            });\n        },\n        onMouseover() {\n            this.hover = true;\n        },\n        onMouseout() {\n            this.hover = false;\n        },\n        onDragover(e) {\n            // 自分自身がドラッグされている場合\n            if (this.isDragging) {\n                // 自分自身にはドロップさせない\n                e.dataTransfer.dropEffect = 'none';\n                return;\n            }\n            const isFile = e.dataTransfer.items[0].kind == 'file';\n            const isDriveFile = e.dataTransfer.types[0] == 'mk_drive_file';\n            const isDriveFolder = e.dataTransfer.types[0] == 'mk_drive_folder';\n            if (isFile || isDriveFile || isDriveFolder) {\n                e.dataTransfer.dropEffect = e.dataTransfer.effectAllowed == 'all' ? 'copy' : 'move';\n            }\n            else {\n                e.dataTransfer.dropEffect = 'none';\n            }\n        },\n        onDragenter() {\n            if (!this.isDragging)\n                this.draghover = true;\n        },\n        onDragleave() {\n            this.draghover = false;\n        },\n        onDrop(e) {\n            this.draghover = false;\n            // ファイルだったら\n            if (e.dataTransfer.files.length > 0) {\n                for (const file of Array.from(e.dataTransfer.files)) {\n                    this.browser.upload(file, this.folder);\n                }\n                return;\n            }\n            //#region ドライブのファイル\n            const driveFile = e.dataTransfer.getData('mk_drive_file');\n            if (driveFile != null && driveFile != '') {\n                const file = JSON.parse(driveFile);\n                this.browser.removeFile(file.id);\n                this.$root.api('drive/files/update', {\n                    fileId: file.id,\n                    folderId: this.folder.id\n                });\n            }\n            //#endregion\n            //#region ドライブのフォルダ\n            const driveFolder = e.dataTransfer.getData('mk_drive_folder');\n            if (driveFolder != null && driveFolder != '') {\n                const folder = JSON.parse(driveFolder);\n                // 移動先が自分自身ならreject\n                if (folder.id == this.folder.id)\n                    return;\n                this.browser.removeFolder(folder.id);\n                this.$root.api('drive/folders/update', {\n                    folderId: folder.id,\n                    parentId: this.folder.id\n                }).then(() => {\n                    // noop\n                }).catch(err => {\n                    switch (err) {\n                        case 'detected-circular-definition':\n                            this.$root.dialog({\n                                title: this.$t('unable-to-process'),\n                                text: this.$t('circular-reference-detected')\n                            });\n                            break;\n                        default:\n                            this.$root.dialog({\n                                type: 'error',\n                                text: this.$t('unhandled-error')\n                            });\n                    }\n                });\n            }\n            //#endregion\n        },\n        onDragstart(e) {\n            e.dataTransfer.effectAllowed = 'move';\n            e.dataTransfer.setData('mk_drive_folder', JSON.stringify(this.folder));\n            this.isDragging = true;\n            // 親ブラウザに対して、ドラッグが開始されたフラグを立てる\n            // (=あなたの子供が、ドラッグを開始しましたよ)\n            this.browser.isDragSource = true;\n        },\n        onDragend() {\n            this.isDragging = false;\n            this.browser.isDragSource = false;\n        },\n        go() {\n            this.browser.move(this.folder.id);\n        },\n        newWindow() {\n            this.browser.newWindow(this.folder);\n        },\n        rename() {\n            this.$root.dialog({\n                title: this.$t('contextmenu.rename-folder'),\n                input: {\n                    placeholder: this.$t('contextmenu.input-new-folder-name'),\n                    default: this.folder.name\n                }\n            }).then(({ canceled, result: name }) => {\n                if (canceled)\n                    return;\n                this.$root.api('drive/folders/update', {\n                    folderId: this.folder.id,\n                    name: name\n                });\n            });\n        },\n        deleteFolder() {\n            this.$root.api('drive/folders/delete', {\n                folderId: this.folder.id\n            }).then(() => {\n                if (this.$store.state.settings.uploadFolder === this.folder.id) {\n                    this.$store.dispatch('settings/set', {\n                        key: 'uploadFolder',\n                        value: null\n                    });\n                }\n            }).catch(err => {\n                switch (err.id) {\n                    case 'b0fc8a17-963c-405d-bfbc-859a487295e1':\n                        this.$root.dialog({\n                            type: 'error',\n                            title: this.$t('unable-to-delete'),\n                            text: this.$t('has-child-files-or-folders')\n                        });\n                        break;\n                    default:\n                        this.$root.dialog({\n                            type: 'error',\n                            text: this.$t('unable-to-delete')\n                        });\n                }\n            });\n        },\n        setAsUploadFolder() {\n            this.$store.dispatch('settings/set', {\n                key: 'uploadFolder',\n                value: this.folder.id\n            });\n        },\n    }\n});\n","import { render, staticRenderFns } from \"./drive.folder.vue?vue&type=template&id=009c4c3a&scoped=true&\"\nimport script from \"./drive.folder.vue?vue&type=script&lang=ts&\"\nexport * from \"./drive.folder.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./drive.folder.vue?vue&type=style&index=0&id=009c4c3a&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"009c4c3a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ynntpczxvnusfwdyxsfuhvcmuypqopdd\",attrs:{\"data-is-contextmenu-showing\":_vm.isContextmenuShowing,\"data-draghover\":_vm.draghover,\"draggable\":\"true\",\"title\":_vm.title},on:{\"click\":_vm.onClick,\"mouseover\":_vm.onMouseover,\"mouseout\":_vm.onMouseout,\"dragover\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.onDragover($event)},\"dragenter\":function($event){$event.preventDefault();return _vm.onDragenter($event)},\"dragleave\":_vm.onDragleave,\"drop\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.onDrop($event)},\"dragstart\":_vm.onDragstart,\"dragend\":_vm.onDragend,\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.onContextmenu($event)}}},[_c('p',{staticClass:\"name\"},[(_vm.hover)?[_c('fa',{attrs:{\"icon\":['far', 'folder-open'],\"fixed-width\":\"\"}})]:_vm._e(),(!_vm.hover)?[_c('fa',{attrs:{\"icon\":['far', 'folder'],\"fixed-width\":\"\"}})]:_vm._e(),_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.folder.name)+\"\\n\\t\")],2),(_vm.$store.state.settings.uploadFolder == _vm.folder.id)?_c('p',{staticClass:\"upload\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.$t('upload-folder'))+\"\\n\\t\")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/ts-loader/index.js??ref--5-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./drive.file.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/ts-loader/index.js??ref--5-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./drive.file.vue?vue&type=script&lang=ts&\"","import Vue from 'vue';\nimport i18n from '../../../i18n';\nimport copyToClipboard from '../../../common/scripts/copy-to-clipboard';\nimport updateAvatar from '../../api/update-avatar';\nimport updateBanner from '../../api/update-banner';\nimport XFileThumbnail from '../../../common/views/components/drive-file-thumbnail.vue';\nexport default Vue.extend({\n    i18n: i18n('desktop/views/components/drive.file.vue'),\n    props: ['file'],\n    components: {\n        XFileThumbnail\n    },\n    data() {\n        return {\n            isContextmenuShowing: false,\n            isDragging: false\n        };\n    },\n    computed: {\n        browser() {\n            return this.$parent;\n        },\n        isSelected() {\n            return this.browser.selectedFiles.some(f => f.id == this.file.id);\n        },\n        title() {\n            return `${this.file.name}\\n${this.file.type} ${Vue.filter('bytes')(this.file.size)}`;\n        }\n    },\n    methods: {\n        onClick() {\n            this.browser.chooseFile(this.file);\n        },\n        onContextmenu(e) {\n            this.isContextmenuShowing = true;\n            this.$contextmenu(e, [{\n                    type: 'item',\n                    text: this.$t('contextmenu.rename'),\n                    icon: 'i-cursor',\n                    action: this.rename\n                }, {\n                    type: 'item',\n                    text: this.file.isSensitive ? this.$t('contextmenu.unmark-as-sensitive') : this.$t('contextmenu.mark-as-sensitive'),\n                    icon: this.file.isSensitive ? ['far', 'eye'] : ['far', 'eye-slash'],\n                    action: this.toggleSensitive\n                }, null, {\n                    type: 'item',\n                    text: this.$t('contextmenu.copy-url'),\n                    icon: 'link',\n                    action: this.copyUrl\n                }, {\n                    type: 'link',\n                    href: this.file.url,\n                    target: '_blank',\n                    text: this.$t('contextmenu.download'),\n                    icon: 'download',\n                    download: this.file.name\n                }, null, {\n                    type: 'item',\n                    text: this.$t('@.delete'),\n                    icon: ['far', 'trash-alt'],\n                    action: this.deleteFile\n                }, null, {\n                    type: 'nest',\n                    text: this.$t('contextmenu.else-files'),\n                    menu: [{\n                            type: 'item',\n                            text: this.$t('contextmenu.set-as-avatar'),\n                            action: this.setAsAvatar\n                        }, {\n                            type: 'item',\n                            text: this.$t('contextmenu.set-as-banner'),\n                            action: this.setAsBanner\n                        }]\n                },\n            ], {\n                closed: () => {\n                    this.isContextmenuShowing = false;\n                }\n            });\n        },\n        onDragstart(e) {\n            e.dataTransfer.effectAllowed = 'move';\n            e.dataTransfer.setData('mk_drive_file', JSON.stringify(this.file));\n            this.isDragging = true;\n            // 親ブラウザに対して、ドラッグが開始されたフラグを立てる\n            // (=あなたの子供が、ドラッグを開始しましたよ)\n            this.browser.isDragSource = true;\n        },\n        onDragend(e) {\n            this.isDragging = false;\n            this.browser.isDragSource = false;\n        },\n        onThumbnailLoaded() {\n            if (this.file.properties.avgColor) {\n                anime({\n                    targets: this.$refs.thumbnail,\n                    backgroundColor: 'transparent',\n                    duration: 100,\n                    easing: 'linear'\n                });\n            }\n        },\n        rename() {\n            this.$root.dialog({\n                title: this.$t('contextmenu.rename-file'),\n                input: {\n                    placeholder: this.$t('contextmenu.input-new-file-name'),\n                    default: this.file.name,\n                    allowEmpty: false\n                }\n            }).then(({ canceled, result: name }) => {\n                if (canceled)\n                    return;\n                this.$root.api('drive/files/update', {\n                    fileId: this.file.id,\n                    name: name\n                });\n            });\n        },\n        toggleSensitive() {\n            this.$root.api('drive/files/update', {\n                fileId: this.file.id,\n                isSensitive: !this.file.isSensitive\n            });\n        },\n        copyUrl() {\n            copyToClipboard(this.file.url);\n            this.$root.dialog({\n                title: this.$t('contextmenu.copied'),\n                text: this.$t('contextmenu.copied-url-to-clipboard')\n            });\n        },\n        setAsAvatar() {\n            updateAvatar(this.$root)(this.file);\n        },\n        setAsBanner() {\n            updateBanner(this.$root)(this.file);\n        },\n        addApp() {\n            alert('not implemented yet');\n        },\n        deleteFile() {\n            this.$root.api('drive/files/delete', {\n                fileId: this.file.id\n            });\n        }\n    }\n});\n","import { render, staticRenderFns } from \"./drive.file.vue?vue&type=template&id=42183f7b&scoped=true&\"\nimport script from \"./drive.file.vue?vue&type=script&lang=ts&\"\nexport * from \"./drive.file.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./drive.file.vue?vue&type=style&index=0&id=42183f7b&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42183f7b\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"gvfdktuvdgwhmztnuekzkswkjygptfcv\",attrs:{\"data-is-selected\":_vm.isSelected,\"data-is-contextmenu-showing\":_vm.isContextmenuShowing,\"draggable\":\"true\",\"title\":_vm.title},on:{\"click\":_vm.onClick,\"dragstart\":_vm.onDragstart,\"dragend\":_vm.onDragend,\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.onContextmenu($event)}}},[(_vm.$store.state.i.avatarId == _vm.file.id)?_c('div',{staticClass:\"label\"},[_c('img',{attrs:{\"src\":\"/assets/label.svg\"}}),_c('p',[_vm._v(_vm._s(_vm.$t('avatar')))])]):_vm._e(),(_vm.$store.state.i.bannerId == _vm.file.id)?_c('div',{staticClass:\"label\"},[_c('img',{attrs:{\"src\":\"/assets/label.svg\"}}),_c('p',[_vm._v(_vm._s(_vm.$t('banner')))])]):_vm._e(),(_vm.file.isSensitive)?_c('div',{staticClass:\"label red\"},[_c('img',{attrs:{\"src\":\"/assets/label-red.svg\"}}),_c('p',[_vm._v(_vm._s(_vm.$t('nsfw')))])]):_vm._e(),_c('x-file-thumbnail',{staticClass:\"thumbnail\",attrs:{\"file\":_vm.file,\"fit\":\"contain\"}}),_c('p',{staticClass:\"name\"},[_c('span',[_vm._v(_vm._s(_vm.file.name.lastIndexOf('.') != -1 ? _vm.file.name.substr(0, _vm.file.name.lastIndexOf('.')) : _vm.file.name))]),(_vm.file.name.lastIndexOf('.') != -1)?_c('span',{staticClass:\"ext\"},[_vm._v(_vm._s(_vm.file.name.substr(_vm.file.name.lastIndexOf('.'))))]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/ts-loader/index.js??ref--5-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./drive.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/ts-loader/index.js??ref--5-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./drive.vue?vue&type=script&lang=ts&\"","import Vue from 'vue';\nimport i18n from '../../../i18n';\nimport MkDriveWindow from './drive-window.vue';\nimport XNavFolder from './drive.nav-folder.vue';\nimport XFolder from './drive.folder.vue';\nimport XFile from './drive.file.vue';\nimport contains from '../../../common/scripts/contains';\nimport { url } from '../../../config';\nimport { faCloudUploadAlt } from '@fortawesome/free-solid-svg-icons';\nexport default Vue.extend({\n    i18n: i18n('desktop/views/components/drive.vue'),\n    components: {\n        XNavFolder,\n        XFolder,\n        XFile\n    },\n    props: {\n        initFolder: {\n            type: Object,\n            required: false\n        },\n        type: {\n            type: String,\n            required: false,\n            default: undefined\n        },\n        multiple: {\n            type: Boolean,\n            default: false\n        }\n    },\n    data() {\n        return {\n            /**\n             * 現在の階層(フォルダ)\n             * * null でルートを表す\n             */\n            folder: null,\n            files: [],\n            folders: [],\n            moreFiles: false,\n            moreFolders: false,\n            hierarchyFolders: [],\n            selectedFiles: [],\n            uploadings: [],\n            connection: null,\n            /**\n             * ドロップされようとしているか\n             */\n            draghover: false,\n            /**\n             * 自信の所有するアイテムがドラッグをスタートさせたか\n             * (自分自身の階層にドロップできないようにするためのフラグ)\n             */\n            isDragSource: false,\n            fetching: true\n        };\n    },\n    mounted() {\n        this.connection = this.$root.stream.useSharedConnection('drive');\n        this.connection.on('fileCreated', this.onStreamDriveFileCreated);\n        this.connection.on('fileUpdated', this.onStreamDriveFileUpdated);\n        this.connection.on('fileDeleted', this.onStreamDriveFileDeleted);\n        this.connection.on('folderCreated', this.onStreamDriveFolderCreated);\n        this.connection.on('folderUpdated', this.onStreamDriveFolderUpdated);\n        this.connection.on('folderDeleted', this.onStreamDriveFolderDeleted);\n        if (this.initFolder) {\n            this.move(this.initFolder);\n        }\n        else {\n            this.fetch();\n        }\n    },\n    beforeDestroy() {\n        this.connection.dispose();\n    },\n    methods: {\n        onContextmenu(e) {\n            this.$contextmenu(e, [{\n                    type: 'item',\n                    text: this.$t('contextmenu.create-folder'),\n                    icon: ['far', 'folder'],\n                    action: this.createFolder\n                }, {\n                    type: 'item',\n                    text: this.$t('contextmenu.upload'),\n                    icon: 'upload',\n                    action: this.selectLocalFile\n                }, {\n                    type: 'item',\n                    text: this.$t('contextmenu.url-upload'),\n                    icon: faCloudUploadAlt,\n                    action: this.urlUpload\n                }]);\n        },\n        onStreamDriveFileCreated(file) {\n            this.addFile(file, true);\n        },\n        onStreamDriveFileUpdated(file) {\n            const current = this.folder ? this.folder.id : null;\n            if (current != file.folderId) {\n                this.removeFile(file);\n            }\n            else {\n                this.addFile(file, true);\n            }\n        },\n        onStreamDriveFileDeleted(fileId) {\n            this.removeFile(fileId);\n        },\n        onStreamDriveFolderCreated(folder) {\n            this.addFolder(folder, true);\n        },\n        onStreamDriveFolderUpdated(folder) {\n            const current = this.folder ? this.folder.id : null;\n            if (current != folder.parentId) {\n                this.removeFolder(folder);\n            }\n            else {\n                this.addFolder(folder, true);\n            }\n        },\n        onStreamDriveFolderDeleted(folderId) {\n            this.removeFolder(folderId);\n        },\n        onChangeUploaderUploads(uploads) {\n            this.uploadings = uploads;\n        },\n        onUploaderUploaded(file) {\n            this.addFile(file, true);\n        },\n        onMousedown(e) {\n            if (contains(this.$refs.foldersContainer, e.target) || contains(this.$refs.filesContainer, e.target))\n                return true;\n            const main = this.$refs.main;\n            const selection = this.$refs.selection;\n            const rect = main.getBoundingClientRect();\n            const left = e.pageX + main.scrollLeft - rect.left - window.pageXOffset;\n            const top = e.pageY + main.scrollTop - rect.top - window.pageYOffset;\n            const move = e => {\n                selection.style.display = 'block';\n                const cursorX = e.pageX + main.scrollLeft - rect.left - window.pageXOffset;\n                const cursorY = e.pageY + main.scrollTop - rect.top - window.pageYOffset;\n                const w = cursorX - left;\n                const h = cursorY - top;\n                if (w > 0) {\n                    selection.style.width = w + 'px';\n                    selection.style.left = left + 'px';\n                }\n                else {\n                    selection.style.width = -w + 'px';\n                    selection.style.left = cursorX + 'px';\n                }\n                if (h > 0) {\n                    selection.style.height = h + 'px';\n                    selection.style.top = top + 'px';\n                }\n                else {\n                    selection.style.height = -h + 'px';\n                    selection.style.top = cursorY + 'px';\n                }\n            };\n            const up = e => {\n                document.documentElement.removeEventListener('mousemove', move);\n                document.documentElement.removeEventListener('mouseup', up);\n                selection.style.display = 'none';\n            };\n            document.documentElement.addEventListener('mousemove', move);\n            document.documentElement.addEventListener('mouseup', up);\n        },\n        onDragover(e) {\n            // ドラッグ元が自分自身の所有するアイテムだったら\n            if (this.isDragSource) {\n                // 自分自身にはドロップさせない\n                e.dataTransfer.dropEffect = 'none';\n                return;\n            }\n            const isFile = e.dataTransfer.items[0].kind == 'file';\n            const isDriveFile = e.dataTransfer.types[0] == 'mk_drive_file';\n            const isDriveFolder = e.dataTransfer.types[0] == 'mk_drive_folder';\n            if (isFile || isDriveFile || isDriveFolder) {\n                e.dataTransfer.dropEffect = e.dataTransfer.effectAllowed == 'all' ? 'copy' : 'move';\n            }\n            else {\n                e.dataTransfer.dropEffect = 'none';\n            }\n            return false;\n        },\n        onDragenter(e) {\n            if (!this.isDragSource)\n                this.draghover = true;\n        },\n        onDragleave(e) {\n            this.draghover = false;\n        },\n        onDrop(e) {\n            this.draghover = false;\n            // ドロップされてきたものがファイルだったら\n            if (e.dataTransfer.files.length > 0) {\n                for (const file of Array.from(e.dataTransfer.files)) {\n                    this.upload(file, this.folder);\n                }\n                return;\n            }\n            //#region ドライブのファイル\n            const driveFile = e.dataTransfer.getData('mk_drive_file');\n            if (driveFile != null && driveFile != '') {\n                const file = JSON.parse(driveFile);\n                if (this.files.some(f => f.id == file.id))\n                    return;\n                this.removeFile(file.id);\n                this.$root.api('drive/files/update', {\n                    fileId: file.id,\n                    folderId: this.folder ? this.folder.id : null\n                });\n            }\n            //#endregion\n            //#region ドライブのフォルダ\n            const driveFolder = e.dataTransfer.getData('mk_drive_folder');\n            if (driveFolder != null && driveFolder != '') {\n                const folder = JSON.parse(driveFolder);\n                // 移動先が自分自身ならreject\n                if (this.folder && folder.id == this.folder.id)\n                    return false;\n                if (this.folders.some(f => f.id == folder.id))\n                    return false;\n                this.removeFolder(folder.id);\n                this.$root.api('drive/folders/update', {\n                    folderId: folder.id,\n                    parentId: this.folder ? this.folder.id : null\n                }).then(() => {\n                    // noop\n                }).catch(err => {\n                    switch (err) {\n                        case 'detected-circular-definition':\n                            this.$root.dialog({\n                                title: this.$t('unable-to-process'),\n                                text: this.$t('circular-reference-detected')\n                            });\n                            break;\n                        default:\n                            this.$root.dialog({\n                                type: 'error',\n                                text: this.$t('unhandled-error')\n                            });\n                    }\n                });\n            }\n            //#endregion\n        },\n        selectLocalFile() {\n            this.$refs.fileInput.click();\n        },\n        urlUpload() {\n            this.$root.dialog({\n                title: this.$t('url-upload'),\n                input: {\n                    placeholder: this.$t('url-of-file')\n                }\n            }).then(({ canceled, result: url }) => {\n                if (canceled)\n                    return;\n                this.$root.api('drive/files/upload_from_url', {\n                    url: url,\n                    folderId: this.folder ? this.folder.id : undefined\n                });\n                this.$root.dialog({\n                    title: this.$t('url-upload-requested'),\n                    text: this.$t('may-take-time')\n                });\n            });\n        },\n        createFolder() {\n            this.$root.dialog({\n                title: this.$t('create-folder'),\n                input: {\n                    placeholder: this.$t('folder-name')\n                }\n            }).then(({ canceled, result: name }) => {\n                if (canceled)\n                    return;\n                this.$root.api('drive/folders/create', {\n                    name: name,\n                    parentId: this.folder ? this.folder.id : undefined\n                }).then(folder => {\n                    this.addFolder(folder, true);\n                });\n            });\n        },\n        onChangeFileInput() {\n            for (const file of Array.from(this.$refs.fileInput.files)) {\n                this.upload(file, this.folder);\n            }\n        },\n        upload(file, folder) {\n            if (folder && typeof folder == 'object')\n                folder = folder.id;\n            this.$refs.uploader.upload(file, folder);\n        },\n        chooseFile(file) {\n            const isAlreadySelected = this.selectedFiles.some(f => f.id == file.id);\n            if (this.multiple) {\n                if (isAlreadySelected) {\n                    this.selectedFiles = this.selectedFiles.filter(f => f.id != file.id);\n                }\n                else {\n                    this.selectedFiles.push(file);\n                }\n                this.$emit('change-selection', this.selectedFiles);\n            }\n            else {\n                if (isAlreadySelected) {\n                    this.$emit('selected', file);\n                }\n                else {\n                    this.selectedFiles = [file];\n                    this.$emit('change-selection', [file]);\n                }\n            }\n        },\n        newWindow(folder) {\n            if (document.body.clientWidth > 800) {\n                this.$root.new(MkDriveWindow, {\n                    folder: folder\n                });\n            }\n            else {\n                window.open(`${url}/i/drive/folder/${folder.id}`, 'drive_window', 'height=500, width=800');\n            }\n        },\n        move(target) {\n            if (target == null) {\n                this.goRoot();\n                return;\n            }\n            else if (typeof target == 'object') {\n                target = target.id;\n            }\n            this.fetching = true;\n            this.$root.api('drive/folders/show', {\n                folderId: target\n            }).then(folder => {\n                this.folder = folder;\n                this.hierarchyFolders = [];\n                const dive = folder => {\n                    this.hierarchyFolders.unshift(folder);\n                    if (folder.parent)\n                        dive(folder.parent);\n                };\n                if (folder.parent)\n                    dive(folder.parent);\n                this.$emit('open-folder', folder);\n                this.fetch();\n            });\n        },\n        addFolder(folder, unshift = false) {\n            const current = this.folder ? this.folder.id : null;\n            if (current != folder.parentId)\n                return;\n            if (this.folders.some(f => f.id == folder.id)) {\n                const exist = this.folders.map(f => f.id).indexOf(folder.id);\n                Vue.set(this.folders, exist, folder);\n                return;\n            }\n            if (unshift) {\n                this.folders.unshift(folder);\n            }\n            else {\n                this.folders.push(folder);\n            }\n        },\n        addFile(file, unshift = false) {\n            const current = this.folder ? this.folder.id : null;\n            if (current != file.folderId)\n                return;\n            if (this.files.some(f => f.id == file.id)) {\n                const exist = this.files.map(f => f.id).indexOf(file.id);\n                Vue.set(this.files, exist, file);\n                return;\n            }\n            if (unshift) {\n                this.files.unshift(file);\n            }\n            else {\n                this.files.push(file);\n            }\n        },\n        removeFolder(folder) {\n            if (typeof folder == 'object')\n                folder = folder.id;\n            this.folders = this.folders.filter(f => f.id != folder);\n        },\n        removeFile(file) {\n            if (typeof file == 'object')\n                file = file.id;\n            this.files = this.files.filter(f => f.id != file);\n        },\n        appendFile(file) {\n            this.addFile(file);\n        },\n        appendFolder(folder) {\n            this.addFolder(folder);\n        },\n        prependFile(file) {\n            this.addFile(file, true);\n        },\n        prependFolder(folder) {\n            this.addFolder(folder, true);\n        },\n        goRoot() {\n            // 既にrootにいるなら何もしない\n            if (this.folder == null)\n                return;\n            this.folder = null;\n            this.hierarchyFolders = [];\n            this.$emit('move-root');\n            this.fetch();\n        },\n        fetch() {\n            this.folders = [];\n            this.files = [];\n            this.moreFolders = false;\n            this.moreFiles = false;\n            this.fetching = true;\n            let fetchedFolders = null;\n            let fetchedFiles = null;\n            const foldersMax = 30;\n            const filesMax = 30;\n            // フォルダ一覧取得\n            this.$root.api('drive/folders', {\n                folderId: this.folder ? this.folder.id : null,\n                limit: foldersMax + 1\n            }).then(folders => {\n                if (folders.length == foldersMax + 1) {\n                    this.moreFolders = true;\n                    folders.pop();\n                }\n                fetchedFolders = folders;\n                complete();\n            });\n            // ファイル一覧取得\n            this.$root.api('drive/files', {\n                folderId: this.folder ? this.folder.id : null,\n                type: this.type,\n                limit: filesMax + 1\n            }).then(files => {\n                if (files.length == filesMax + 1) {\n                    this.moreFiles = true;\n                    files.pop();\n                }\n                fetchedFiles = files;\n                complete();\n            });\n            let flag = false;\n            const complete = () => {\n                if (flag) {\n                    for (const x of fetchedFolders)\n                        this.appendFolder(x);\n                    for (const x of fetchedFiles)\n                        this.appendFile(x);\n                    this.fetching = false;\n                }\n                else {\n                    flag = true;\n                }\n            };\n        },\n        fetchMoreFiles() {\n            this.fetching = true;\n            const max = 30;\n            // ファイル一覧取得\n            this.$root.api('drive/files', {\n                folderId: this.folder ? this.folder.id : null,\n                type: this.type,\n                untilId: this.files[this.files.length - 1].id,\n                limit: max + 1\n            }).then(files => {\n                if (files.length == max + 1) {\n                    this.moreFiles = true;\n                    files.pop();\n                }\n                else {\n                    this.moreFiles = false;\n                }\n                for (const x of files)\n                    this.appendFile(x);\n                this.fetching = false;\n            });\n        }\n    }\n});\n","import { render, staticRenderFns } from \"./drive.vue?vue&type=template&id=fae14316&scoped=true&\"\nimport script from \"./drive.vue?vue&type=script&lang=ts&\"\nexport * from \"./drive.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./drive.vue?vue&type=style&index=0&id=fae14316&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fae14316\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}